import{a as Zt}from"./chunk-Y4OLKW4V.js";import"./chunk-MLQNVX34.js";import"./chunk-IN3EYLOT.js";import{a as Ss,b as Ms}from"./chunk-ZGTR4KLM.js";import{b as hs,c as ms,d as Si,e as Jt,f as kn,g as ws}from"./chunk-77GYT6TU.js";import"./chunk-E6BM7QKP.js";import"./chunk-LFEAMPKA.js";import{a as Os}from"./chunk-OE5TAB7K.js";import{e as Ti,f as Be,g as Fn}from"./chunk-6M4S47P5.js";import"./chunk-DHWZOWGV.js";import"./chunk-IQQILWT5.js";import"./chunk-DRGJOWSF.js";import"./chunk-BYXBJQAS.js";import{a as vs,b as Kt,c as ys,d as Rn,e as Mi,f as aa,g as bs,h as An,i as xs,k as Ei,l as wt,m as Ot,n as Cs,o as Lt,p as St,q as et,r as Pi,t as Ve}from"./chunk-CORW4I6O.js";import"./chunk-CVXY7XBU.js";import{a as Se,c as gs,i as _s}from"./chunk-3R3HMUER.js";import{oa}from"./chunk-ZRYNGCPJ.js";import"./chunk-WKPBOR6A.js";import{a as mt}from"./chunk-WMK6HADQ.js";import{k as mr,m as fs,n as wi,o as Oi,q as ps}from"./chunk-2D6DNJWQ.js";import{$b as Ft,A as Zl,Ab as E,Bb as me,Cb as Re,Fa as ls,Fb as se,Gb as U,Hb as us,I as es,Ib as xi,Jb as ct,Kb as ia,Mb as Fe,Nb as Le,Ob as Ne,Qb as oe,Rb as Ye,Sb as Ue,Tb as Ci,U as ts,Ua as kt,Ub as dr,Vb as fr,Wb as pr,Ya as F,Yb as Ae,Z as ns,Za as _e,Zb as Ze,_ as qt,ab as ra,ac as hr,bc as Dn,c as Yl,ca as rs,da as na,ea as is,eb as ss,f as ea,g as ta,h as Kl,ia as Te,ja as zt,jb as xe,kb as Yt,la as os,lb as ut,mb as Ct,n as Jl,nb as cr,ob as cs,oc as ds,pb as te,qb as ht,ra as Vt,sa as we,sb as ur,ta as Oe,tb as Tn,ub as In,vb as Pe,wb as He,xb as We,ya as ot,yb as $e,za as as,zb as S}from"./chunk-LPSFCYGT.js";import"./chunk-XK3LJZ6K.js";import{a as En,b as Pn,e as ie,g as bi,i as ve}from"./chunk-66YHNWRR.js";var Ts=ie((ox,Ps)=>{"use strict";Ps.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var en=ie(hn=>{"use strict";var la,gf=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];hn.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17};hn.getSymbolTotalCodewords=function(n){return gf[n]};hn.getBCHDigit=function(e){let n=0;for(;e!==0;)n++,e>>>=1;return n};hn.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');la=n};hn.isKanjiModeEnabled=function(){return typeof la<"u"};hn.toSJIS=function(n){return la(n)}});var Ii=ie(Mt=>{"use strict";Mt.L={bit:1};Mt.M={bit:0};Mt.Q={bit:3};Mt.H={bit:2};function _f(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return Mt.L;case"m":case"medium":return Mt.M;case"q":case"quartile":return Mt.Q;case"h":case"high":return Mt.H;default:throw new Error("Unknown EC Level: "+e)}}Mt.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4};Mt.from=function(n,t){if(Mt.isValid(n))return n;try{return _f(n)}catch{return t}}});var Rs=ie((sx,Ds)=>{"use strict";function Is(){this.buffer=[],this.length=0}Is.prototype={get:function(e){let n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let t=0;t<n;t++)this.putBit((e>>>n-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){let n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}};Ds.exports=Is});var ks=ie((cx,As)=>{"use strict";function gr(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}gr.prototype.set=function(e,n,t,r){let i=e*this.size+n;this.data[i]=t,r&&(this.reservedBit[i]=!0)};gr.prototype.get=function(e,n){return this.data[e*this.size+n]};gr.prototype.xor=function(e,n,t){this.data[e*this.size+n]^=t};gr.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]};As.exports=gr});var Fs=ie(Di=>{"use strict";var vf=en().getSymbolSize;Di.getRowColCoords=function(n){if(n===1)return[];let t=Math.floor(n/7)+2,r=vf(n),i=r===145?26:Math.ceil((r-13)/(2*t-2))*2,o=[r-7];for(let a=1;a<t-1;a++)o[a]=o[a-1]-i;return o.push(6),o.reverse()};Di.getPositions=function(n){let t=[],r=Di.getRowColCoords(n),i=r.length;for(let o=0;o<i;o++)for(let a=0;a<i;a++)o===0&&a===0||o===0&&a===i-1||o===i-1&&a===0||t.push([r[o],r[a]]);return t}});var Bs=ie(Ns=>{"use strict";var yf=en().getSymbolSize,Ls=7;Ns.getPositions=function(n){let t=yf(n);return[[0,0],[t-Ls,0],[0,t-Ls]]}});var js=ie(Qe=>{"use strict";Qe.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var mn={N1:3,N2:3,N3:40,N4:10};Qe.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7};Qe.from=function(n){return Qe.isValid(n)?parseInt(n,10):void 0};Qe.getPenaltyN1=function(n){let t=n.size,r=0,i=0,o=0,a=null,s=null;for(let h=0;h<t;h++){i=o=0,a=s=null;for(let w=0;w<t;w++){let O=n.get(h,w);O===a?i++:(i>=5&&(r+=mn.N1+(i-5)),a=O,i=1),O=n.get(w,h),O===s?o++:(o>=5&&(r+=mn.N1+(o-5)),s=O,o=1)}i>=5&&(r+=mn.N1+(i-5)),o>=5&&(r+=mn.N1+(o-5))}return r};Qe.getPenaltyN2=function(n){let t=n.size,r=0;for(let i=0;i<t-1;i++)for(let o=0;o<t-1;o++){let a=n.get(i,o)+n.get(i,o+1)+n.get(i+1,o)+n.get(i+1,o+1);(a===4||a===0)&&r++}return r*mn.N2};Qe.getPenaltyN3=function(n){let t=n.size,r=0,i=0,o=0;for(let a=0;a<t;a++){i=o=0;for(let s=0;s<t;s++)i=i<<1&2047|n.get(a,s),s>=10&&(i===1488||i===93)&&r++,o=o<<1&2047|n.get(s,a),s>=10&&(o===1488||o===93)&&r++}return r*mn.N3};Qe.getPenaltyN4=function(n){let t=0,r=n.data.length;for(let o=0;o<r;o++)t+=n.data[o];return Math.abs(Math.ceil(t*100/r/5)-10)*mn.N4};function bf(e,n,t){switch(e){case Qe.Patterns.PATTERN000:return(n+t)%2===0;case Qe.Patterns.PATTERN001:return n%2===0;case Qe.Patterns.PATTERN010:return t%3===0;case Qe.Patterns.PATTERN011:return(n+t)%3===0;case Qe.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(t/3))%2===0;case Qe.Patterns.PATTERN101:return n*t%2+n*t%3===0;case Qe.Patterns.PATTERN110:return(n*t%2+n*t%3)%2===0;case Qe.Patterns.PATTERN111:return(n*t%3+(n+t)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}Qe.applyMask=function(n,t){let r=t.size;for(let i=0;i<r;i++)for(let o=0;o<r;o++)t.isReserved(o,i)||t.xor(o,i,bf(n,o,i))};Qe.getBestMask=function(n,t){let r=Object.keys(Qe.Patterns).length,i=0,o=1/0;for(let a=0;a<r;a++){t(a),Qe.applyMask(a,n);let s=Qe.getPenaltyN1(n)+Qe.getPenaltyN2(n)+Qe.getPenaltyN3(n)+Qe.getPenaltyN4(n);Qe.applyMask(a,n),s<o&&(o=s,i=a)}return i}});var ca=ie(sa=>{"use strict";var tn=Ii(),Ri=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ai=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];sa.getBlocksCount=function(n,t){switch(t){case tn.L:return Ri[(n-1)*4+0];case tn.M:return Ri[(n-1)*4+1];case tn.Q:return Ri[(n-1)*4+2];case tn.H:return Ri[(n-1)*4+3];default:return}};sa.getTotalCodewordsCount=function(n,t){switch(t){case tn.L:return Ai[(n-1)*4+0];case tn.M:return Ai[(n-1)*4+1];case tn.Q:return Ai[(n-1)*4+2];case tn.H:return Ai[(n-1)*4+3];default:return}}});var Us=ie(Fi=>{"use strict";var _r=new Uint8Array(512),ki=new Uint8Array(256);(function(){let n=1;for(let t=0;t<255;t++)_r[t]=n,ki[n]=t,n<<=1,n&256&&(n^=285);for(let t=255;t<512;t++)_r[t]=_r[t-255]})();Fi.log=function(n){if(n<1)throw new Error("log("+n+")");return ki[n]};Fi.exp=function(n){return _r[n]};Fi.mul=function(n,t){return n===0||t===0?0:_r[ki[n]+ki[t]]}});var qs=ie(vr=>{"use strict";var ua=Us();vr.mul=function(n,t){let r=new Uint8Array(n.length+t.length-1);for(let i=0;i<n.length;i++)for(let o=0;o<t.length;o++)r[i+o]^=ua.mul(n[i],t[o]);return r};vr.mod=function(n,t){let r=new Uint8Array(n);for(;r.length-t.length>=0;){let i=r[0];for(let a=0;a<t.length;a++)r[a]^=ua.mul(t[a],i);let o=0;for(;o<r.length&&r[o]===0;)o++;r=r.slice(o)}return r};vr.generateECPolynomial=function(n){let t=new Uint8Array([1]);for(let r=0;r<n;r++)t=vr.mul(t,new Uint8Array([1,ua.exp(r)]));return t}});var Gs=ie((gx,Vs)=>{"use strict";var zs=qs();function da(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}da.prototype.initialize=function(n){this.degree=n,this.genPoly=zs.generateECPolynomial(this.degree)};da.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(n.length+this.degree);t.set(n);let r=zs.mod(t,this.genPoly),i=this.degree-r.length;if(i>0){let o=new Uint8Array(this.degree);return o.set(r,i),o}return r};Vs.exports=da});var fa=ie(Hs=>{"use strict";Hs.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}});var pa=ie(Gt=>{"use strict";var Ws="[0-9]+",xf="[A-Z $%*+\\-./:]+",yr="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";yr=yr.replace(/u/g,"\\u");var Cf="(?:(?![A-Z0-9 $%*+\\-./:]|"+yr+`)(?:.|[\r
]))+`;Gt.KANJI=new RegExp(yr,"g");Gt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Gt.BYTE=new RegExp(Cf,"g");Gt.NUMERIC=new RegExp(Ws,"g");Gt.ALPHANUMERIC=new RegExp(xf,"g");var wf=new RegExp("^"+yr+"$"),Of=new RegExp("^"+Ws+"$"),Sf=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Gt.testKanji=function(n){return wf.test(n)};Gt.testNumeric=function(n){return Of.test(n)};Gt.testAlphanumeric=function(n){return Sf.test(n)}});var nn=ie(at=>{"use strict";var Mf=fa(),ha=pa();at.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};at.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};at.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};at.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};at.MIXED={bit:-1};at.getCharCountIndicator=function(n,t){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!Mf.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?n.ccBits[0]:t<27?n.ccBits[1]:n.ccBits[2]};at.getBestModeForData=function(n){return ha.testNumeric(n)?at.NUMERIC:ha.testAlphanumeric(n)?at.ALPHANUMERIC:ha.testKanji(n)?at.KANJI:at.BYTE};at.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")};at.isValid=function(n){return n&&n.bit&&n.ccBits};function Ef(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return at.NUMERIC;case"alphanumeric":return at.ALPHANUMERIC;case"kanji":return at.KANJI;case"byte":return at.BYTE;default:throw new Error("Unknown mode: "+e)}}at.from=function(n,t){if(at.isValid(n))return n;try{return Ef(n)}catch{return t}}});var Ks=ie(gn=>{"use strict";var Li=en(),Pf=ca(),$s=Ii(),rn=nn(),ma=fa(),Xs=7973,Qs=Li.getBCHDigit(Xs);function Tf(e,n,t){for(let r=1;r<=40;r++)if(n<=gn.getCapacity(r,t,e))return r}function Ys(e,n){return rn.getCharCountIndicator(e,n)+4}function If(e,n){let t=0;return e.forEach(function(r){let i=Ys(r.mode,n);t+=i+r.getBitsLength()}),t}function Df(e,n){for(let t=1;t<=40;t++)if(If(e,t)<=gn.getCapacity(t,n,rn.MIXED))return t}gn.from=function(n,t){return ma.isValid(n)?parseInt(n,10):t};gn.getCapacity=function(n,t,r){if(!ma.isValid(n))throw new Error("Invalid QR Code version");typeof r>"u"&&(r=rn.BYTE);let i=Li.getSymbolTotalCodewords(n),o=Pf.getTotalCodewordsCount(n,t),a=(i-o)*8;if(r===rn.MIXED)return a;let s=a-Ys(r,n);switch(r){case rn.NUMERIC:return Math.floor(s/10*3);case rn.ALPHANUMERIC:return Math.floor(s/11*2);case rn.KANJI:return Math.floor(s/13);case rn.BYTE:default:return Math.floor(s/8)}};gn.getBestVersionForData=function(n,t){let r,i=$s.from(t,$s.M);if(Array.isArray(n)){if(n.length>1)return Df(n,i);if(n.length===0)return 1;r=n[0]}else r=n;return Tf(r.mode,r.getLength(),i)};gn.getEncodedBits=function(n){if(!ma.isValid(n)||n<7)throw new Error("Invalid QR Code version");let t=n<<12;for(;Li.getBCHDigit(t)-Qs>=0;)t^=Xs<<Li.getBCHDigit(t)-Qs;return n<<12|t}});var tc=ie(ec=>{"use strict";var ga=en(),Zs=1335,Rf=21522,Js=ga.getBCHDigit(Zs);ec.getEncodedBits=function(n,t){let r=n.bit<<3|t,i=r<<10;for(;ga.getBCHDigit(i)-Js>=0;)i^=Zs<<ga.getBCHDigit(i)-Js;return(r<<10|i)^Rf}});var rc=ie((Cx,nc)=>{"use strict";var Af=nn();function Ln(e){this.mode=Af.NUMERIC,this.data=e.toString()}Ln.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)};Ln.prototype.getLength=function(){return this.data.length};Ln.prototype.getBitsLength=function(){return Ln.getBitsLength(this.data.length)};Ln.prototype.write=function(n){let t,r,i;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),i=parseInt(r,10),n.put(i,10);let o=this.data.length-t;o>0&&(r=this.data.substr(t),i=parseInt(r,10),n.put(i,o*3+1))};nc.exports=Ln});var oc=ie((wx,ic)=>{"use strict";var kf=nn(),_a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Nn(e){this.mode=kf.ALPHANUMERIC,this.data=e}Nn.getBitsLength=function(n){return 11*Math.floor(n/2)+6*(n%2)};Nn.prototype.getLength=function(){return this.data.length};Nn.prototype.getBitsLength=function(){return Nn.getBitsLength(this.data.length)};Nn.prototype.write=function(n){let t;for(t=0;t+2<=this.data.length;t+=2){let r=_a.indexOf(this.data[t])*45;r+=_a.indexOf(this.data[t+1]),n.put(r,11)}this.data.length%2&&n.put(_a.indexOf(this.data[t]),6)};ic.exports=Nn});var lc=ie((Ox,ac)=>{"use strict";ac.exports=function(n){for(var t=[],r=n.length,i=0;i<r;i++){var o=n.charCodeAt(i);if(o>=55296&&o<=56319&&r>i+1){var a=n.charCodeAt(i+1);a>=56320&&a<=57343&&(o=(o-55296)*1024+a-56320+65536,i+=1)}if(o<128){t.push(o);continue}if(o<2048){t.push(o>>6|192),t.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){t.push(o>>12|224),t.push(o>>6&63|128),t.push(o&63|128);continue}if(o>=65536&&o<=1114111){t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}});var cc=ie((Sx,sc)=>{"use strict";var Ff=lc(),Lf=nn();function Bn(e){this.mode=Lf.BYTE,typeof e=="string"&&(e=Ff(e)),this.data=new Uint8Array(e)}Bn.getBitsLength=function(n){return n*8};Bn.prototype.getLength=function(){return this.data.length};Bn.prototype.getBitsLength=function(){return Bn.getBitsLength(this.data.length)};Bn.prototype.write=function(e){for(let n=0,t=this.data.length;n<t;n++)e.put(this.data[n],8)};sc.exports=Bn});var dc=ie((Mx,uc)=>{"use strict";var Nf=nn(),Bf=en();function jn(e){this.mode=Nf.KANJI,this.data=e}jn.getBitsLength=function(n){return n*13};jn.prototype.getLength=function(){return this.data.length};jn.prototype.getBitsLength=function(){return jn.getBitsLength(this.data.length)};jn.prototype.write=function(e){let n;for(n=0;n<this.data.length;n++){let t=Bf.toSJIS(this.data[n]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[n]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),e.put(t,13)}};uc.exports=jn});var fc=ie((Ex,va)=>{"use strict";var br={single_source_shortest_paths:function(e,n,t){var r={},i={};i[n]=0;var o=br.PriorityQueue.make();o.push(n,0);for(var a,s,h,w,O,N,I,W,ee;!o.empty();){a=o.pop(),s=a.value,w=a.cost,O=e[s]||{};for(h in O)O.hasOwnProperty(h)&&(N=O[h],I=w+N,W=i[h],ee=typeof i[h]>"u",(ee||W>I)&&(i[h]=I,o.push(h,I),r[h]=s))}if(typeof t<"u"&&typeof i[t]>"u"){var Z=["Could not find a path from ",n," to ",t,"."].join("");throw new Error(Z)}return r},extract_shortest_path_from_predecessor_list:function(e,n){for(var t=[],r=n,i;r;)t.push(r),i=e[r],r=e[r];return t.reverse(),t},find_path:function(e,n,t){var r=br.single_source_shortest_paths(e,n,t);return br.extract_shortest_path_from_predecessor_list(r,t)},PriorityQueue:{make:function(e){var n=br.PriorityQueue,t={},r;e=e||{};for(r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);return t.queue=[],t.sorter=e.sorter||n.default_sorter,t},default_sorter:function(e,n){return e.cost-n.cost},push:function(e,n){var t={value:e,cost:n};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof va<"u"&&(va.exports=br)});var bc=ie(Un=>{"use strict";var qe=nn(),mc=rc(),gc=oc(),_c=cc(),vc=dc(),xr=pa(),Ni=en(),jf=fc();function pc(e){return unescape(encodeURIComponent(e)).length}function Cr(e,n,t){let r=[],i;for(;(i=e.exec(t))!==null;)r.push({data:i[0],index:i.index,mode:n,length:i[0].length});return r}function yc(e){let n=Cr(xr.NUMERIC,qe.NUMERIC,e),t=Cr(xr.ALPHANUMERIC,qe.ALPHANUMERIC,e),r,i;return Ni.isKanjiModeEnabled()?(r=Cr(xr.BYTE,qe.BYTE,e),i=Cr(xr.KANJI,qe.KANJI,e)):(r=Cr(xr.BYTE_KANJI,qe.BYTE,e),i=[]),n.concat(t,r,i).sort(function(a,s){return a.index-s.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function ya(e,n){switch(n){case qe.NUMERIC:return mc.getBitsLength(e);case qe.ALPHANUMERIC:return gc.getBitsLength(e);case qe.KANJI:return vc.getBitsLength(e);case qe.BYTE:return _c.getBitsLength(e)}}function Uf(e){return e.reduce(function(n,t){let r=n.length-1>=0?n[n.length-1]:null;return r&&r.mode===t.mode?(n[n.length-1].data+=t.data,n):(n.push(t),n)},[])}function qf(e){let n=[];for(let t=0;t<e.length;t++){let r=e[t];switch(r.mode){case qe.NUMERIC:n.push([r,{data:r.data,mode:qe.ALPHANUMERIC,length:r.length},{data:r.data,mode:qe.BYTE,length:r.length}]);break;case qe.ALPHANUMERIC:n.push([r,{data:r.data,mode:qe.BYTE,length:r.length}]);break;case qe.KANJI:n.push([r,{data:r.data,mode:qe.BYTE,length:pc(r.data)}]);break;case qe.BYTE:n.push([{data:r.data,mode:qe.BYTE,length:pc(r.data)}])}}return n}function zf(e,n){let t={},r={start:{}},i=["start"];for(let o=0;o<e.length;o++){let a=e[o],s=[];for(let h=0;h<a.length;h++){let w=a[h],O=""+o+h;s.push(O),t[O]={node:w,lastCount:0},r[O]={};for(let N=0;N<i.length;N++){let I=i[N];t[I]&&t[I].node.mode===w.mode?(r[I][O]=ya(t[I].lastCount+w.length,w.mode)-ya(t[I].lastCount,w.mode),t[I].lastCount+=w.length):(t[I]&&(t[I].lastCount=w.length),r[I][O]=ya(w.length,w.mode)+4+qe.getCharCountIndicator(w.mode,n))}}i=s}for(let o=0;o<i.length;o++)r[i[o]].end=0;return{map:r,table:t}}function hc(e,n){let t,r=qe.getBestModeForData(e);if(t=qe.from(n,r),t!==qe.BYTE&&t.bit<r.bit)throw new Error('"'+e+'" cannot be encoded with mode '+qe.toString(t)+`.
 Suggested mode is: `+qe.toString(r));switch(t===qe.KANJI&&!Ni.isKanjiModeEnabled()&&(t=qe.BYTE),t){case qe.NUMERIC:return new mc(e);case qe.ALPHANUMERIC:return new gc(e);case qe.KANJI:return new vc(e);case qe.BYTE:return new _c(e)}}Un.fromArray=function(n){return n.reduce(function(t,r){return typeof r=="string"?t.push(hc(r,null)):r.data&&t.push(hc(r.data,r.mode)),t},[])};Un.fromString=function(n,t){let r=yc(n,Ni.isKanjiModeEnabled()),i=qf(r),o=zf(i,t),a=jf.find_path(o.map,"start","end"),s=[];for(let h=1;h<a.length-1;h++)s.push(o.table[a[h]].node);return Un.fromArray(Uf(s))};Un.rawSplit=function(n){return Un.fromArray(yc(n,Ni.isKanjiModeEnabled()))}});var Cc=ie(xc=>{"use strict";var ji=en(),ba=Ii(),Vf=Rs(),Gf=ks(),Hf=Fs(),Wf=Bs(),wa=js(),Oa=ca(),$f=Gs(),Bi=Ks(),Qf=tc(),Xf=nn(),xa=bc();function Yf(e,n){let t=e.size,r=Wf.getPositions(n);for(let i=0;i<r.length;i++){let o=r[i][0],a=r[i][1];for(let s=-1;s<=7;s++)if(!(o+s<=-1||t<=o+s))for(let h=-1;h<=7;h++)a+h<=-1||t<=a+h||(s>=0&&s<=6&&(h===0||h===6)||h>=0&&h<=6&&(s===0||s===6)||s>=2&&s<=4&&h>=2&&h<=4?e.set(o+s,a+h,!0,!0):e.set(o+s,a+h,!1,!0))}}function Kf(e){let n=e.size;for(let t=8;t<n-8;t++){let r=t%2===0;e.set(t,6,r,!0),e.set(6,t,r,!0)}}function Jf(e,n){let t=Hf.getPositions(n);for(let r=0;r<t.length;r++){let i=t[r][0],o=t[r][1];for(let a=-2;a<=2;a++)for(let s=-2;s<=2;s++)a===-2||a===2||s===-2||s===2||a===0&&s===0?e.set(i+a,o+s,!0,!0):e.set(i+a,o+s,!1,!0)}}function Zf(e,n){let t=e.size,r=Bi.getEncodedBits(n),i,o,a;for(let s=0;s<18;s++)i=Math.floor(s/3),o=s%3+t-8-3,a=(r>>s&1)===1,e.set(i,o,a,!0),e.set(o,i,a,!0)}function Ca(e,n,t){let r=e.size,i=Qf.getEncodedBits(n,t),o,a;for(o=0;o<15;o++)a=(i>>o&1)===1,o<6?e.set(o,8,a,!0):o<8?e.set(o+1,8,a,!0):e.set(r-15+o,8,a,!0),o<8?e.set(8,r-o-1,a,!0):o<9?e.set(8,15-o-1+1,a,!0):e.set(8,15-o-1,a,!0);e.set(r-8,8,1,!0)}function ep(e,n){let t=e.size,r=-1,i=t-1,o=7,a=0;for(let s=t-1;s>0;s-=2)for(s===6&&s--;;){for(let h=0;h<2;h++)if(!e.isReserved(i,s-h)){let w=!1;a<n.length&&(w=(n[a]>>>o&1)===1),e.set(i,s-h,w),o--,o===-1&&(a++,o=7)}if(i+=r,i<0||t<=i){i-=r,r=-r;break}}}function tp(e,n,t){let r=new Vf;t.forEach(function(h){r.put(h.mode.bit,4),r.put(h.getLength(),Xf.getCharCountIndicator(h.mode,e)),h.write(r)});let i=ji.getSymbolTotalCodewords(e),o=Oa.getTotalCodewordsCount(e,n),a=(i-o)*8;for(r.getLengthInBits()+4<=a&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);let s=(a-r.getLengthInBits())/8;for(let h=0;h<s;h++)r.put(h%2?17:236,8);return np(r,e,n)}function np(e,n,t){let r=ji.getSymbolTotalCodewords(n),i=Oa.getTotalCodewordsCount(n,t),o=r-i,a=Oa.getBlocksCount(n,t),s=r%a,h=a-s,w=Math.floor(r/a),O=Math.floor(o/a),N=O+1,I=w-O,W=new $f(I),ee=0,Z=new Array(a),ue=new Array(a),G=0,B=new Uint8Array(e.buffer);for(let R=0;R<a;R++){let K=R<h?O:N;Z[R]=B.slice(ee,ee+K),ue[R]=W.encode(Z[R]),ee+=K,G=Math.max(G,K)}let D=new Uint8Array(r),M=0,T,j;for(T=0;T<G;T++)for(j=0;j<a;j++)T<Z[j].length&&(D[M++]=Z[j][T]);for(T=0;T<I;T++)for(j=0;j<a;j++)D[M++]=ue[j][T];return D}function rp(e,n,t,r){let i;if(Array.isArray(e))i=xa.fromArray(e);else if(typeof e=="string"){let w=n;if(!w){let O=xa.rawSplit(e);w=Bi.getBestVersionForData(O,t)}i=xa.fromString(e,w||40)}else throw new Error("Invalid data");let o=Bi.getBestVersionForData(i,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!n)n=o;else if(n<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let a=tp(n,t,i),s=ji.getSymbolSize(n),h=new Gf(s);return Yf(h,n),Kf(h),Jf(h,n),Ca(h,t,0),n>=7&&Zf(h,n),ep(h,a),isNaN(r)&&(r=wa.getBestMask(h,Ca.bind(null,h,t))),wa.applyMask(r,h),Ca(h,t,r),{modules:h,version:n,errorCorrectionLevel:t,maskPattern:r,segments:i}}xc.create=function(n,t){if(typeof n>"u"||n==="")throw new Error("No input text");let r=ba.M,i,o;return typeof t<"u"&&(r=ba.from(t.errorCorrectionLevel,ba.M),i=Bi.from(t.version),o=wa.from(t.maskPattern),t.toSJISFunc&&ji.setToSJISFunction(t.toSJISFunc)),rp(n,i,r,o)}});var Sa=ie(_n=>{"use strict";function wc(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let n=e.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+e);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(r){return[r,r]}))),n.length===6&&n.push("F","F");let t=parseInt(n.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+n.slice(0,6).join("")}}_n.getOptions=function(n){n||(n={}),n.color||(n.color={});let t=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,r=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:wc(n.color.dark||"#000000ff"),light:wc(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}};_n.getScale=function(n,t){return t.width&&t.width>=n+t.margin*2?t.width/(n+t.margin*2):t.scale};_n.getImageWidth=function(n,t){let r=_n.getScale(n,t);return Math.floor((n+t.margin*2)*r)};_n.qrToImageData=function(n,t,r){let i=t.modules.size,o=t.modules.data,a=_n.getScale(i,r),s=Math.floor((i+r.margin*2)*a),h=r.margin*a,w=[r.color.light,r.color.dark];for(let O=0;O<s;O++)for(let N=0;N<s;N++){let I=(O*s+N)*4,W=r.color.light;if(O>=h&&N>=h&&O<s-h&&N<s-h){let ee=Math.floor((O-h)/a),Z=Math.floor((N-h)/a);W=w[o[ee*i+Z]?1:0]}n[I++]=W.r,n[I++]=W.g,n[I++]=W.b,n[I]=W.a}}});var Oc=ie(Ui=>{"use strict";var Ma=Sa();function ip(e,n,t){e.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=t,n.width=t,n.style.height=t+"px",n.style.width=t+"px"}function op(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Ui.render=function(n,t,r){let i=r,o=t;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),t||(o=op()),i=Ma.getOptions(i);let a=Ma.getImageWidth(n.modules.size,i),s=o.getContext("2d"),h=s.createImageData(a,a);return Ma.qrToImageData(h.data,n,i),ip(s,o,a),s.putImageData(h,0,0),o};Ui.renderToDataURL=function(n,t,r){let i=r;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),i||(i={});let o=Ui.render(n,t,i),a=i.type||"image/png",s=i.rendererOpts||{};return o.toDataURL(a,s.quality)}});var Ec=ie(Mc=>{"use strict";var ap=Sa();function Sc(e,n){let t=e.a/255,r=n+'="'+e.hex+'"';return t<1?r+" "+n+'-opacity="'+t.toFixed(2).slice(1)+'"':r}function Ea(e,n,t){let r=e+n;return typeof t<"u"&&(r+=" "+t),r}function lp(e,n,t){let r="",i=0,o=!1,a=0;for(let s=0;s<e.length;s++){let h=Math.floor(s%n),w=Math.floor(s/n);!h&&!o&&(o=!0),e[s]?(a++,s>0&&h>0&&e[s-1]||(r+=o?Ea("M",h+t,.5+w+t):Ea("m",i,0),i=0,o=!1),h+1<n&&e[s+1]||(r+=Ea("h",a),a=0)):i++}return r}Mc.render=function(n,t,r){let i=ap.getOptions(t),o=n.modules.size,a=n.modules.data,s=o+i.margin*2,h=i.color.light.a?"<path "+Sc(i.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",w="<path "+Sc(i.color.dark,"stroke")+' d="'+lp(a,o,i.margin)+'"/>',O='viewBox="0 0 '+s+" "+s+'"',I='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+O+' shape-rendering="crispEdges">'+h+w+`</svg>
`;return typeof r=="function"&&r(null,I),I}});var Tc=ie(wr=>{"use strict";var sp=Ts(),Pa=Cc(),Pc=Oc(),cp=Ec();function Ta(e,n,t,r,i){let o=[].slice.call(arguments,1),a=o.length,s=typeof o[a-1]=="function";if(!s&&!sp())throw new Error("Callback required as last argument");if(s){if(a<2)throw new Error("Too few arguments provided");a===2?(i=t,t=n,n=r=void 0):a===3&&(n.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=t,t=n,n=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(t=n,n=r=void 0):a===2&&!n.getContext&&(r=t,t=n,n=void 0),new Promise(function(h,w){try{let O=Pa.create(t,r);h(e(O,n,r))}catch(O){w(O)}})}try{let h=Pa.create(t,r);i(null,e(h,n,r))}catch(h){i(h)}}wr.create=Pa.create;wr.toCanvas=Ta.bind(null,Pc.render);wr.toDataURL=Ta.bind(null,Pc.renderToDataURL);wr.toString=Ta.bind(null,function(e,n,t){return cp.render(e,t)})});var Nc=ie((Gi,ka)=>{"use strict";(function(e,n){typeof Gi=="object"&&typeof ka=="object"?ka.exports=n():typeof define=="function"&&define.amd?define([],n):typeof Gi=="object"?Gi.Quagga=n():e.Quagga=n()})(window,function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(r,i,o){t.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:o})},t.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,i){if(1&i&&(r=t(r)),8&i||4&i&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&i&&typeof r!="string")for(var a in r)t.d(o,a,(function(s){return r[s]}).bind(null,a));return o},t.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(i,"a",i),i},t.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},t.p="/",t(t.s=73)}([function(e,n,t){var r=t(61);e.exports=function(i,o,a){return(o=r(o))in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(61);function i(o,a){for(var s=0;s<a.length;s++){var h=a[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(o,r(h.key),h)}}e.exports=function(o,a,s){return a&&i(o.prototype,a),s&&i(o,s),Object.defineProperty(o,"prototype",{writable:!1}),o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"b",function(){return i}),t.d(n,"c",function(){return o}),t.d(n,"d",function(){return a});var r={};t.r(r),t.d(r,"EPSILON",function(){return s}),t.d(r,"ARRAY_TYPE",function(){return h}),t.d(r,"RANDOM",function(){return w}),t.d(r,"setMatrixArrayType",function(){return O}),t.d(r,"toRadian",function(){return I}),t.d(r,"equals",function(){return W});var i={};t.r(i),t.d(i,"create",function(){return ee}),t.d(i,"clone",function(){return Z}),t.d(i,"copy",function(){return ue}),t.d(i,"identity",function(){return G}),t.d(i,"fromValues",function(){return B}),t.d(i,"set",function(){return D}),t.d(i,"transpose",function(){return M}),t.d(i,"invert",function(){return T}),t.d(i,"adjoint",function(){return j}),t.d(i,"determinant",function(){return R}),t.d(i,"multiply",function(){return K}),t.d(i,"rotate",function(){return L}),t.d(i,"scale",function(){return X}),t.d(i,"fromRotation",function(){return A}),t.d(i,"fromScaling",function(){return J}),t.d(i,"str",function(){return ae}),t.d(i,"frob",function(){return ce}),t.d(i,"LDU",function(){return ne}),t.d(i,"add",function(){return he}),t.d(i,"subtract",function(){return de}),t.d(i,"exactEquals",function(){return fe}),t.d(i,"equals",function(){return Ce}),t.d(i,"multiplyScalar",function(){return z}),t.d(i,"multiplyScalarAndAdd",function(){return V}),t.d(i,"mul",function(){return $}),t.d(i,"sub",function(){return ye});var o={};t.r(o),t.d(o,"create",function(){return ge}),t.d(o,"clone",function(){return Ie}),t.d(o,"fromValues",function(){return je}),t.d(o,"copy",function(){return Ge}),t.d(o,"set",function(){return Je}),t.d(o,"add",function(){return lt}),t.d(o,"subtract",function(){return ft}),t.d(o,"multiply",function(){return dt}),t.d(o,"divide",function(){return zr}),t.d(o,"ceil",function(){return xo}),t.d(o,"floor",function(){return Vr}),t.d(o,"min",function(){return xn}),t.d(o,"max",function(){return Co}),t.d(o,"round",function(){return wo}),t.d(o,"scale",function(){return Gr}),t.d(o,"scaleAndAdd",function(){return Oo}),t.d(o,"distance",function(){return Hr}),t.d(o,"squaredDistance",function(){return Wr}),t.d(o,"length",function(){return er}),t.d(o,"squaredLength",function(){return $r}),t.d(o,"negate",function(){return tr}),t.d(o,"inverse",function(){return Qr}),t.d(o,"normalize",function(){return Xr}),t.d(o,"dot",function(){return Yr}),t.d(o,"cross",function(){return nr}),t.d(o,"lerp",function(){return So}),t.d(o,"random",function(){return Mo}),t.d(o,"transformMat2",function(){return Kr}),t.d(o,"transformMat2d",function(){return Eo}),t.d(o,"transformMat3",function(){return Jr}),t.d(o,"transformMat4",function(){return Zr}),t.d(o,"rotate",function(){return Rt}),t.d(o,"angle",function(){return Po}),t.d(o,"zero",function(){return ei}),t.d(o,"str",function(){return To}),t.d(o,"exactEquals",function(){return Io}),t.d(o,"equals",function(){return ti}),t.d(o,"len",function(){return ni}),t.d(o,"sub",function(){return Do}),t.d(o,"mul",function(){return ri}),t.d(o,"div",function(){return ii}),t.d(o,"dist",function(){return Ro}),t.d(o,"sqrDist",function(){return oi}),t.d(o,"sqrLen",function(){return Ao}),t.d(o,"forEach",function(){return ai});var a={};t.r(a),t.d(a,"create",function(){return cn}),t.d(a,"clone",function(){return Cn}),t.d(a,"length",function(){return rr}),t.d(a,"fromValues",function(){return ko}),t.d(a,"copy",function(){return li}),t.d(a,"set",function(){return un}),t.d(a,"add",function(){return ir}),t.d(a,"subtract",function(){return At}),t.d(a,"multiply",function(){return si}),t.d(a,"divide",function(){return ci}),t.d(a,"ceil",function(){return Fo}),t.d(a,"floor",function(){return Lo}),t.d(a,"min",function(){return Xt}),t.d(a,"max",function(){return or}),t.d(a,"round",function(){return ui}),t.d(a,"scale",function(){return No}),t.d(a,"scaleAndAdd",function(){return Bo}),t.d(a,"distance",function(){return di}),t.d(a,"squaredDistance",function(){return fi}),t.d(a,"squaredLength",function(){return ar}),t.d(a,"negate",function(){return jo}),t.d(a,"inverse",function(){return Uo}),t.d(a,"normalize",function(){return pi}),t.d(a,"dot",function(){return dn}),t.d(a,"cross",function(){return fn}),t.d(a,"lerp",function(){return wn}),t.d(a,"hermite",function(){return hi}),t.d(a,"bezier",function(){return qo}),t.d(a,"random",function(){return xt}),t.d(a,"transformMat4",function(){return On}),t.d(a,"transformMat3",function(){return mi}),t.d(a,"transformQuat",function(){return zo}),t.d(a,"rotateX",function(){return Vo}),t.d(a,"rotateY",function(){return Sn}),t.d(a,"rotateZ",function(){return gi}),t.d(a,"angle",function(){return Go}),t.d(a,"zero",function(){return Ho}),t.d(a,"str",function(){return Wo}),t.d(a,"exactEquals",function(){return $o}),t.d(a,"equals",function(){return Qo}),t.d(a,"sub",function(){return _i}),t.d(a,"mul",function(){return Xo}),t.d(a,"div",function(){return Yo}),t.d(a,"dist",function(){return vi}),t.d(a,"sqrDist",function(){return Ko}),t.d(a,"len",function(){return lr}),t.d(a,"sqrLen",function(){return Jo}),t.d(a,"forEach",function(){return yi});var s=1e-6,h=typeof Float32Array<"u"?Float32Array:Array,w=Math.random;function O(d){h=d}var N=Math.PI/180;function I(d){return d*N}function W(d,m){return Math.abs(d-m)<=s*Math.max(1,Math.abs(d),Math.abs(m))}function ee(){var d=new h(4);return h!=Float32Array&&(d[1]=0,d[2]=0),d[0]=1,d[3]=1,d}function Z(d){var m=new h(4);return m[0]=d[0],m[1]=d[1],m[2]=d[2],m[3]=d[3],m}function ue(d,m){return d[0]=m[0],d[1]=m[1],d[2]=m[2],d[3]=m[3],d}function G(d){return d[0]=1,d[1]=0,d[2]=0,d[3]=1,d}function B(d,m,y,k){var q=new h(4);return q[0]=d,q[1]=m,q[2]=y,q[3]=k,q}function D(d,m,y,k,q){return d[0]=m,d[1]=y,d[2]=k,d[3]=q,d}function M(d,m){if(d===m){var y=m[1];d[1]=m[2],d[2]=y}else d[0]=m[0],d[1]=m[2],d[2]=m[1],d[3]=m[3];return d}function T(d,m){var y=m[0],k=m[1],q=m[2],Q=m[3],pe=y*Q-q*k;return pe?(pe=1/pe,d[0]=Q*pe,d[1]=-k*pe,d[2]=-q*pe,d[3]=y*pe,d):null}function j(d,m){var y=m[0];return d[0]=m[3],d[1]=-m[1],d[2]=-m[2],d[3]=y,d}function R(d){return d[0]*d[3]-d[2]*d[1]}function K(d,m,y){var k=m[0],q=m[1],Q=m[2],pe=m[3],be=y[0],ke=y[1],rt=y[2],st=y[3];return d[0]=k*be+Q*ke,d[1]=q*be+pe*ke,d[2]=k*rt+Q*st,d[3]=q*rt+pe*st,d}function L(d,m,y){var k=m[0],q=m[1],Q=m[2],pe=m[3],be=Math.sin(y),ke=Math.cos(y);return d[0]=k*ke+Q*be,d[1]=q*ke+pe*be,d[2]=k*-be+Q*ke,d[3]=q*-be+pe*ke,d}function X(d,m,y){var k=m[0],q=m[1],Q=m[2],pe=m[3],be=y[0],ke=y[1];return d[0]=k*be,d[1]=q*be,d[2]=Q*ke,d[3]=pe*ke,d}function A(d,m){var y=Math.sin(m),k=Math.cos(m);return d[0]=k,d[1]=y,d[2]=-y,d[3]=k,d}function J(d,m){return d[0]=m[0],d[1]=0,d[2]=0,d[3]=m[1],d}function ae(d){return"mat2("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")"}function ce(d){return Math.hypot(d[0],d[1],d[2],d[3])}function ne(d,m,y,k){return d[2]=k[2]/k[0],y[0]=k[0],y[1]=k[1],y[3]=k[3]-d[2]*y[1],[d,m,y]}function he(d,m,y){return d[0]=m[0]+y[0],d[1]=m[1]+y[1],d[2]=m[2]+y[2],d[3]=m[3]+y[3],d}function de(d,m,y){return d[0]=m[0]-y[0],d[1]=m[1]-y[1],d[2]=m[2]-y[2],d[3]=m[3]-y[3],d}function fe(d,m){return d[0]===m[0]&&d[1]===m[1]&&d[2]===m[2]&&d[3]===m[3]}function Ce(d,m){var y=d[0],k=d[1],q=d[2],Q=d[3],pe=m[0],be=m[1],ke=m[2],rt=m[3];return Math.abs(y-pe)<=s*Math.max(1,Math.abs(y),Math.abs(pe))&&Math.abs(k-be)<=s*Math.max(1,Math.abs(k),Math.abs(be))&&Math.abs(q-ke)<=s*Math.max(1,Math.abs(q),Math.abs(ke))&&Math.abs(Q-rt)<=s*Math.max(1,Math.abs(Q),Math.abs(rt))}function z(d,m,y){return d[0]=m[0]*y,d[1]=m[1]*y,d[2]=m[2]*y,d[3]=m[3]*y,d}function V(d,m,y,k){return d[0]=m[0]+y[0]*k,d[1]=m[1]+y[1]*k,d[2]=m[2]+y[2]*k,d[3]=m[3]+y[3]*k,d}Math.hypot||(Math.hypot=function(){for(var d=0,m=arguments.length;m--;)d+=arguments[m]*arguments[m];return Math.sqrt(d)});var $=K,ye=de;function ge(){var d=new h(2);return h!=Float32Array&&(d[0]=0,d[1]=0),d}function Ie(d){var m=new h(2);return m[0]=d[0],m[1]=d[1],m}function je(d,m){var y=new h(2);return y[0]=d,y[1]=m,y}function Ge(d,m){return d[0]=m[0],d[1]=m[1],d}function Je(d,m,y){return d[0]=m,d[1]=y,d}function lt(d,m,y){return d[0]=m[0]+y[0],d[1]=m[1]+y[1],d}function ft(d,m,y){return d[0]=m[0]-y[0],d[1]=m[1]-y[1],d}function dt(d,m,y){return d[0]=m[0]*y[0],d[1]=m[1]*y[1],d}function zr(d,m,y){return d[0]=m[0]/y[0],d[1]=m[1]/y[1],d}function xo(d,m){return d[0]=Math.ceil(m[0]),d[1]=Math.ceil(m[1]),d}function Vr(d,m){return d[0]=Math.floor(m[0]),d[1]=Math.floor(m[1]),d}function xn(d,m,y){return d[0]=Math.min(m[0],y[0]),d[1]=Math.min(m[1],y[1]),d}function Co(d,m,y){return d[0]=Math.max(m[0],y[0]),d[1]=Math.max(m[1],y[1]),d}function wo(d,m){return d[0]=Math.round(m[0]),d[1]=Math.round(m[1]),d}function Gr(d,m,y){return d[0]=m[0]*y,d[1]=m[1]*y,d}function Oo(d,m,y,k){return d[0]=m[0]+y[0]*k,d[1]=m[1]+y[1]*k,d}function Hr(d,m){var y=m[0]-d[0],k=m[1]-d[1];return Math.hypot(y,k)}function Wr(d,m){var y=m[0]-d[0],k=m[1]-d[1];return y*y+k*k}function er(d){var m=d[0],y=d[1];return Math.hypot(m,y)}function $r(d){var m=d[0],y=d[1];return m*m+y*y}function tr(d,m){return d[0]=-m[0],d[1]=-m[1],d}function Qr(d,m){return d[0]=1/m[0],d[1]=1/m[1],d}function Xr(d,m){var y=m[0],k=m[1],q=y*y+k*k;return q>0&&(q=1/Math.sqrt(q)),d[0]=m[0]*q,d[1]=m[1]*q,d}function Yr(d,m){return d[0]*m[0]+d[1]*m[1]}function nr(d,m,y){var k=m[0]*y[1]-m[1]*y[0];return d[0]=d[1]=0,d[2]=k,d}function So(d,m,y,k){var q=m[0],Q=m[1];return d[0]=q+k*(y[0]-q),d[1]=Q+k*(y[1]-Q),d}function Mo(d,m){m=m||1;var y=2*w()*Math.PI;return d[0]=Math.cos(y)*m,d[1]=Math.sin(y)*m,d}function Kr(d,m,y){var k=m[0],q=m[1];return d[0]=y[0]*k+y[2]*q,d[1]=y[1]*k+y[3]*q,d}function Eo(d,m,y){var k=m[0],q=m[1];return d[0]=y[0]*k+y[2]*q+y[4],d[1]=y[1]*k+y[3]*q+y[5],d}function Jr(d,m,y){var k=m[0],q=m[1];return d[0]=y[0]*k+y[3]*q+y[6],d[1]=y[1]*k+y[4]*q+y[7],d}function Zr(d,m,y){var k=m[0],q=m[1];return d[0]=y[0]*k+y[4]*q+y[12],d[1]=y[1]*k+y[5]*q+y[13],d}function Rt(d,m,y,k){var q=m[0]-y[0],Q=m[1]-y[1],pe=Math.sin(k),be=Math.cos(k);return d[0]=q*be-Q*pe+y[0],d[1]=q*pe+Q*be+y[1],d}function Po(d,m){var y=d[0],k=d[1],q=m[0],Q=m[1],pe=Math.sqrt(y*y+k*k)*Math.sqrt(q*q+Q*Q),be=pe&&(y*q+k*Q)/pe;return Math.acos(Math.min(Math.max(be,-1),1))}function ei(d){return d[0]=0,d[1]=0,d}function To(d){return"vec2("+d[0]+", "+d[1]+")"}function Io(d,m){return d[0]===m[0]&&d[1]===m[1]}function ti(d,m){var y=d[0],k=d[1],q=m[0],Q=m[1];return Math.abs(y-q)<=s*Math.max(1,Math.abs(y),Math.abs(q))&&Math.abs(k-Q)<=s*Math.max(1,Math.abs(k),Math.abs(Q))}var jt,ni=er,Do=ft,ri=dt,ii=zr,Ro=Hr,oi=Wr,Ao=$r,ai=(jt=ge(),function(d,m,y,k,q,Q){var pe,be;for(m||(m=2),y||(y=0),be=k?Math.min(k*m+y,d.length):d.length,pe=y;pe<be;pe+=m)jt[0]=d[pe],jt[1]=d[pe+1],q(jt,jt,Q),d[pe]=jt[0],d[pe+1]=jt[1];return d});function cn(){var d=new h(3);return h!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0),d}function Cn(d){var m=new h(3);return m[0]=d[0],m[1]=d[1],m[2]=d[2],m}function rr(d){var m=d[0],y=d[1],k=d[2];return Math.hypot(m,y,k)}function ko(d,m,y){var k=new h(3);return k[0]=d,k[1]=m,k[2]=y,k}function li(d,m){return d[0]=m[0],d[1]=m[1],d[2]=m[2],d}function un(d,m,y,k){return d[0]=m,d[1]=y,d[2]=k,d}function ir(d,m,y){return d[0]=m[0]+y[0],d[1]=m[1]+y[1],d[2]=m[2]+y[2],d}function At(d,m,y){return d[0]=m[0]-y[0],d[1]=m[1]-y[1],d[2]=m[2]-y[2],d}function si(d,m,y){return d[0]=m[0]*y[0],d[1]=m[1]*y[1],d[2]=m[2]*y[2],d}function ci(d,m,y){return d[0]=m[0]/y[0],d[1]=m[1]/y[1],d[2]=m[2]/y[2],d}function Fo(d,m){return d[0]=Math.ceil(m[0]),d[1]=Math.ceil(m[1]),d[2]=Math.ceil(m[2]),d}function Lo(d,m){return d[0]=Math.floor(m[0]),d[1]=Math.floor(m[1]),d[2]=Math.floor(m[2]),d}function Xt(d,m,y){return d[0]=Math.min(m[0],y[0]),d[1]=Math.min(m[1],y[1]),d[2]=Math.min(m[2],y[2]),d}function or(d,m,y){return d[0]=Math.max(m[0],y[0]),d[1]=Math.max(m[1],y[1]),d[2]=Math.max(m[2],y[2]),d}function ui(d,m){return d[0]=Math.round(m[0]),d[1]=Math.round(m[1]),d[2]=Math.round(m[2]),d}function No(d,m,y){return d[0]=m[0]*y,d[1]=m[1]*y,d[2]=m[2]*y,d}function Bo(d,m,y,k){return d[0]=m[0]+y[0]*k,d[1]=m[1]+y[1]*k,d[2]=m[2]+y[2]*k,d}function di(d,m){var y=m[0]-d[0],k=m[1]-d[1],q=m[2]-d[2];return Math.hypot(y,k,q)}function fi(d,m){var y=m[0]-d[0],k=m[1]-d[1],q=m[2]-d[2];return y*y+k*k+q*q}function ar(d){var m=d[0],y=d[1],k=d[2];return m*m+y*y+k*k}function jo(d,m){return d[0]=-m[0],d[1]=-m[1],d[2]=-m[2],d}function Uo(d,m){return d[0]=1/m[0],d[1]=1/m[1],d[2]=1/m[2],d}function pi(d,m){var y=m[0],k=m[1],q=m[2],Q=y*y+k*k+q*q;return Q>0&&(Q=1/Math.sqrt(Q)),d[0]=m[0]*Q,d[1]=m[1]*Q,d[2]=m[2]*Q,d}function dn(d,m){return d[0]*m[0]+d[1]*m[1]+d[2]*m[2]}function fn(d,m,y){var k=m[0],q=m[1],Q=m[2],pe=y[0],be=y[1],ke=y[2];return d[0]=q*ke-Q*be,d[1]=Q*pe-k*ke,d[2]=k*be-q*pe,d}function wn(d,m,y,k){var q=m[0],Q=m[1],pe=m[2];return d[0]=q+k*(y[0]-q),d[1]=Q+k*(y[1]-Q),d[2]=pe+k*(y[2]-pe),d}function hi(d,m,y,k,q,Q){var pe=Q*Q,be=pe*(2*Q-3)+1,ke=pe*(Q-2)+Q,rt=pe*(Q-1),st=pe*(3-2*Q);return d[0]=m[0]*be+y[0]*ke+k[0]*rt+q[0]*st,d[1]=m[1]*be+y[1]*ke+k[1]*rt+q[1]*st,d[2]=m[2]*be+y[2]*ke+k[2]*rt+q[2]*st,d}function qo(d,m,y,k,q,Q){var pe=1-Q,be=pe*pe,ke=Q*Q,rt=be*pe,st=3*Q*be,Tt=3*ke*pe,It=ke*Q;return d[0]=m[0]*rt+y[0]*st+k[0]*Tt+q[0]*It,d[1]=m[1]*rt+y[1]*st+k[1]*Tt+q[1]*It,d[2]=m[2]*rt+y[2]*st+k[2]*Tt+q[2]*It,d}function xt(d,m){m=m||1;var y=2*w()*Math.PI,k=2*w()-1,q=Math.sqrt(1-k*k)*m;return d[0]=Math.cos(y)*q,d[1]=Math.sin(y)*q,d[2]=k*m,d}function On(d,m,y){var k=m[0],q=m[1],Q=m[2],pe=y[3]*k+y[7]*q+y[11]*Q+y[15];return pe=pe||1,d[0]=(y[0]*k+y[4]*q+y[8]*Q+y[12])/pe,d[1]=(y[1]*k+y[5]*q+y[9]*Q+y[13])/pe,d[2]=(y[2]*k+y[6]*q+y[10]*Q+y[14])/pe,d}function mi(d,m,y){var k=m[0],q=m[1],Q=m[2];return d[0]=k*y[0]+q*y[3]+Q*y[6],d[1]=k*y[1]+q*y[4]+Q*y[7],d[2]=k*y[2]+q*y[5]+Q*y[8],d}function zo(d,m,y){var k=y[0],q=y[1],Q=y[2],pe=y[3],be=m[0],ke=m[1],rt=m[2],st=q*rt-Q*ke,Tt=Q*be-k*rt,It=k*ke-q*be,Ut=q*It-Q*Tt,Mn=Q*st-k*It,sr=k*Tt-q*st,g=2*pe;return st*=g,Tt*=g,It*=g,Ut*=2,Mn*=2,sr*=2,d[0]=be+st+Ut,d[1]=ke+Tt+Mn,d[2]=rt+It+sr,d}function Vo(d,m,y,k){var q=[],Q=[];return q[0]=m[0]-y[0],q[1]=m[1]-y[1],q[2]=m[2]-y[2],Q[0]=q[0],Q[1]=q[1]*Math.cos(k)-q[2]*Math.sin(k),Q[2]=q[1]*Math.sin(k)+q[2]*Math.cos(k),d[0]=Q[0]+y[0],d[1]=Q[1]+y[1],d[2]=Q[2]+y[2],d}function Sn(d,m,y,k){var q=[],Q=[];return q[0]=m[0]-y[0],q[1]=m[1]-y[1],q[2]=m[2]-y[2],Q[0]=q[2]*Math.sin(k)+q[0]*Math.cos(k),Q[1]=q[1],Q[2]=q[2]*Math.cos(k)-q[0]*Math.sin(k),d[0]=Q[0]+y[0],d[1]=Q[1]+y[1],d[2]=Q[2]+y[2],d}function gi(d,m,y,k){var q=[],Q=[];return q[0]=m[0]-y[0],q[1]=m[1]-y[1],q[2]=m[2]-y[2],Q[0]=q[0]*Math.cos(k)-q[1]*Math.sin(k),Q[1]=q[0]*Math.sin(k)+q[1]*Math.cos(k),Q[2]=q[2],d[0]=Q[0]+y[0],d[1]=Q[1]+y[1],d[2]=Q[2]+y[2],d}function Go(d,m){var y=d[0],k=d[1],q=d[2],Q=m[0],pe=m[1],be=m[2],ke=Math.sqrt(y*y+k*k+q*q)*Math.sqrt(Q*Q+pe*pe+be*be),rt=ke&&dn(d,m)/ke;return Math.acos(Math.min(Math.max(rt,-1),1))}function Ho(d){return d[0]=0,d[1]=0,d[2]=0,d}function Wo(d){return"vec3("+d[0]+", "+d[1]+", "+d[2]+")"}function $o(d,m){return d[0]===m[0]&&d[1]===m[1]&&d[2]===m[2]}function Qo(d,m){var y=d[0],k=d[1],q=d[2],Q=m[0],pe=m[1],be=m[2];return Math.abs(y-Q)<=s*Math.max(1,Math.abs(y),Math.abs(Q))&&Math.abs(k-pe)<=s*Math.max(1,Math.abs(k),Math.abs(pe))&&Math.abs(q-be)<=s*Math.max(1,Math.abs(q),Math.abs(be))}var _i=At,Xo=si,Yo=ci,vi=di,Ko=fi,lr=rr,Jo=ar,yi=function(){var d=cn();return function(m,y,k,q,Q,pe){var be,ke;for(y||(y=3),k||(k=0),ke=q?Math.min(q*y+k,m.length):m.length,be=k;be<ke;be+=y)d[0]=m[be],d[1]=m[be+1],d[2]=m[be+2],Q(d,d,pe),m[be]=d[0],m[be+1]=d[1],m[be+2]=d[2];return m}}()},function(e,n,t){var r=t(13).default,i=t(1);e.exports=function(o,a){if(a&&(r(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(o)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(40);e.exports=function(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&r(i,o)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(141)();e.exports=r;try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,n,t){"use strict";n.a={init:function(r,i){r.fill(i)},shuffle:function(r){for(var i=r.length-1;i>0;i--){var o=Math.floor(Math.random()*(i+1)),a=[r[o],r[i]];r[i]=a[0],r[o]=a[1]}return r},toPointList:function(r){var i=r.reduce(function(o,a){var s="[".concat(a.join(","),"]");return o.push(s),o},[]);return"[".concat(i.join(`,\r
`),"]")},threshold:function(r,i,o){return r.reduce(function(a,s){return o.apply(r,[s])>=i&&a.push(s),a},[])},maxIndex:function(r){for(var i=0,o=0;o<r.length;o++)r[o]>r[i]&&(i=o);return i},max:function(r){for(var i=0,o=0;o<r.length;o++)r[o]>i&&(i=r[o]);return i},sum:function(r){for(var i=r.length,o=0;i--;)o+=r[i];return o}}},function(e,n,t){"use strict";t.d(n,"h",function(){return s}),t.d(n,"i",function(){return w}),t.d(n,"b",function(){return O}),t.d(n,"j",function(){return N}),t.d(n,"e",function(){return I}),t.d(n,"c",function(){return W}),t.d(n,"f",function(){return ee}),t.d(n,"g",function(){return Z}),t.d(n,"a",function(){return G}),t.d(n,"d",function(){return D});var r=t(5),i=t(9);r.a.setMatrixArrayType(Array);var o=function(M,T){var j=[],R={rad:0,vec:r.c.clone([0,0])},K={};function L(A){K[A.id]=A,j.push(A)}function X(){var A,J=0;for(A=0;A<j.length;A++)J+=j[A].rad;R.rad=J/j.length,R.vec=r.c.clone([Math.cos(R.rad),Math.sin(R.rad)])}return L(M),X(),{add:function(A){K[A.id]||(L(A),X())},fits:function(A){return Math.abs(r.c.dot(A.point.vec,R.vec))>T},getPoints:function(){return j},getCenter:function(){return R}}},a=function(M,T,j){return{rad:M[j],point:M,id:T}};function s(M,T){return{x:M,y:T,toVec2:function(){return r.c.clone([this.x,this.y])},toVec3:function(){return r.d.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function h(M,T){T||(T=8);for(var j=M.data,R=j.length,K=8-T,L=new Int32Array(1<<T);R--;)L[j[R]>>K]++;return L}function w(M,T){var j=function(R){var K,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,X=8-L;function A(ne,he){for(var de=0,fe=ne;fe<=he;fe++)de+=K[fe];return de}function J(ne,he){for(var de=0,fe=ne;fe<=he;fe++)de+=fe*K[fe];return de}function ae(){var ne,he,de,fe,Ce=[0],z=(1<<L)-1;K=h(R,L);for(var V=1;V<z;V++)(de=(ne=A(0,V))*(he=A(V+1,z)))===0&&(de=1),fe=J(0,V)*he-J(V+1,z)*ne,Ce[V]=fe*fe/de;return i.a.maxIndex(Ce)}var ce=ae();return ce<<X}(M);return function(R,K,L){L||(L=R);for(var X=R.data,A=X.length,J=L.data;A--;)J[A]=X[A]<K?1:0}(M,j,T),j}function O(M,T,j){var R,K,L,X,A=[];function J(ae){var ce=!1;for(K=0;K<A.length;K++)(L=A[K]).fits(ae)&&(L.add(ae),ce=!0);return ce}for(j||(j="rad"),R=0;R<M.length;R++)J(X=a(M[R],R,j))||A.push(o(X,T));return A}r.a.setMatrixArrayType(Array);function N(M,T,j){var R,K,L,X,A=0,J=0,ae=[];for(R=0;R<T;R++)ae[R]={score:0,item:null};for(R=0;R<M.length;R++)if((K=j.apply(this,[M[R]]))>J)for((L=ae[A]).score=K,L.item=M[R],J=Number.MAX_VALUE,X=0;X<T;X++)ae[X].score<J&&(J=ae[X].score,A=X);return ae}function I(M,T,j){for(var R,K=0,L=T.x,X=Math.floor(M.length/4),A=T.x/2,J=0,ae=T.x;L<X;){for(R=0;R<A;R++)j[J]=(.299*M[4*K+0]+.587*M[4*K+1]+.114*M[4*K+2]+(.299*M[4*(K+1)+0]+.587*M[4*(K+1)+1]+.114*M[4*(K+1)+2])+(.299*M[4*L+0]+.587*M[4*L+1]+.114*M[4*L+2])+(.299*M[4*(L+1)+0]+.587*M[4*(L+1)+1]+.114*M[4*(L+1)+2]))/4,J++,K+=2,L+=2;K+=ae,L+=ae}}function W(M,T,j){var R=M.length/4|0;if(j&&j.singleChannel===!0)for(var K=0;K<R;K++)T[K]=M[4*K+0];else for(var L=0;L<R;L++)T[L]=.299*M[4*L+0]+.587*M[4*L+1]+.114*M[4*L+2]}function ee(M,T){for(var j=M.data,R=M.size.x,K=T.data,L=0,X=R,A=j.length,J=R/2,ae=0;X<A;){for(var ce=0;ce<J;ce++)K[ae]=Math.floor((j[L]+j[L+1]+j[X]+j[X+1])/4),ae++,L+=2,X+=2;L+=R,X+=R}}function Z(M){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],j=M[0],R=M[1],K=M[2],L=K*R,X=L*(1-Math.abs(j/60%2-1)),A=K-L,J=0,ae=0,ce=0;return j<60?(J=L,ae=X):j<120?(J=X,ae=L):j<180?(ae=L,ce=X):j<240?(ae=X,ce=L):j<300?(J=X,ce=L):j<360&&(J=L,ce=X),T[0]=255*(J+A)|0,T[1]=255*(ae+A)|0,T[2]=255*(ce+A)|0,T}function ue(M){for(var T=[],j=[],R=1;R<Math.sqrt(M)+1;R++)M%R==0&&(j.push(R),R!==M/R&&T.unshift(Math.floor(M/R)));return j.concat(T)}function G(M,T){var j,R=ue(T.x),K=ue(T.y),L=Math.max(T.x,T.y),X=function(de,fe){for(var Ce=0,z=0,V=[];Ce<de.length&&z<fe.length;)de[Ce]===fe[z]?(V.push(de[Ce]),Ce++,z++):de[Ce]>fe[z]?z++:Ce++;return V}(R,K),A=[8,10,15,20,32,60,80],J={"x-small":5,small:4,medium:3,large:2,"x-large":1},ae=J[M]||J.medium,ce=A[ae],ne=Math.floor(L/ce);function he(de){for(var fe=0,Ce=de[Math.floor(de.length/2)];fe<de.length-1&&de[fe]<ne;)fe++;return fe>0&&(Ce=Math.abs(de[fe]-ne)>Math.abs(de[fe-1]-ne)?de[fe-1]:de[fe]),ne/Ce<A[ae+1]/A[ae]&&ne/Ce>A[ae-1]/A[ae]?{x:Ce,y:Ce}:null}return(j=he(X))||(j=he(ue(L)))||(j=he(ue(ne*ce))),j}var B={top:function(M,T){return M.unit==="%"?Math.floor(T.height*(M.value/100)):null},right:function(M,T){return M.unit==="%"?Math.floor(T.width-T.width*(M.value/100)):null},bottom:function(M,T){return M.unit==="%"?Math.floor(T.height-T.height*(M.value/100)):null},left:function(M,T){return M.unit==="%"?Math.floor(T.width*(M.value/100)):null}};function D(M,T,j){var R={width:M,height:T},K=Object.keys(j).reduce(function(L,X){var A=function(ae){return{value:parseFloat(ae),unit:(ae.indexOf("%"),ae.length,"%")}}(j[X]),J=B[X](A,R);return L[X]=J,L},{});return{sx:K.left,sy:K.top,sw:K.right-K.left,sh:K.bottom-K.top}}},function(e,n,t){"use strict";var r=t(62),i=t.n(r),o=t(3),a=t.n(o),s=t(4),h=t.n(s),w=t(0),O=t.n(w),N=t(5),I=t(9),W=t(10);function ee(ue){if(ue<0)throw new Error("expected positive number, received ".concat(ue))}N.a.setMatrixArrayType(Array);var Z=function(){function ue(G,B){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uint8Array,M=arguments.length>3?arguments[3]:void 0;a()(this,ue),O()(this,"data",void 0),O()(this,"size",void 0),O()(this,"indexMapping",void 0),B?this.data=B:(this.data=new D(G.x*G.y),M&&I.a.init(this.data,0)),this.size=G}return h()(ue,[{key:"inImageWithBorder",value:function(G){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ee(B),G.x>=0&&G.y>=0&&G.x<this.size.x+2*B&&G.y<this.size.y+2*B}},{key:"subImageAsCopy",value:function(G,B){ee(B.x),ee(B.y);for(var D=G.size,M=D.x,T=D.y,j=0;j<M;j++)for(var R=0;R<T;R++)G.data[R*M+j]=this.data[(B.y+R)*this.size.x+B.x+j];return G}},{key:"get",value:function(G,B){return this.data[B*this.size.x+G]}},{key:"getSafe",value:function(G,B){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var D=0;D<this.size.x;D++)this.indexMapping.x[D]=D,this.indexMapping.x[D+this.size.x]=D;for(var M=0;M<this.size.y;M++)this.indexMapping.y[M]=M,this.indexMapping.y[M+this.size.y]=M}return this.data[this.indexMapping.y[B+this.size.y]*this.size.x+this.indexMapping.x[G+this.size.x]]}},{key:"set",value:function(G,B,D){return this.data[B*this.size.x+G]=D,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var G=this.size,B=G.x,D=G.y,M=0;M<B;M++)this.data[M]=this.data[(D-1)*B+M]=0;for(var T=1;T<D-1;T++)this.data[T*B]=this.data[T*B+(B-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(G){var B,D,M,T,j,R,K,L,X,A,J=this.data,ae=this.size.y,ce=this.size.x,ne=[],he=[],de=Math.PI,fe=de/4;if(G<=0)return he;for(j=0;j<G;j++)ne[j]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(D=0;D<ae;D++)for(T=D*D,B=0;B<ce;B++)(M=J[D*ce+B])>0&&((R=ne[M-1]).m00+=1,R.m01+=D,R.m10+=B,R.m11+=B*D,R.m02+=T,R.m20+=B*B);for(j=0;j<G;j++)R=ne[j],isNaN(R.m00)||R.m00===0||(L=R.m10/R.m00,X=R.m01/R.m00,K=R.m11/R.m00-L*X,A=(R.m02/R.m00-X*X-(R.m20/R.m00-L*L))/(2*K),A=.5*Math.atan(A)+(K>=0?fe:-fe)+de,R.theta=(180*A/de+90)%180-90,R.theta<0&&(R.theta+=180),R.rad=A>de?A-de:A,R.vec=N.c.clone([Math.cos(A),Math.sin(A)]),he.push(R));return he}},{key:"getAsRGBA",value:function(){for(var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,B=new Uint8ClampedArray(4*this.size.x*this.size.y),D=0;D<this.size.y;D++)for(var M=0;M<this.size.x;M++){var T=D*this.size.x+M,j=this.get(M,D)*G;B[4*T+0]=j,B[4*T+1]=j,B[4*T+2]=j,B[4*T+3]=255}return B}},{key:"show",value:function(G){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var D=G.getContext("2d");if(!D)throw new Error("Unable to get canvas context");var M=D.getImageData(0,0,G.width,G.height),T=this.getAsRGBA(B);G.width=this.size.x,G.height=this.size.y;var j=new ImageData(T,M.width,M.height);D.putImageData(j,0,0)}},{key:"overlay",value:function(G,B,D){var M=B<0||B>360?360:B,T=[0,1,1],j=[0,0,0],R=[255,255,255],K=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var L=G.getContext("2d");if(!L)throw new Error("Unable to get canvas context");for(var X=L.getImageData(D.x,D.y,this.size.x,this.size.y),A=X.data,J=this.data.length;J--;){T[0]=this.data[J]*M;var ae=4*J,ce=T[0]<=0?R:T[0]>=360?K:Object(W.g)(T,j),ne=i()(ce,3);A[ae]=ne[0],A[ae+1]=ne[1],A[ae+2]=ne[2],A[ae+3]=255}L.putImageData(X,D.x,D.y)}}]),ue}();n.a=Z},function(e,n){function t(r,i,o,a,s,h,w){try{var O=r[h](w),N=O.value}catch(I){return void o(I)}O.done?i(N):Promise.resolve(N).then(a,s)}e.exports=function(r){return function(){var i=this,o=arguments;return new Promise(function(a,s){var h=r.apply(i,o);function w(N){t(h,a,s,w,O,"next",N)}function O(N){t(h,a,s,w,O,"throw",N)}w(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){function t(r){return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(142);function i(){return typeof Reflect<"u"&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(o,a,s){var h=r(o,a);if(h){var w=Object.getOwnPropertyDescriptor(h,a);return w.get?w.get.call(arguments.length<3?o:s):w.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}},function(e,n){var t=Array.isArray;e.exports=t},function(e,n,t){"use strict";n.a={drawRect:function(r,i,o,a){o.strokeStyle=a.color,o.fillStyle=a.color,o.lineWidth=a.lineWidth||1,o.beginPath(),o.strokeRect(r.x,r.y,i.x,i.y)},drawPath:function(r,i,o,a){o.strokeStyle=a.color,o.fillStyle=a.color,o.lineWidth=a.lineWidth,o.beginPath(),o.moveTo(r[0][i.x],r[0][i.y]);for(var s=1;s<r.length;s++)o.lineTo(r[s][i.x],r[s][i.y]);o.closePath(),o.stroke()},drawImage:function(r,i,o){var a=o.getImageData(0,0,i.x,i.y),s=a.data,h=s.length,w=r.length;if(h/w!=4)return!1;for(;w--;){var O=r[w];s[--h]=255,s[--h]=O,s[--h]=O,s[--h]=O}return o.putImageData(a,0,0),!0}}},function(e,n,t){var r=t(74),i=t(129)(function(o,a,s){r(o,a,s)});e.exports=i},function(e,n,t){var r=t(44),i=typeof self=="object"&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,n){e.exports=function(t){return t!=null&&typeof t=="object"}},function(e,n,t){"use strict";n.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(r,i){var o,a=r.data,s=i.data,h=this.searchDirections,w=r.size.x;function O(I,W,ee,Z){var ue,G,B;for(ue=0;ue<h.length;ue++){if(G=I.cy+h[I.dir][0],B=I.cx+h[I.dir][1],a[o=G*w+B]===W&&(s[o]===0||s[o]===ee))return s[o]=ee,I.cy=G,I.cx=B,!0;s[o]===0&&(s[o]=Z),I.dir=(I.dir+1)%8}return!1}function N(I,W,ee){return{dir:ee,x:I,y:W,next:null,prev:null}}return{trace:function(I,W,ee,Z){return O(I,W,ee,Z)},contourTracing:function(I,W,ee,Z,ue){return function(G,B,D,M,T){var j,R,K,L=null,X={cx:B,cy:G,dir:0};if(O(X,M,D,T)){j=L=N(B,G,X.dir),K=X.dir,(R=N(X.cx,X.cy,0)).prev=j,j.next=R,R.next=null,j=R;var A=r.size.x*r.size.y,J=0;do X.dir=(X.dir+6)%8,O(X,M,D,T),K!==X.dir?(j.dir=X.dir,(R=N(X.cx,X.cy,0)).prev=j,j.next=R,R.next=null,j=R):(j.dir=K,j.x=X.cx,j.y=X.cy),K=X.dir;while((X.cx!==B||X.cy!==G)&&++J<A);L.prev=j.prev,j.prev.next=L}return L}(I,W,ee,Z,ue)}}}}},function(e,n,t){var r=t(27),i=t(87),o=t(88),a=r?r.toStringTag:void 0;e.exports=function(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":a&&a in Object(s)?i(s):o(s)}},function(e,n,t){"use strict";(function(r){var i,o,a,s,h,w,O,N,I,W,ee=t(5),Z=t(11),ue=t(10),G=t(9),B=(t(17),t(65)),D=t(21),M=t(66);ee.a.setMatrixArrayType(Array);var T,j,R={ctx:{binary:null},dom:{binary:null}},K={x:0,y:0};function L(J){var ae,ce,ne,he,de,fe,Ce,z=I.size.x,V=I.size.y,$=-I.size.x,ye=-I.size.y;for(ae=0,ce=0;ce<J.length;ce++)ae+=(he=J[ce]).rad;for((ae=(180*(ae/=J.length)/Math.PI+90)%180-90)<0&&(ae+=180),ae=(180-ae)*Math.PI/180,de=ee.b.copy(ee.b.create(),[Math.cos(ae),Math.sin(ae),-Math.sin(ae),Math.cos(ae)]),ce=0;ce<J.length;ce++)for(he=J[ce],ne=0;ne<4;ne++)ee.c.transformMat2(he.box[ne],he.box[ne],de);for(ce=0;ce<J.length;ce++)for(he=J[ce],ne=0;ne<4;ne++)he.box[ne][0]<z&&(z=he.box[ne][0]),he.box[ne][0]>$&&($=he.box[ne][0]),he.box[ne][1]<V&&(V=he.box[ne][1]),he.box[ne][1]>ye&&(ye=he.box[ne][1]);for(fe=[[z,V],[$,V],[$,ye],[z,ye]],Ce=i.halfSample?2:1,de=ee.b.invert(de,de),ne=0;ne<4;ne++)ee.c.transformMat2(fe[ne],fe[ne],de);for(ne=0;ne<4;ne++)ee.c.scale(fe[ne],fe[ne],Ce);return fe}function X(J,ae){I.subImageAsCopy(s,Object(ue.h)(J,ae)),j.skeletonize()}function A(J,ae,ce,ne){var he,de,fe,Ce,z=[],V=[],$=Math.ceil(W.x/3);if(J.length>=2){for(he=0;he<J.length;he++)J[he].m00>$&&z.push(J[he]);if(z.length>=2){for(fe=function(Ie){var je=Object(ue.b)(Ie,.9),Ge=Object(ue.j)(je,1,function(dt){return dt.getPoints().length}),Je=[],lt=[];if(Ge.length===1){Je=Ge[0].item.getPoints();for(var ft=0;ft<Je.length;ft++)lt.push(Je[ft].point)}return lt}(z),de=0,he=0;he<fe.length;he++){var ye,ge;de+=(ye=(ge=fe[he])===null||ge===void 0?void 0:ge.rad)!==null&&ye!==void 0?ye:0}fe.length>1&&fe.length>=z.length/4*3&&fe.length>J.length/4&&(de/=fe.length,Ce={index:ae[1]*K.x+ae[0],pos:{x:ce,y:ne},box:[ee.c.clone([ce,ne]),ee.c.clone([ce+s.size.x,ne]),ee.c.clone([ce+s.size.x,ne+s.size.y]),ee.c.clone([ce,ne+s.size.y])],moments:fe,rad:de,vec:ee.c.clone([Math.cos(de),Math.sin(de)])},V.push(Ce))}}return V}n.a={init:function(J,ae){i=ae,T=J,function(){o=i.halfSample?new Z.a({x:T.size.x/2|0,y:T.size.y/2|0}):T,W=Object(ue.a)(i.patchSize,o.size),K.x=o.size.x/W.x|0,K.y=o.size.y/W.y|0,I=new Z.a(o.size,void 0,Uint8Array,!1),h=new Z.a(W,void 0,Array,!0);var ce=new ArrayBuffer(65536);s=new Z.a(W,new Uint8Array(ce,0,W.x*W.y)),a=new Z.a(W,new Uint8Array(ce,W.x*W.y*3,W.x*W.y),void 0,!0),j=Object(M.a)(typeof window<"u"?window:typeof self<"u"?self:r,{size:W.x},ce),N=new Z.a({x:o.size.x/s.size.x|0,y:o.size.y/s.size.y|0},void 0,Array,!0),w=new Z.a(N.size,void 0,void 0,!0),O=new Z.a(N.size,void 0,Int32Array,!0)}(),function(){if(!i.useWorker&&typeof document<"u"){R.dom.binary=document.createElement("canvas"),R.dom.binary.className="binaryBuffer";var ce=!!i.willReadFrequently;console.warn("* initCanvas willReadFrequently",ce,i),R.ctx.binary=R.dom.binary.getContext("2d",{willReadFrequently:ce}),R.dom.binary.width=I.size.x,R.dom.binary.height=I.size.y}}()},locate:function(){i.halfSample&&Object(ue.f)(T,o),Object(ue.i)(o,I),I.zeroBorder();var J=function(){var ne,he,de,fe,Ce,z,V=[];for(ne=0;ne<K.x;ne++)for(he=0;he<K.y;he++)X(de=s.size.x*ne,fe=s.size.y*he),a.zeroBorder(),G.a.init(h.data,0),z=B.a.create(a,h).rasterize(0),Ce=h.moments(z.count),V=V.concat(A(Ce,[ne,he],de,fe));return V}();if(J.length<K.x*K.y*.05)return null;var ae=function(ne){var he,de,fe=0,Ce=0;function z(){var $;for($=0;$<O.data.length;$++)if(O.data[$]===0&&w.data[$]===1)return $;return O.data.length}function V($){var ye,ge,Ie,je,Ge,Je=$%O.size.x,lt=$/O.size.x|0;if($<O.data.length)for(Ie=N.data[$],O.data[$]=fe,Ge=0;Ge<D.a.searchDirections.length;Ge++)ge=lt+D.a.searchDirections[Ge][0],ye=Je+D.a.searchDirections[Ge][1],je=ge*O.size.x+ye,w.data[je]!==0?O.data[je]===0&&Math.abs(ee.c.dot(N.data[je].vec,Ie.vec))>.95&&V(je):O.data[je]=Number.MAX_VALUE}for(G.a.init(w.data,0),G.a.init(O.data,0),G.a.init(N.data,null),he=0;he<ne.length;he++)de=ne[he],N.data[de.index]=de,w.data[de.index]=1;for(w.zeroBorder();(Ce=z())<O.data.length;)fe++,V(Ce);return fe}(J);if(ae<1)return null;var ce=function(ne){var he,de,fe=[];for(he=0;he<ne;he++)fe.push(0);for(de=O.data.length;de--;)O.data[de]>0&&fe[O.data[de]-1]++;return(fe=fe.map(function(Ce,z){return{val:Ce,label:z+1}})).sort(function(Ce,z){return z.val-Ce.val}),fe.filter(function(Ce){return Ce.val>=5})}(ae);return ce.length===0?null:function(ne,he){var de,fe,Ce,z,V=[],$=[];for(de=0;de<ne.length;de++){for(fe=O.data.length,V.length=0;fe--;)O.data[fe]===ne[de].label&&(Ce=N.data[fe],V.push(Ce));(z=L(V))&&$.push(z)}return $}(ce)},checkImageConstraints:function(J,ae){var ce,ne,he=J.getWidth(),de=J.getHeight(),fe=ae.halfSample?.5:1;J.getConfig().area&&(ne=Object(ue.d)(he,de,J.getConfig().area),J.setTopRight({x:ne.sx,y:ne.sy}),J.setCanvasSize({x:he,y:de}),he=ne.sw,de=ne.sh);var Ce={x:Math.floor(he*fe),y:Math.floor(de*fe)};if(ce=Object(ue.a)(ae.patchSize,Ce),J.setWidth(Math.max(Math.floor(Math.floor(Ce.x/ce.x)*(1/fe)*ce.x),ce.x)),J.setHeight(Math.max(Math.floor(Math.floor(Ce.y/ce.y)*(1/fe)*ce.y),ce.y)),J.getWidth()%ce.x==0&&J.getHeight()%ce.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(he," )and height (").concat(de,") must a multiple of ").concat(ce.x))}}}).call(this,t(45))},function(e,n,t){var r=t(76),i=t(77),o=t(78),a=t(79),s=t(80);function h(w){var O=-1,N=w==null?0:w.length;for(this.clear();++O<N;){var I=w[O];this.set(I[0],I[1])}}h.prototype.clear=r,h.prototype.delete=i,h.prototype.get=o,h.prototype.has=a,h.prototype.set=s,e.exports=h},function(e,n,t){var r=t(26);e.exports=function(i,o){for(var a=i.length;a--;)if(r(i[a][0],o))return a;return-1}},function(e,n){e.exports=function(t,r){return t===r||t!=t&&r!=r}},function(e,n,t){var r=t(19).Symbol;e.exports=r},function(e,n,t){var r=t(34)(Object,"create");e.exports=r},function(e,n,t){var r=t(101);e.exports=function(i,o){var a=i.__data__;return r(o)?a[typeof o=="string"?"string":"hash"]:a.map}},function(e,n,t){var r=t(116),i=t(20),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,h=r(function(){return arguments}())?r:function(w){return i(w)&&a.call(w,"callee")&&!s.call(w,"callee")};e.exports=h},function(e,n){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(r,i){var o=typeof r;return!!(i=i??9007199254740991)&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}},function(e,n,t){var r=t(16),i=t(149),o=t(150),a=t(153);e.exports=function(s,h){return r(s)?s:i(s,h)?[s]:o(a(s))}},function(e,n,t){var r=t(143),i=t(144),o=t(59),a=t(145);e.exports=function(s){return r(s)||i(s)||o(s)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(86),i=t(92);e.exports=function(o,a){var s=i(o,a);return r(s)?s:void 0}},function(e,n,t){var r=t(22),i=t(15);e.exports=function(o){if(!i(o))return!1;var a=r(o);return a=="[object Function]"||a=="[object GeneratorFunction]"||a=="[object AsyncFunction]"||a=="[object Proxy]"}},function(e,n,t){var r=t(48);e.exports=function(i,o,a){o=="__proto__"&&r?r(i,o,{configurable:!0,enumerable:!0,value:a,writable:!0}):i[o]=a}},function(e,n){e.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(e,n,t){var r=t(35),i=t(39);e.exports=function(o){return o!=null&&i(o.length)&&!r(o)}},function(e,n){e.exports=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991}},function(e,n){function t(r,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(22),i=t(20);e.exports=function(o){return typeof o=="symbol"||i(o)&&r(o)=="[object Symbol]"}},function(e,n,t){var r=t(41);e.exports=function(i){if(typeof i=="string"||r(i))return i;var o=i+"";return o=="0"&&1/i==-1/0?"-0":o}},function(e,n,t){var r=t(34)(t(19),"Map");e.exports=r},function(e,n,t){(function(r){var i=typeof r=="object"&&r&&r.Object===Object&&r;e.exports=i}).call(this,t(45))},function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}e.exports=t},function(e,n,t){var r=t(93),i=t(100),o=t(102),a=t(103),s=t(104);function h(w){var O=-1,N=w==null?0:w.length;for(this.clear();++O<N;){var I=w[O];this.set(I[0],I[1])}}h.prototype.clear=r,h.prototype.delete=i,h.prototype.get=o,h.prototype.has=a,h.prototype.set=s,e.exports=h},function(e,n,t){var r=t(36),i=t(26);e.exports=function(o,a,s){(s!==void 0&&!i(o[a],s)||s===void 0&&!(a in o))&&r(o,a,s)}},function(e,n,t){var r=t(34),i=function(){try{var o=r(Object,"defineProperty");return o({},"",{}),o}catch{}}();e.exports=i},function(e,n,t){var r=t(115)(Object.getPrototypeOf,Object);e.exports=r},function(e,n){var t=Object.prototype;e.exports=function(r){var i=r&&r.constructor;return r===(typeof i=="function"&&i.prototype||t)}},function(e,n,t){(function(r){var i=t(19),o=t(118),a=n&&!n.nodeType&&n,s=a&&typeof r=="object"&&r&&!r.nodeType&&r,h=s&&s.exports===a?i.Buffer:void 0,w=(h?h.isBuffer:void 0)||o;r.exports=w}).call(this,t(37)(e))},function(e,n,t){var r=t(120),i=t(121),o=t(122),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,n){e.exports=function(t,r){if((r!=="constructor"||typeof t[r]!="function")&&r!="__proto__")return t[r]}},function(e,n,t){var r=t(36),i=t(26),o=Object.prototype.hasOwnProperty;e.exports=function(a,s,h){var w=a[s];o.call(a,s)&&i(w,h)&&(h!==void 0||s in a)||r(a,s,h)}},function(e,n,t){var r=t(125),i=t(127),o=t(38);e.exports=function(a){return o(a)?r(a,!0):i(a)}},function(e,n){e.exports=function(t){return t}},function(e,n,t){var r=t(131),i=Math.max;e.exports=function(o,a,s){return a=i(a===void 0?o.length-1:a,0),function(){for(var h=arguments,w=-1,O=i(h.length-a,0),N=Array(O);++w<O;)N[w]=h[a+w];w=-1;for(var I=Array(a+1);++w<a;)I[w]=h[w];return I[a]=s(N),r(o,this,I)}}},function(e,n,t){var r=t(132),i=t(134)(r);e.exports=i},function(e,n,t){var r=t(60);e.exports=function(i,o){if(i){if(typeof i=="string")return r(i,o);var a=Object.prototype.toString.call(i).slice(8,-1);return a==="Object"&&i.constructor&&(a=i.constructor.name),a==="Map"||a==="Set"?Array.from(i):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(i,o):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(t,r){(r==null||r>t.length)&&(r=t.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(13).default,i=t(140);e.exports=function(o){var a=i(o,"string");return r(a)==="symbol"?a:String(a)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(137),i=t(138),o=t(59),a=t(139);e.exports=function(s,h){return r(s)||i(s,h)||o(s,h)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(146),i=t(160)(function(o,a){return o==null?{}:r(o,a)});e.exports=i},function(e,n,t){var r=t(2),i=t(40),o=t(165),a=t(166);function s(h){var w=typeof Map=="function"?new Map:void 0;return e.exports=s=function(O){if(O===null||!o(O))return O;if(typeof O!="function")throw new TypeError("Super expression must either be null or a function");if(w!==void 0){if(w.has(O))return w.get(O);w.set(O,N)}function N(){return a(O,arguments,r(this).constructor)}return N.prototype=Object.create(O.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),i(N,O)},e.exports.__esModule=!0,e.exports.default=e.exports,s(h)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){"use strict";var r=t(21),i={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(o,a){var s=o.data,h=a.data,w=o.size.x,O=o.size.y,N=r.a.create(o,a);return{rasterize:function(I){var W,ee,Z,ue,G,B,D,M,T,j,R,K,L=[],X=0;for(K=0;K<400;K++)L[K]=0;for(L[0]=s[0],T=null,B=1;B<O-1;B++)for(ue=0,ee=L[0],G=1;G<w-1;G++)if(h[R=B*w+G]===0)if((W=s[R])!==ee){if(ue===0)L[Z=X+1]=W,ee=W,(D=N.contourTracing(B,G,Z,W,i.DIR.OUTSIDE_EDGE))!==null&&(X++,ue=Z,(M=i.createContour2D()).dir=i.CONTOUR_DIR.CW_DIR,M.index=ue,M.firstVertex=D,M.nextpeer=T,M.insideContours=null,T!==null&&(T.prevpeer=M),T=M);else if((D=N.contourTracing(B,G,i.DIR.INSIDE_EDGE,W,ue))!==null){for((M=i.createContour2D()).firstVertex=D,M.insideContours=null,M.dir=I===0?i.CONTOUR_DIR.CCW_DIR:i.CONTOUR_DIR.CW_DIR,M.index=I,j=T;j!==null&&j.index!==ue;)j=j.nextpeer;j!==null&&(M.nextpeer=j.insideContours,j.insideContours!==null&&(j.insideContours.prevpeer=M),j.insideContours=M)}}else h[R]=ue;else h[R]===i.DIR.OUTSIDE_EDGE||h[R]===i.DIR.INSIDE_EDGE?(ue=0,ee=h[R]===i.DIR.INSIDE_EDGE?s[R]:L[0]):ee=L[ue=h[R]];for(j=T;j!==null;)j.index=I,j=j.nextpeer;return{cc:T,count:X}},debug:{drawContour:function(I,W){var ee,Z,ue,G=I.getContext("2d"),B=W;for(G.strokeStyle="red",G.fillStyle="red",G.lineWidth=1,ee=B!==null?B.insideContours:null;B!==null;){switch(ee!==null?(Z=ee,ee=ee.nextpeer):(Z=B,ee=(B=B.nextpeer)!==null?B.insideContours:null),Z.dir){case i.CONTOUR_DIR.CW_DIR:G.strokeStyle="red";break;case i.CONTOUR_DIR.CCW_DIR:G.strokeStyle="blue";break;case i.CONTOUR_DIR.UNKNOWN_DIR:G.strokeStyle="green"}ue=Z.firstVertex,G.beginPath(),G.moveTo(ue.x,ue.y);do ue=ue.next,G.lineTo(ue.x,ue.y);while(ue!==Z.firstVertex);G.stroke()}}}}}};n.a=i},function(e,n,t){"use strict";n.a=function(r,i,o){var a=new r.Uint8Array(o),s=i.size|0,h=r.Math.imul;function w(B,D){B|=0,D|=0;var M=0,T=0,j=0,R=0,K=0,L=0,X=0,A=0;for(M=1;(M|0)<(s-1|0);M=M+1|0)for(A=A+s|0,T=1;(T|0)<(s-1|0);T=T+1|0)R=A-s|0,K=A+s|0,L=T-1|0,X=T+1|0,j=(a[B+R+L|0]|0)+(a[B+R+X|0]|0)+(a[B+A+T|0]|0)+(a[B+K+L|0]|0)+(a[B+K+X|0]|0)|0,(j|0)==5?a[D+A+T|0]=1:a[D+A+T|0]=0}function O(B,D,M){B|=0,D|=0,M|=0;var T=0;for(T=h(s,s)|0;(T|0)>0;)T=T-1|0,a[M+T|0]=(a[B+T|0]|0)-(a[D+T|0]|0)|0}function N(B,D,M){B|=0,D|=0,M|=0;var T=0;for(T=h(s,s)|0;(T|0)>0;)T=T-1|0,a[M+T|0]=a[B+T|0]|0|(a[D+T|0]|0)|0}function I(B){B|=0;var D=0,M=0;for(M=h(s,s)|0;(M|0)>0;)M=M-1|0,D=(D|0)+(a[B+M|0]|0)|0;return D|0}function W(B,D){B|=0,D|=0;var M=0;for(M=h(s,s)|0;(M|0)>0;)M=M-1|0,a[B+M|0]=D}function ee(B,D){B|=0,D|=0;var M=0,T=0,j=0,R=0,K=0,L=0,X=0,A=0;for(M=1;(M|0)<(s-1|0);M=M+1|0)for(A=A+s|0,T=1;(T|0)<(s-1|0);T=T+1|0)R=A-s|0,K=A+s|0,L=T-1|0,X=T+1|0,j=(a[B+R+L|0]|0)+(a[B+R+X|0]|0)+(a[B+A+T|0]|0)+(a[B+K+L|0]|0)+(a[B+K+X|0]|0)|0,(j|0)>0?a[D+A+T|0]=1:a[D+A+T|0]=0}function Z(B,D){B|=0,D|=0;var M=0;for(M=h(s,s)|0;(M|0)>0;)M=M-1|0,a[D+M|0]=a[B+M|0]|0}function ue(B){B|=0;var D=0,M=0;for(D=0;(D|0)<(s-1|0);D=D+1|0)a[B+D|0]=0,a[B+M|0]=0,M=M+s-1|0,a[B+M|0]=0,M=M+1|0;for(D=0;(D|0)<(s|0);D=D+1|0)a[B+M|0]=0,M=M+1|0}function G(){var B=0,D=0,M=0,T=0,j=0,R=0;D=h(s,s)|0,M=D+D|0,T=M+D|0,W(T,0),ue(B);do w(B,D),ee(D,M),O(B,M,M),N(T,M,T),Z(D,B),j=I(B)|0,R=(j|0)==0|0;while(!R)}return{skeletonize:G}}},,,,,,,function(e,n,t){e.exports=t(168)},function(e,n,t){var r=t(75),i=t(47),o=t(105),a=t(107),s=t(15),h=t(55),w=t(53);e.exports=function O(N,I,W,ee,Z){N!==I&&o(I,function(ue,G){if(Z||(Z=new r),s(ue))a(N,I,G,W,O,ee,Z);else{var B=ee?ee(w(N,G),ue,G+"",N,I,Z):void 0;B===void 0&&(B=ue),i(N,G,B)}},h)}},function(e,n,t){var r=t(24),i=t(81),o=t(82),a=t(83),s=t(84),h=t(85);function w(O){var N=this.__data__=new r(O);this.size=N.size}w.prototype.clear=i,w.prototype.delete=o,w.prototype.get=a,w.prototype.has=s,w.prototype.set=h,e.exports=w},function(e,n){e.exports=function(){this.__data__=[],this.size=0}},function(e,n,t){var r=t(25),i=Array.prototype.splice;e.exports=function(o){var a=this.__data__,s=r(a,o);return!(s<0)&&(s==a.length-1?a.pop():i.call(a,s,1),--this.size,!0)}},function(e,n,t){var r=t(25);e.exports=function(i){var o=this.__data__,a=r(o,i);return a<0?void 0:o[a][1]}},function(e,n,t){var r=t(25);e.exports=function(i){return r(this.__data__,i)>-1}},function(e,n,t){var r=t(25);e.exports=function(i,o){var a=this.__data__,s=r(a,i);return s<0?(++this.size,a.push([i,o])):a[s][1]=o,this}},function(e,n,t){var r=t(24);e.exports=function(){this.__data__=new r,this.size=0}},function(e,n){e.exports=function(t){var r=this.__data__,i=r.delete(t);return this.size=r.size,i}},function(e,n){e.exports=function(t){return this.__data__.get(t)}},function(e,n){e.exports=function(t){return this.__data__.has(t)}},function(e,n,t){var r=t(24),i=t(43),o=t(46);e.exports=function(a,s){var h=this.__data__;if(h instanceof r){var w=h.__data__;if(!i||w.length<199)return w.push([a,s]),this.size=++h.size,this;h=this.__data__=new o(w)}return h.set(a,s),this.size=h.size,this}},function(e,n,t){var r=t(35),i=t(89),o=t(15),a=t(91),s=/^\[object .+?Constructor\]$/,h=Function.prototype,w=Object.prototype,O=h.toString,N=w.hasOwnProperty,I=RegExp("^"+O.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(W){return!(!o(W)||i(W))&&(r(W)?I:s).test(a(W))}},function(e,n,t){var r=t(27),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(h){var w=o.call(h,s),O=h[s];try{h[s]=void 0;var N=!0}catch{}var I=a.call(h);return N&&(w?h[s]=O:delete h[s]),I}},function(e,n){var t=Object.prototype.toString;e.exports=function(r){return t.call(r)}},function(e,n,t){var r,i=t(90),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(a){return!!o&&o in a}},function(e,n,t){var r=t(19)["__core-js_shared__"];e.exports=r},function(e,n){var t=Function.prototype.toString;e.exports=function(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}},function(e,n){e.exports=function(t,r){return t?.[r]}},function(e,n,t){var r=t(94),i=t(24),o=t(43);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,n,t){var r=t(95),i=t(96),o=t(97),a=t(98),s=t(99);function h(w){var O=-1,N=w==null?0:w.length;for(this.clear();++O<N;){var I=w[O];this.set(I[0],I[1])}}h.prototype.clear=r,h.prototype.delete=i,h.prototype.get=o,h.prototype.has=a,h.prototype.set=s,e.exports=h},function(e,n,t){var r=t(28);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,n){e.exports=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}},function(e,n,t){var r=t(28),i=Object.prototype.hasOwnProperty;e.exports=function(o){var a=this.__data__;if(r){var s=a[o];return s==="__lodash_hash_undefined__"?void 0:s}return i.call(a,o)?a[o]:void 0}},function(e,n,t){var r=t(28),i=Object.prototype.hasOwnProperty;e.exports=function(o){var a=this.__data__;return r?a[o]!==void 0:i.call(a,o)}},function(e,n,t){var r=t(28);e.exports=function(i,o){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=r&&o===void 0?"__lodash_hash_undefined__":o,this}},function(e,n,t){var r=t(29);e.exports=function(i){var o=r(this,i).delete(i);return this.size-=o?1:0,o}},function(e,n){e.exports=function(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}},function(e,n,t){var r=t(29);e.exports=function(i){return r(this,i).get(i)}},function(e,n,t){var r=t(29);e.exports=function(i){return r(this,i).has(i)}},function(e,n,t){var r=t(29);e.exports=function(i,o){var a=r(this,i),s=a.size;return a.set(i,o),this.size+=a.size==s?0:1,this}},function(e,n,t){var r=t(106)();e.exports=r},function(e,n){e.exports=function(t){return function(r,i,o){for(var a=-1,s=Object(r),h=o(r),w=h.length;w--;){var O=h[t?w:++a];if(i(s[O],O,s)===!1)break}return r}}},function(e,n,t){var r=t(47),i=t(108),o=t(109),a=t(112),s=t(113),h=t(30),w=t(16),O=t(117),N=t(51),I=t(35),W=t(15),ee=t(119),Z=t(52),ue=t(53),G=t(123);e.exports=function(B,D,M,T,j,R,K){var L=ue(B,M),X=ue(D,M),A=K.get(X);if(A)r(B,M,A);else{var J=R?R(L,X,M+"",B,D,K):void 0,ae=J===void 0;if(ae){var ce=w(X),ne=!ce&&N(X),he=!ce&&!ne&&Z(X);J=X,ce||ne||he?w(L)?J=L:O(L)?J=a(L):ne?(ae=!1,J=i(X,!0)):he?(ae=!1,J=o(X,!0)):J=[]:ee(X)||h(X)?(J=L,h(L)?J=G(L):W(L)&&!I(L)||(J=s(X))):ae=!1}ae&&(K.set(X,J),j(J,X,T,R,K),K.delete(X)),r(B,M,J)}}},function(e,n,t){(function(r){var i=t(19),o=n&&!n.nodeType&&n,a=o&&typeof r=="object"&&r&&!r.nodeType&&r,s=a&&a.exports===o?i.Buffer:void 0,h=s?s.allocUnsafe:void 0;r.exports=function(w,O){if(O)return w.slice();var N=w.length,I=h?h(N):new w.constructor(N);return w.copy(I),I}}).call(this,t(37)(e))},function(e,n,t){var r=t(110);e.exports=function(i,o){var a=o?r(i.buffer):i.buffer;return new i.constructor(a,i.byteOffset,i.length)}},function(e,n,t){var r=t(111);e.exports=function(i){var o=new i.constructor(i.byteLength);return new r(o).set(new r(i)),o}},function(e,n,t){var r=t(19).Uint8Array;e.exports=r},function(e,n){e.exports=function(t,r){var i=-1,o=t.length;for(r||(r=Array(o));++i<o;)r[i]=t[i];return r}},function(e,n,t){var r=t(114),i=t(49),o=t(50);e.exports=function(a){return typeof a.constructor!="function"||o(a)?{}:r(i(a))}},function(e,n,t){var r=t(15),i=Object.create,o=function(){function a(){}return function(s){if(!r(s))return{};if(i)return i(s);a.prototype=s;var h=new a;return a.prototype=void 0,h}}();e.exports=o},function(e,n){e.exports=function(t,r){return function(i){return t(r(i))}}},function(e,n,t){var r=t(22),i=t(20);e.exports=function(o){return i(o)&&r(o)=="[object Arguments]"}},function(e,n,t){var r=t(38),i=t(20);e.exports=function(o){return i(o)&&r(o)}},function(e,n){e.exports=function(){return!1}},function(e,n,t){var r=t(22),i=t(49),o=t(20),a=Function.prototype,s=Object.prototype,h=a.toString,w=s.hasOwnProperty,O=h.call(Object);e.exports=function(N){if(!o(N)||r(N)!="[object Object]")return!1;var I=i(N);if(I===null)return!0;var W=w.call(I,"constructor")&&I.constructor;return typeof W=="function"&&W instanceof W&&h.call(W)==O}},function(e,n,t){var r=t(22),i=t(39),o=t(20),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(s){return o(s)&&i(s.length)&&!!a[r(s)]}},function(e,n){e.exports=function(t){return function(r){return t(r)}}},function(e,n,t){(function(r){var i=t(44),o=n&&!n.nodeType&&n,a=o&&typeof r=="object"&&r&&!r.nodeType&&r,s=a&&a.exports===o&&i.process,h=function(){try{var w=a&&a.require&&a.require("util").types;return w||s&&s.binding&&s.binding("util")}catch{}}();r.exports=h}).call(this,t(37)(e))},function(e,n,t){var r=t(124),i=t(55);e.exports=function(o){return r(o,i(o))}},function(e,n,t){var r=t(54),i=t(36);e.exports=function(o,a,s,h){var w=!s;s||(s={});for(var O=-1,N=a.length;++O<N;){var I=a[O],W=h?h(s[I],o[I],I,s,o):void 0;W===void 0&&(W=o[I]),w?i(s,I,W):r(s,I,W)}return s}},function(e,n,t){var r=t(126),i=t(30),o=t(16),a=t(51),s=t(31),h=t(52),w=Object.prototype.hasOwnProperty;e.exports=function(O,N){var I=o(O),W=!I&&i(O),ee=!I&&!W&&a(O),Z=!I&&!W&&!ee&&h(O),ue=I||W||ee||Z,G=ue?r(O.length,String):[],B=G.length;for(var D in O)!N&&!w.call(O,D)||ue&&(D=="length"||ee&&(D=="offset"||D=="parent")||Z&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||s(D,B))||G.push(D);return G}},function(e,n){e.exports=function(t,r){for(var i=-1,o=Array(t);++i<t;)o[i]=r(i);return o}},function(e,n,t){var r=t(15),i=t(50),o=t(128),a=Object.prototype.hasOwnProperty;e.exports=function(s){if(!r(s))return o(s);var h=i(s),w=[];for(var O in s)(O!="constructor"||!h&&a.call(s,O))&&w.push(O);return w}},function(e,n){e.exports=function(t){var r=[];if(t!=null)for(var i in Object(t))r.push(i);return r}},function(e,n,t){var r=t(130),i=t(135);e.exports=function(o){return r(function(a,s){var h=-1,w=s.length,O=w>1?s[w-1]:void 0,N=w>2?s[2]:void 0;for(O=o.length>3&&typeof O=="function"?(w--,O):void 0,N&&i(s[0],s[1],N)&&(O=w<3?void 0:O,w=1),a=Object(a);++h<w;){var I=s[h];I&&o(a,I,h,O)}return a})}},function(e,n,t){var r=t(56),i=t(57),o=t(58);e.exports=function(a,s){return o(i(a,s,r),a+"")}},function(e,n){e.exports=function(t,r,i){switch(i.length){case 0:return t.call(r);case 1:return t.call(r,i[0]);case 2:return t.call(r,i[0],i[1]);case 3:return t.call(r,i[0],i[1],i[2])}return t.apply(r,i)}},function(e,n,t){var r=t(133),i=t(48),o=t(56),a=i?function(s,h){return i(s,"toString",{configurable:!0,enumerable:!1,value:r(h),writable:!0})}:o;e.exports=a},function(e,n){e.exports=function(t){return function(){return t}}},function(e,n){var t=Date.now;e.exports=function(r){var i=0,o=0;return function(){var a=t(),s=16-(a-o);if(o=a,s>0){if(++i>=800)return arguments[0]}else i=0;return r.apply(void 0,arguments)}}},function(e,n,t){var r=t(26),i=t(38),o=t(31),a=t(15);e.exports=function(s,h,w){if(!a(w))return!1;var O=typeof h;return!!(O=="number"?i(w)&&o(h,w.length):O=="string"&&h in w)&&r(w[h],s)}},function(e,n){typeof window<"u"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})),typeof Math.imul!="function"&&(Math.imul=function(t,r){var i=65535&t,o=65535&r;return i*o+((t>>>16&65535)*o+i*(r>>>16&65535)<<16>>>0)|0}),typeof Object.assign!="function"&&(Object.assign=function(t){"use strict";if(t===null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(o!==null)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])}return r})},function(e,n){e.exports=function(t){if(Array.isArray(t))return t},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(t,r){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var o,a,s,h,w=[],O=!0,N=!1;try{if(s=(i=i.call(t)).next,r===0){if(Object(i)!==i)return;O=!1}else for(;!(O=(o=s.call(i)).done)&&(w.push(o.value),w.length!==r);O=!0);}catch(I){N=!0,a=I}finally{try{if(!O&&i.return!=null&&(h=i.return(),Object(h)!==h))return}finally{if(N)throw a}}return w}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(13).default;e.exports=function(i,o){if(r(i)!=="object"||i===null)return i;var a=i[Symbol.toPrimitive];if(a!==void 0){var s=a.call(i,o||"default");if(r(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(13).default;function i(){"use strict";e.exports=i=function(){return a},e.exports.__esModule=!0,e.exports.default=e.exports;var o,a={},s=Object.prototype,h=s.hasOwnProperty,w=Object.defineProperty||function(z,V,$){z[V]=$.value},O=typeof Symbol=="function"?Symbol:{},N=O.iterator||"@@iterator",I=O.asyncIterator||"@@asyncIterator",W=O.toStringTag||"@@toStringTag";function ee(z,V,$){return Object.defineProperty(z,V,{value:$,enumerable:!0,configurable:!0,writable:!0}),z[V]}try{ee({},"")}catch{ee=function(V,$,ye){return V[$]=ye}}function Z(z,V,$,ye){var ge=V&&V.prototype instanceof T?V:T,Ie=Object.create(ge.prototype),je=new fe(ye||[]);return w(Ie,"_invoke",{value:ce(z,$,je)}),Ie}function ue(z,V,$){try{return{type:"normal",arg:z.call(V,$)}}catch(ye){return{type:"throw",arg:ye}}}a.wrap=Z;var G="suspendedStart",B="executing",D="completed",M={};function T(){}function j(){}function R(){}var K={};ee(K,N,function(){return this});var L=Object.getPrototypeOf,X=L&&L(L(Ce([])));X&&X!==s&&h.call(X,N)&&(K=X);var A=R.prototype=T.prototype=Object.create(K);function J(z){["next","throw","return"].forEach(function(V){ee(z,V,function($){return this._invoke(V,$)})})}function ae(z,V){function $(ge,Ie,je,Ge){var Je=ue(z[ge],z,Ie);if(Je.type!=="throw"){var lt=Je.arg,ft=lt.value;return ft&&r(ft)=="object"&&h.call(ft,"__await")?V.resolve(ft.__await).then(function(dt){$("next",dt,je,Ge)},function(dt){$("throw",dt,je,Ge)}):V.resolve(ft).then(function(dt){lt.value=dt,je(lt)},function(dt){return $("throw",dt,je,Ge)})}Ge(Je.arg)}var ye;w(this,"_invoke",{value:function(ge,Ie){function je(){return new V(function(Ge,Je){$(ge,Ie,Ge,Je)})}return ye=ye?ye.then(je,je):je()}})}function ce(z,V,$){var ye=G;return function(ge,Ie){if(ye===B)throw new Error("Generator is already running");if(ye===D){if(ge==="throw")throw Ie;return{value:o,done:!0}}for($.method=ge,$.arg=Ie;;){var je=$.delegate;if(je){var Ge=ne(je,$);if(Ge){if(Ge===M)continue;return Ge}}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(ye===G)throw ye=D,$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);ye=B;var Je=ue(z,V,$);if(Je.type==="normal"){if(ye=$.done?D:"suspendedYield",Je.arg===M)continue;return{value:Je.arg,done:$.done}}Je.type==="throw"&&(ye=D,$.method="throw",$.arg=Je.arg)}}}function ne(z,V){var $=V.method,ye=z.iterator[$];if(ye===o)return V.delegate=null,$==="throw"&&z.iterator.return&&(V.method="return",V.arg=o,ne(z,V),V.method==="throw")||$!=="return"&&(V.method="throw",V.arg=new TypeError("The iterator does not provide a '"+$+"' method")),M;var ge=ue(ye,z.iterator,V.arg);if(ge.type==="throw")return V.method="throw",V.arg=ge.arg,V.delegate=null,M;var Ie=ge.arg;return Ie?Ie.done?(V[z.resultName]=Ie.value,V.next=z.nextLoc,V.method!=="return"&&(V.method="next",V.arg=o),V.delegate=null,M):Ie:(V.method="throw",V.arg=new TypeError("iterator result is not an object"),V.delegate=null,M)}function he(z){var V={tryLoc:z[0]};1 in z&&(V.catchLoc=z[1]),2 in z&&(V.finallyLoc=z[2],V.afterLoc=z[3]),this.tryEntries.push(V)}function de(z){var V=z.completion||{};V.type="normal",delete V.arg,z.completion=V}function fe(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(he,this),this.reset(!0)}function Ce(z){if(z||z===""){var V=z[N];if(V)return V.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var $=-1,ye=function ge(){for(;++$<z.length;)if(h.call(z,$))return ge.value=z[$],ge.done=!1,ge;return ge.value=o,ge.done=!0,ge};return ye.next=ye}}throw new TypeError(r(z)+" is not iterable")}return j.prototype=R,w(A,"constructor",{value:R,configurable:!0}),w(R,"constructor",{value:j,configurable:!0}),j.displayName=ee(R,W,"GeneratorFunction"),a.isGeneratorFunction=function(z){var V=typeof z=="function"&&z.constructor;return!!V&&(V===j||(V.displayName||V.name)==="GeneratorFunction")},a.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,R):(z.__proto__=R,ee(z,W,"GeneratorFunction")),z.prototype=Object.create(A),z},a.awrap=function(z){return{__await:z}},J(ae.prototype),ee(ae.prototype,I,function(){return this}),a.AsyncIterator=ae,a.async=function(z,V,$,ye,ge){ge===void 0&&(ge=Promise);var Ie=new ae(Z(z,V,$,ye),ge);return a.isGeneratorFunction(V)?Ie:Ie.next().then(function(je){return je.done?je.value:Ie.next()})},J(A),ee(A,W,"Generator"),ee(A,N,function(){return this}),ee(A,"toString",function(){return"[object Generator]"}),a.keys=function(z){var V=Object(z),$=[];for(var ye in V)$.push(ye);return $.reverse(),function ge(){for(;$.length;){var Ie=$.pop();if(Ie in V)return ge.value=Ie,ge.done=!1,ge}return ge.done=!0,ge}},a.values=Ce,fe.prototype={constructor:fe,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(de),!z)for(var V in this)V.charAt(0)==="t"&&h.call(this,V)&&!isNaN(+V.slice(1))&&(this[V]=o)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var V=this;function $(Je,lt){return Ie.type="throw",Ie.arg=z,V.next=Je,lt&&(V.method="next",V.arg=o),!!lt}for(var ye=this.tryEntries.length-1;ye>=0;--ye){var ge=this.tryEntries[ye],Ie=ge.completion;if(ge.tryLoc==="root")return $("end");if(ge.tryLoc<=this.prev){var je=h.call(ge,"catchLoc"),Ge=h.call(ge,"finallyLoc");if(je&&Ge){if(this.prev<ge.catchLoc)return $(ge.catchLoc,!0);if(this.prev<ge.finallyLoc)return $(ge.finallyLoc)}else if(je){if(this.prev<ge.catchLoc)return $(ge.catchLoc,!0)}else{if(!Ge)throw new Error("try statement without catch or finally");if(this.prev<ge.finallyLoc)return $(ge.finallyLoc)}}}},abrupt:function(z,V){for(var $=this.tryEntries.length-1;$>=0;--$){var ye=this.tryEntries[$];if(ye.tryLoc<=this.prev&&h.call(ye,"finallyLoc")&&this.prev<ye.finallyLoc){var ge=ye;break}}ge&&(z==="break"||z==="continue")&&ge.tryLoc<=V&&V<=ge.finallyLoc&&(ge=null);var Ie=ge?ge.completion:{};return Ie.type=z,Ie.arg=V,ge?(this.method="next",this.next=ge.finallyLoc,M):this.complete(Ie)},complete:function(z,V){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&V&&(this.next=V),M},finish:function(z){for(var V=this.tryEntries.length-1;V>=0;--V){var $=this.tryEntries[V];if($.finallyLoc===z)return this.complete($.completion,$.afterLoc),de($),M}},catch:function(z){for(var V=this.tryEntries.length-1;V>=0;--V){var $=this.tryEntries[V];if($.tryLoc===z){var ye=$.completion;if(ye.type==="throw"){var ge=ye.arg;de($)}return ge}}throw new Error("illegal catch attempt")},delegateYield:function(z,V,$){return this.delegate={iterator:Ce(z),resultName:V,nextLoc:$},this.method==="next"&&(this.arg=o),M}},a}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(2);e.exports=function(i,o){for(;!Object.prototype.hasOwnProperty.call(i,o)&&(i=r(i))!==null;);return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(60);e.exports=function(i){if(Array.isArray(i))return r(i)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(147),i=t(157);e.exports=function(o,a){return r(o,a,function(s,h){return i(o,h)})}},function(e,n,t){var r=t(148),i=t(156),o=t(32);e.exports=function(a,s,h){for(var w=-1,O=s.length,N={};++w<O;){var I=s[w],W=r(a,I);h(W,I)&&i(N,o(I,a),W)}return N}},function(e,n,t){var r=t(32),i=t(42);e.exports=function(o,a){for(var s=0,h=(a=r(a,o)).length;o!=null&&s<h;)o=o[i(a[s++])];return s&&s==h?o:void 0}},function(e,n,t){var r=t(16),i=t(41),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(s,h){if(r(s))return!1;var w=typeof s;return!(w!="number"&&w!="symbol"&&w!="boolean"&&s!=null&&!i(s))||a.test(s)||!o.test(s)||h!=null&&s in Object(h)}},function(e,n,t){var r=t(151),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(s){var h=[];return s.charCodeAt(0)===46&&h.push(""),s.replace(i,function(w,O,N,I){h.push(N?I.replace(o,"$1"):O||w)}),h});e.exports=a},function(e,n,t){var r=t(152);e.exports=function(i){var o=r(i,function(s){return a.size===500&&a.clear(),s}),a=o.cache;return o}},function(e,n,t){var r=t(46);function i(o,a){if(typeof o!="function"||a!=null&&typeof a!="function")throw new TypeError("Expected a function");var s=function(){var h=arguments,w=a?a.apply(this,h):h[0],O=s.cache;if(O.has(w))return O.get(w);var N=o.apply(this,h);return s.cache=O.set(w,N)||O,N};return s.cache=new(i.Cache||r),s}i.Cache=r,e.exports=i},function(e,n,t){var r=t(154);e.exports=function(i){return i==null?"":r(i)}},function(e,n,t){var r=t(27),i=t(155),o=t(16),a=t(41),s=r?r.prototype:void 0,h=s?s.toString:void 0;e.exports=function w(O){if(typeof O=="string")return O;if(o(O))return i(O,w)+"";if(a(O))return h?h.call(O):"";var N=O+"";return N=="0"&&1/O==-1/0?"-0":N}},function(e,n){e.exports=function(t,r){for(var i=-1,o=t==null?0:t.length,a=Array(o);++i<o;)a[i]=r(t[i],i,t);return a}},function(e,n,t){var r=t(54),i=t(32),o=t(31),a=t(15),s=t(42);e.exports=function(h,w,O,N){if(!a(h))return h;for(var I=-1,W=(w=i(w,h)).length,ee=W-1,Z=h;Z!=null&&++I<W;){var ue=s(w[I]),G=O;if(ue==="__proto__"||ue==="constructor"||ue==="prototype")return h;if(I!=ee){var B=Z[ue];(G=N?N(B,ue,Z):void 0)===void 0&&(G=a(B)?B:o(w[I+1])?[]:{})}r(Z,ue,G),Z=Z[ue]}return h}},function(e,n,t){var r=t(158),i=t(159);e.exports=function(o,a){return o!=null&&i(o,a,r)}},function(e,n){e.exports=function(t,r){return t!=null&&r in Object(t)}},function(e,n,t){var r=t(32),i=t(30),o=t(16),a=t(31),s=t(39),h=t(42);e.exports=function(w,O,N){for(var I=-1,W=(O=r(O,w)).length,ee=!1;++I<W;){var Z=h(O[I]);if(!(ee=w!=null&&N(w,Z)))break;w=w[Z]}return ee||++I!=W?ee:!!(W=w==null?0:w.length)&&s(W)&&a(Z,W)&&(o(w)||i(w))}},function(e,n,t){var r=t(161),i=t(57),o=t(58);e.exports=function(a){return o(i(a,void 0,r),a+"")}},function(e,n,t){var r=t(162);e.exports=function(i){return i!=null&&i.length?r(i,1):[]}},function(e,n,t){var r=t(163),i=t(164);e.exports=function o(a,s,h,w,O){var N=-1,I=a.length;for(h||(h=i),O||(O=[]);++N<I;){var W=a[N];s>0&&h(W)?s>1?o(W,s-1,h,w,O):r(O,W):w||(O[O.length]=W)}return O}},function(e,n){e.exports=function(t,r){for(var i=-1,o=r.length,a=t.length;++i<o;)t[a+i]=r[i];return t}},function(e,n,t){var r=t(27),i=t(30),o=t(16),a=r?r.isConcatSpreadable:void 0;e.exports=function(s){return o(s)||i(s)||!!(a&&s&&s[a])}},function(e,n){e.exports=function(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){var r=t(40),i=t(167);function o(a,s,h){return i()?(e.exports=o=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(w,O,N){var I=[null];I.push.apply(I,O);var W=new(Function.bind.apply(w,I));return N&&r(W,N.prototype),W},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n){e.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,n,t){"use strict";t.r(n),t.d(n,"BarcodeDecoder",function(){return ir}),t.d(n,"Readers",function(){return r}),t.d(n,"CameraAccess",function(){return wn}),t.d(n,"ImageDebug",function(){return W.a}),t.d(n,"ImageWrapper",function(){return h.a}),t.d(n,"ResultCollector",function(){return hi});var r={};t.r(r),t.d(r,"BarcodeReader",function(){return ce}),t.d(r,"TwoOfFiveReader",function(){return z}),t.d(r,"NewCodabarReader",function(){return Ie}),t.d(r,"Code128Reader",function(){return Ge}),t.d(r,"Code32Reader",function(){return Gr}),t.d(r,"Code39Reader",function(){return xn}),t.d(r,"Code39VINReader",function(){return er}),t.d(r,"Code93Reader",function(){return Xr}),t.d(r,"EAN2Reader",function(){return ei}),t.d(r,"EAN5Reader",function(){return ti}),t.d(r,"EAN8Reader",function(){return ni}),t.d(r,"EANReader",function(){return Rt}),t.d(r,"I2of5Reader",function(){return ri}),t.d(r,"UPCEReader",function(){return oi}),t.d(r,"UPCReader",function(){return ai});var i=t(13),o=t.n(i),a=t(18),s=t.n(a),h=(t(136),t(11)),w=t(12),O=t.n(w),N=t(8),I=t.n(N),W=t(17),ee=t(3),Z=t.n(ee),ue=t(4),G=t.n(ue),B=t(1),D=t.n(B),M=t(7),T=t.n(M),j=t(6),R=t.n(j),K=t(2),L=t.n(K),X=t(0),A=t.n(X),J=t(9),ae=function(g){return g[g.Forward=1]="Forward",g[g.Reverse=-1]="Reverse",g}({}),ce=function(){function g(x,p){Z()(this,g),A()(this,"_row",[]),A()(this,"config",{}),A()(this,"supplements",[]),A()(this,"SINGLE_CODE_ERROR",0),A()(this,"FORMAT","unknown"),A()(this,"CONFIG_KEYS",{}),this._row=[],this.config=x||{},p&&(this.supplements=p)}return G()(g,[{key:"_nextUnset",value:function(x){for(var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=p;l<x.length;l++)if(!x[l])return l;return x.length}},{key:"_matchPattern",value:function(x,p){for(var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.SINGLE_CODE_ERROR||1,c=0,u=0,f=0,_=0,b=0,v=0,C=0,P=0;P<x.length;P++)f+=x[P],_+=p[P];if(f<_)return Number.MAX_VALUE;l*=b=f/_;for(var H=0;H<x.length;H++){if(v=x[H],C=p[H]*b,(u=Math.abs(v-C)/C)>l)return Number.MAX_VALUE;c+=u}return c/_}},{key:"_nextSet",value:function(x){for(var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=p;l<x.length;l++)if(x[l])return l;return x.length}},{key:"_correctBars",value:function(x,p,l){for(var c=l.length,u=0;c--;)(u=x[l[c]]*(1-(1-p)/2))>1&&(x[l[c]]=u)}},{key:"decodePattern",value:function(x){this._row=x;var p=this.decode();return p===null?(this._row.reverse(),(p=this.decode())&&(p.direction=ae.Reverse,p.start=this._row.length-p.start,p.end=this._row.length-p.end)):p.direction=ae.Forward,p&&(p.format=this.FORMAT),p}},{key:"_matchRange",value:function(x,p,l){var c;for(c=x=x<0?0:x;c<p;c++)if(this._row[c]!==l)return!1;return!0}},{key:"_fillCounters",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._nextUnset(this._row),p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._row.length,l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=[],u=0;c[u]=0;for(var f=x;f<p;f++)this._row[f]^(l?1:0)?c[u]++:(c[++u]=1,l=!l);return c}},{key:"_toCounters",value:function(x,p){var l=p.length,c=this._row.length,u=!this._row[x],f=0;J.a.init(p,0);for(var _=x;_<c;_++)if(this._row[_]^(u?1:0))p[f]++;else{if(++f===l)break;p[f]=1,u=!u}return p}},{key:"decodeImage",value:function(x){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),g}();function ne(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var c=L()(this).constructor;p=Reflect.construct(l,arguments,c)}else p=l.apply(this,arguments);return R()(this,p)}}var he=[3,1,3,1,1,1],de=[3,1,1,1,3],fe=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],Ce=he.reduce(function(g,x){return g+x},0),z=function(g){T()(p,g);var x=ne(p);function p(){var l;Z()(this,p);for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=x.call.apply(x,[this].concat(u)),A()(D()(l),"barSpaceRatio",[1,1]),A()(D()(l),"FORMAT","2of5"),A()(D()(l),"SINGLE_CODE_ERROR",.78),A()(D()(l),"AVG_CODE_ERROR",.3),l}return G()(p,[{key:"_findPattern",value:function(l,c){var u=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=arguments.length>3&&arguments[3]!==void 0&&arguments[3],_=[],b=0,v={error:Number.MAX_VALUE,code:-1,start:0,end:0},C=0,P=0,H=this.AVG_CODE_ERROR;c||(c=this._nextSet(this._row));for(var re=0;re<l.length;re++)_[re]=0;for(var Y=c;Y<this._row.length;Y++)if(this._row[Y]^(u?1:0))_[b]++;else{if(b===_.length-1){C=0;for(var le=0;le<_.length;le++)C+=_[le];if((P=this._matchPattern(_,l))<H)return v.error=P,v.start=Y-C,v.end=Y,v;if(!f)return null;for(var Me=0;Me<_.length-2;Me++)_[Me]=_[Me+2];_[_.length-2]=0,_[_.length-1]=0,b--}else b++;_[b]=1,u=!u}return null}},{key:"_findStart",value:function(){for(var l=null,c=this._nextSet(this._row),u=1,f=0;!l;){if(!(l=this._findPattern(he,c,!1,!0)))return null;if(u=Math.floor((l.end-l.start)/Ce),(f=l.start-5*u)>=0&&this._matchRange(f,l.start,0))return l;c=l.end,l=null}return l}},{key:"_verifyTrailingWhitespace",value:function(l){var c=l.end+(l.end-l.start)/2;return c<this._row.length&&this._matchRange(l.end,c,0)?l:null}},{key:"_findEnd",value:function(){this._row.reverse();var l=this._nextSet(this._row),c=this._findPattern(de,l,!1,!0);if(this._row.reverse(),c===null)return null;var u=c.start;return c.start=this._row.length-c.end,c.end=this._row.length-u,c!==null?this._verifyTrailingWhitespace(c):null}},{key:"_verifyCounterLength",value:function(l){return l.length%10==0}},{key:"_decodeCode",value:function(l){for(var c=this.AVG_CODE_ERROR,u={error:Number.MAX_VALUE,code:-1,start:0,end:0},f=0;f<fe.length;f++){var _=this._matchPattern(l,fe[f]);_<u.error&&(u.code=f,u.error=_)}return u.error<c?u:null}},{key:"_decodePayload",value:function(l,c,u){for(var f=0,_=l.length,b=[0,0,0,0,0],v=null;f<_;){for(var C=0;C<5;C++)b[C]=l[f]*this.barSpaceRatio[0],f+=2;if(!(v=this._decodeCode(b)))return null;c.push("".concat(v.code)),u.push(v)}return v}},{key:"decode",value:function(l,c){var u=this._findStart();if(!u)return null;var f=this._findEnd();if(!f)return null;var _=this._fillCounters(u.end,f.start,!1);if(!this._verifyCounterLength(_))return null;var b=[];b.push(u);var v=[];return this._decodePayload(_,v,b)?v.length<5?null:(b.push(f),{code:v.join(""),start:u.start,end:f.end,startInfo:u,decodedCodes:b,format:this.FORMAT}):null}}]),p}(ce);function V(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var c=L()(this).constructor;p=Reflect.construct(l,arguments,c)}else p=l.apply(this,arguments);return R()(this,p)}}var $=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],ye=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],ge=[26,41,11,14],Ie=function(g){T()(p,g);var x=V(p);function p(){var l;Z()(this,p);for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=x.call.apply(x,[this].concat(u)),A()(D()(l),"_counters",[]),A()(D()(l),"FORMAT","codabar"),l}return G()(p,[{key:"_computeAlternatingThreshold",value:function(l,c){for(var u=Number.MAX_VALUE,f=0,_=0,b=l;b<c;b+=2)(_=this._counters[b])>f&&(f=_),_<u&&(u=_);return(u+f)/2|0}},{key:"_toPattern",value:function(l){var c=l+7;if(c>this._counters.length)return-1;for(var u=this._computeAlternatingThreshold(l,c),f=this._computeAlternatingThreshold(l+1,c),_=64,b=0,v=0,C=0;C<7;C++)b=1&C?f:u,this._counters[l+C]>b&&(v|=_),_>>=1;return v}},{key:"_isStartEnd",value:function(l){for(var c=0;c<ge.length;c++)if(ge[c]===l)return!0;return!1}},{key:"_sumCounters",value:function(l,c){for(var u=0,f=l;f<c;f++)u+=this._counters[f];return u}},{key:"_findStart",value:function(){for(var l=this._nextUnset(this._row),c=1;c<this._counters.length;c++){var u=this._toPattern(c);if(u!==-1&&this._isStartEnd(u))return{start:l+=this._sumCounters(0,c),end:l+this._sumCounters(c,c+8),startCounter:c,endCounter:c+8}}return null}},{key:"_patternToChar",value:function(l){for(var c=0;c<ye.length;c++)if(ye[c]===l)return String.fromCharCode($[c]);return null}},{key:"_calculatePatternLength",value:function(l){for(var c=0,u=l;u<l+7;u++)c+=this._counters[u];return c}},{key:"_verifyWhitespace",value:function(l,c){return(l-1<=0||this._counters[l-1]>=this._calculatePatternLength(l)/2)&&(c+8>=this._counters.length||this._counters[c+7]>=this._calculatePatternLength(c)/2)}},{key:"_charToPattern",value:function(l){for(var c=l.charCodeAt(0),u=0;u<$.length;u++)if($[u]===c)return ye[u];return 0}},{key:"_thresholdResultPattern",value:function(l,c){for(var u,f={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},_=c,b=0;b<l.length;b++){u=this._charToPattern(l[b]);for(var v=6;v>=0;v--){var C=(1&v)==2?f.bar:f.space,P=(1&u)==1?C.wide:C.narrow;P.size+=this._counters[_+v],P.counts++,u>>=1}_+=8}return["space","bar"].forEach(function(H){var re=f[H];re.wide.min=Math.floor((re.narrow.size/re.narrow.counts+re.wide.size/re.wide.counts)/2),re.narrow.max=Math.ceil(re.wide.min),re.wide.max=Math.ceil((2*re.wide.size+1.5)/re.wide.counts)}),f}},{key:"_validateResult",value:function(l,c){for(var u,f=this._thresholdResultPattern(l,c),_=c,b=0;b<l.length;b++){u=this._charToPattern(l[b]);for(var v=6;v>=0;v--){var C=1&v?f.space:f.bar,P=(1&u)==1?C.wide:C.narrow,H=this._counters[_+v];if(H<P.min||H>P.max)return!1;u>>=1}_+=8}return!0}},{key:"decode",value:function(l,c){if(this._counters=this._fillCounters(),!(c=this._findStart()))return null;var u,f=c.startCounter,_=[];do{if((u=this._toPattern(f))<0)return null;var b=this._patternToChar(u);if(b===null)return null;if(_.push(b),f+=8,_.length>1&&this._isStartEnd(u))break}while(f<this._counters.length);if(_.length-2<4||!this._isStartEnd(u)||!this._verifyWhitespace(c.startCounter,f-8)||!this._validateResult(_,c.startCounter))return null;f=f>this._counters.length?this._counters.length:f;var v=c.start+this._sumCounters(c.startCounter,f-8);return{code:_.join(""),start:c.start,end:v,startInfo:c,decodedCodes:_,format:this.FORMAT}}}]),p}(ce);function je(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var c=L()(this).constructor;p=Reflect.construct(l,arguments,c)}else p=l.apply(this,arguments);return R()(this,p)}}var Ge=function(g){T()(p,g);var x=je(p);function p(){var l;Z()(this,p);for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=x.call.apply(x,[this].concat(u)),A()(D()(l),"CODE_SHIFT",98),A()(D()(l),"CODE_C",99),A()(D()(l),"CODE_B",100),A()(D()(l),"CODE_A",101),A()(D()(l),"START_CODE_A",103),A()(D()(l),"START_CODE_B",104),A()(D()(l),"START_CODE_C",105),A()(D()(l),"STOP_CODE",106),A()(D()(l),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),A()(D()(l),"SINGLE_CODE_ERROR",.64),A()(D()(l),"AVG_CODE_ERROR",.3),A()(D()(l),"FORMAT","code_128"),A()(D()(l),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),l}return G()(p,[{key:"_decodeCode",value:function(l,c){for(var u={error:Number.MAX_VALUE,code:-1,start:l,end:l,correction:{bar:1,space:1}},f=[0,0,0,0,0,0],_=l,b=!this._row[_],v=0,C=_;C<this._row.length;C++)if(this._row[C]^(b?1:0))f[v]++;else{if(v===f.length-1){c&&this._correct(f,c);for(var P=0;P<this.CODE_PATTERN.length;P++){var H=this._matchPattern(f,this.CODE_PATTERN[P]);H<u.error&&(u.code=P,u.error=H)}return u.end=C,u.code===-1||u.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[u.code]&&(u.correction.bar=this.calculateCorrection(this.CODE_PATTERN[u.code],f,this.MODULE_INDICES.bar),u.correction.space=this.calculateCorrection(this.CODE_PATTERN[u.code],f,this.MODULE_INDICES.space)),u)}f[++v]=1,b=!b}return null}},{key:"_correct",value:function(l,c){this._correctBars(l,c.bar,this.MODULE_INDICES.bar),this._correctBars(l,c.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var l=[0,0,0,0,0,0],c=this._nextSet(this._row),u={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},f=!1,_=0,b=c;b<this._row.length;b++)if(this._row[b]^(f?1:0))l[_]++;else{if(_===l.length-1){for(var v=l.reduce(function(re,Y){return re+Y},0),C=this.START_CODE_A;C<=this.START_CODE_C;C++){var P=this._matchPattern(l,this.CODE_PATTERN[C]);P<u.error&&(u.code=C,u.error=P)}if(u.error<this.AVG_CODE_ERROR)return u.start=b-v,u.end=b,u.correction.bar=this.calculateCorrection(this.CODE_PATTERN[u.code],l,this.MODULE_INDICES.bar),u.correction.space=this.calculateCorrection(this.CODE_PATTERN[u.code],l,this.MODULE_INDICES.space),u;for(var H=0;H<4;H++)l[H]=l[H+2];l[4]=0,l[5]=0,_--}else _++;l[_]=1,f=!f}return null}},{key:"decode",value:function(l,c){var u=this,f=this._findStart();if(f===null)return null;var _={code:f.code,start:f.start,end:f.end,correction:{bar:f.correction.bar,space:f.correction.space}},b=[];b.push(_);for(var v=_.code,C=function(Ee){switch(Ee){case u.START_CODE_A:return u.CODE_A;case u.START_CODE_B:return u.CODE_B;case u.START_CODE_C:return u.CODE_C;default:return null}}(_.code),P=!1,H=!1,re=H,Y=!0,le=0,Me=[],De=[];!P;){if(re=H,H=!1,(_=this._decodeCode(_.end,_.correction))!==null)switch(_.code!==this.STOP_CODE&&(Y=!0),_.code!==this.STOP_CODE&&(Me.push(_.code),v+=++le*_.code),b.push(_),C){case this.CODE_A:if(_.code<64)De.push(String.fromCharCode(32+_.code));else if(_.code<96)De.push(String.fromCharCode(_.code-64));else switch(_.code!==this.STOP_CODE&&(Y=!1),_.code){case this.CODE_SHIFT:H=!0,C=this.CODE_B;break;case this.CODE_B:C=this.CODE_B;break;case this.CODE_C:C=this.CODE_C;break;case this.STOP_CODE:P=!0}break;case this.CODE_B:if(_.code<96)De.push(String.fromCharCode(32+_.code));else switch(_.code!==this.STOP_CODE&&(Y=!1),_.code){case this.CODE_SHIFT:H=!0,C=this.CODE_A;break;case this.CODE_A:C=this.CODE_A;break;case this.CODE_C:C=this.CODE_C;break;case this.STOP_CODE:P=!0}break;case this.CODE_C:if(_.code<100)De.push(_.code<10?"0"+_.code:_.code);else switch(_.code!==this.STOP_CODE&&(Y=!1),_.code){case this.CODE_A:C=this.CODE_A;break;case this.CODE_B:C=this.CODE_B;break;case this.STOP_CODE:P=!0}}else P=!0;re&&(C=C===this.CODE_A?this.CODE_B:this.CODE_A)}return _===null?null:(_.end=this._nextUnset(this._row,_.end),this._verifyTrailingWhitespace(_)?(v-=le*Me[Me.length-1])%103!==Me[Me.length-1]?null:De.length?(Y&&De.splice(De.length-1,1),{code:De.join(""),start:f.start,end:_.end,codeset:C,startInfo:f,decodedCodes:b,endInfo:_,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(l){var c;return(c=l.end+(l.end-l.start)/2)<this._row.length&&this._matchRange(l.end,c,0)?l:null}},{key:"calculateCorrection",value:function(l,c,u){for(var f=u.length,_=0,b=0;f--;)b+=l[u[f]],_+=c[u[f]];return b/_}}]),p}(ce),Je=t(14),lt=t.n(Je),ft=t(33),dt=t.n(ft);function zr(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var c=L()(this).constructor;p=Reflect.construct(l,arguments,c)}else p=l.apply(this,arguments);return R()(this,p)}}var xo=new Uint16Array(dt()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(g){return g.charCodeAt(0)})),Vr=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),xn=function(g){T()(p,g);var x=zr(p);function p(){var l;Z()(this,p);for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=x.call.apply(x,[this].concat(u)),A()(D()(l),"FORMAT","code_39"),l}return G()(p,[{key:"_findStart",value:function(){for(var l=this._nextSet(this._row),c=l,u=new Uint16Array([0,0,0,0,0,0,0,0,0]),f=0,_=!1,b=l;b<this._row.length;b++)if(this._row[b]^(_?1:0))u[f]++;else{if(f===u.length-1){if(this._toPattern(u)===148){var v=Math.floor(Math.max(0,c-(b-c)/4));if(this._matchRange(v,c,0))return{start:c,end:b}}c+=u[0]+u[1];for(var C=0;C<7;C++)u[C]=u[C+2];u[7]=0,u[8]=0,f--}else f++;u[f]=1,_=!_}return null}},{key:"_toPattern",value:function(l){for(var c=l.length,u=0,f=c,_=0;f>3;){u=this._findNextWidth(l,u),f=0;for(var b=0,v=0;v<c;v++)l[v]>u&&(b|=1<<c-1-v,f++,_+=l[v]);if(f===3){for(var C=0;C<c&&f>0;C++)if(l[C]>u&&(f--,2*l[C]>=_))return-1;return b}}return-1}},{key:"_findNextWidth",value:function(l,c){for(var u=Number.MAX_VALUE,f=0;f<l.length;f++)l[f]<u&&l[f]>c&&(u=l[f]);return u}},{key:"_patternToChar",value:function(l){for(var c=0;c<Vr.length;c++)if(Vr[c]===l)return String.fromCharCode(xo[c]);return null}},{key:"_verifyTrailingWhitespace",value:function(l,c,u){var f=J.a.sum(u);return 3*(c-l-f)>=f}},{key:"decode",value:function(){var l=new Uint16Array([0,0,0,0,0,0,0,0,0]),c=[],u=this._findStart();if(!u)return null;var f,_,b=this._nextSet(this._row,u.end);do{l=this._toCounters(b,l);var v=this._toPattern(l);if(v<0||(f=this._patternToChar(v))===null)return null;c.push(f),_=b,b+=J.a.sum(l),b=this._nextSet(this._row,b)}while(f!=="*");return c.pop(),c.length&&this._verifyTrailingWhitespace(_,b,l)?{code:c.join(""),start:u.start,end:b,startInfo:u,decodedCodes:c,format:this.FORMAT}:null}}]),p}(ce);function Co(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var c=L()(this).constructor;p=Reflect.construct(l,arguments,c)}else p=l.apply(this,arguments);return R()(this,p)}}var wo=/[AEIO]/g,Gr=function(g){T()(p,g);var x=Co(p);function p(){var l;Z()(this,p);for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=x.call.apply(x,[this].concat(u)),A()(D()(l),"FORMAT","code_32_reader"),l}return G()(p,[{key:"_decodeCode32",value:function(l){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(l))return null;for(var c=0,u=0;u<l.length;u++)c=32*c+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(l[u]);var f="".concat(c);return f.length<9&&(f=("000000000"+f).slice(-9)),"A"+f}},{key:"_checkChecksum",value:function(l){return!!l}},{key:"decode",value:function(){var l=lt()(L()(p.prototype),"decode",this).call(this);if(!l)return null;var c=l.code;if(!c||(c=c.replace(wo,""),!this._checkChecksum(c)))return null;var u=this._decodeCode32(c);return u?(l.code=u,l):null}}]),p}(xn);function Oo(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var c=L()(this).constructor;p=Reflect.construct(l,arguments,c)}else p=l.apply(this,arguments);return R()(this,p)}}var Hr=/[IOQ]/g,Wr=/[A-Z0-9]{17}/,er=function(g){T()(p,g);var x=Oo(p);function p(){var l;Z()(this,p);for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=x.call.apply(x,[this].concat(u)),A()(D()(l),"FORMAT","code_39_vin"),l}return G()(p,[{key:"_checkChecksum",value:function(l){return!!l}},{key:"decode",value:function(){var l=lt()(L()(p.prototype),"decode",this).call(this);if(!l)return null;var c=l.code;return c&&(c=c.replace(Hr,"")).match(Wr)&&this._checkChecksum(c)?(l.code=c,l):null}}]),p}(xn);function $r(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var c=L()(this).constructor;p=Reflect.construct(l,arguments,c)}else p=l.apply(this,arguments);return R()(this,p)}}var tr=new Uint16Array(dt()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(g){return g.charCodeAt(0)})),Qr=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),Xr=function(g){T()(p,g);var x=$r(p);function p(){var l;Z()(this,p);for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=x.call.apply(x,[this].concat(u)),A()(D()(l),"FORMAT","code_93"),l}return G()(p,[{key:"_patternToChar",value:function(l){for(var c=0;c<Qr.length;c++)if(Qr[c]===l)return String.fromCharCode(tr[c]);return null}},{key:"_toPattern",value:function(l){for(var c=l.length,u=l.reduce(function(C,P){return C+P},0),f=0,_=0;_<c;_++){var b=Math.round(9*l[_]/u);if(b<1||b>4)return-1;if(1&_)f<<=b;else for(var v=0;v<b;v++)f=f<<1|1}return f}},{key:"_findStart",value:function(){for(var l=this._nextSet(this._row),c=l,u=new Uint16Array([0,0,0,0,0,0]),f=0,_=!1,b=l;b<this._row.length;b++)if(this._row[b]^(_?1:0))u[f]++;else{if(f===u.length-1){if(this._toPattern(u)===350){var v=Math.floor(Math.max(0,c-(b-c)/4));if(this._matchRange(v,c,0))return{start:c,end:b}}c+=u[0]+u[1];for(var C=0;C<4;C++)u[C]=u[C+2];u[4]=0,u[5]=0,f--}else f++;u[f]=1,_=!_}return null}},{key:"_verifyEnd",value:function(l,c){return!(l===c||!this._row[c])}},{key:"_decodeExtended",value:function(l){for(var c=l.length,u=[],f=0;f<c;f++){var _=l[f];if(_>="a"&&_<="d"){if(f>c-2)return null;var b=l[++f],v=b.charCodeAt(0),C=void 0;switch(_){case"a":if(!(b>="A"&&b<="Z"))return null;C=String.fromCharCode(v-64);break;case"b":if(b>="A"&&b<="E")C=String.fromCharCode(v-38);else if(b>="F"&&b<="J")C=String.fromCharCode(v-11);else if(b>="K"&&b<="O")C=String.fromCharCode(v+16);else if(b>="P"&&b<="S")C=String.fromCharCode(v+43);else{if(!(b>="T"&&b<="Z"))return null;C="\x7F"}break;case"c":if(b>="A"&&b<="O")C=String.fromCharCode(v-32);else{if(b!=="Z")return null;C=":"}break;case"d":if(!(b>="A"&&b<="Z"))return null;C=String.fromCharCode(v+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",C),null}u.push(C)}else u.push(_)}return u}},{key:"_matchCheckChar",value:function(l,c,u){var f=l.slice(0,c),_=f.length,b=f.reduce(function(v,C,P){return v+((-1*P+(_-1))%u+1)*tr.indexOf(C.charCodeAt(0))},0);return tr[b%47]===l[c].charCodeAt(0)}},{key:"_verifyChecksums",value:function(l){return this._matchCheckChar(l,l.length-2,20)&&this._matchCheckChar(l,l.length-1,15)}},{key:"decode",value:function(l,c){if(!(c=this._findStart()))return null;var u,f,_=new Uint16Array([0,0,0,0,0,0]),b=[],v=this._nextSet(this._row,c.end);do{_=this._toCounters(v,_);var C=this._toPattern(_);if(C<0||(f=this._patternToChar(C))===null)return null;b.push(f),u=v,v+=J.a.sum(_),v=this._nextSet(this._row,v)}while(f!=="*");return b.pop(),b.length&&this._verifyEnd(u,v)&&this._verifyChecksums(b)?(b=b.slice(0,b.length-2),(b=this._decodeExtended(b))===null?null:{code:b.join(""),start:c.start,end:v,startInfo:c,decodedCodes:b,format:this.FORMAT}):null}}]),p}(ce);function Yr(g,x){var p=Object.keys(g);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(g);x&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(g,c).enumerable})),p.push.apply(p,l)}return p}function nr(g){for(var x=1;x<arguments.length;x++){var p=arguments[x]!=null?arguments[x]:{};x%2?Yr(Object(p),!0).forEach(function(l){A()(g,l,p[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(p)):Yr(Object(p)).forEach(function(l){Object.defineProperty(g,l,Object.getOwnPropertyDescriptor(p,l))})}return g}function So(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var c=L()(this).constructor;p=Reflect.construct(l,arguments,c)}else p=l.apply(this,arguments);return R()(this,p)}}var Mo=[1,1,1],Kr=[1,1,1,1,1],Eo=[1,1,2],Jr=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Zr=[0,11,13,14,19,25,28,21,22,26],Rt=function(g){T()(p,g);var x=So(p);function p(l,c){var u;return Z()(this,p),u=x.call(this,s()({supplements:[]},l),c),A()(D()(u),"FORMAT","ean_13"),A()(D()(u),"SINGLE_CODE_ERROR",.7),A()(D()(u),"STOP_PATTERN",[1,1,1]),u}return G()(p,[{key:"_findPattern",value:function(l,c,u,f){var _=new Array(l.length).fill(0),b={error:Number.MAX_VALUE,start:0,end:0},v=0;c||(c=this._nextSet(this._row));for(var C=!1,P=c;P<this._row.length;P++)if(this._row[P]^(u?1:0))_[v]+=1;else{if(v===_.length-1){var H=this._matchPattern(_,l);if(H<.48&&b.error&&H<b.error)return C=!0,b.error=H,b.start=P-_.reduce(function(Y,le){return Y+le},0),b.end=P,b;if(f){for(var re=0;re<_.length-2;re++)_[re]=_[re+2];_[_.length-2]=0,_[_.length-1]=0,v--}}else v++;_[v]=1,u=!u}return C?b:null}},{key:"_decodeCode",value:function(l,c){var u=[0,0,0,0],f=l,_={error:Number.MAX_VALUE,code:-1,start:l,end:l},b=!this._row[f],v=0;c||(c=Jr.length);for(var C=f;C<this._row.length;C++)if(this._row[C]^(b?1:0))u[v]++;else{if(v===u.length-1){for(var P=0;P<c;P++){var H=this._matchPattern(u,Jr[P]);_.end=C,H<_.error&&(_.code=P,_.error=H)}return _.error>.48?null:_}u[++v]=1,b=!b}return null}},{key:"_findStart",value:function(){for(var l=this._nextSet(this._row),c=null;!c;){if(!(c=this._findPattern(Mo,l,!1,!0)))return null;var u=c.start-(c.end-c.start);if(u>=0&&this._matchRange(u,c.start,0))return c;l=c.end,c=null}return null}},{key:"_calculateFirstDigit",value:function(l){for(var c=0;c<Zr.length;c++)if(l===Zr[c])return c;return null}},{key:"_decodePayload",value:function(l,c,u){for(var f=nr({},l),_=0,b=0;b<6;b++){if(!(f=this._decodeCode(f.end)))return null;f.code>=10?(f.code-=10,_|=1<<5-b):_|=0<<5-b,c.push(f.code),u.push(f)}var v=this._calculateFirstDigit(_);if(v===null)return null;c.unshift(v);var C=this._findPattern(Kr,f.end,!0,!1);if(C===null||!C.end)return null;u.push(C);for(var P=0;P<6;P++){if(!(C=this._decodeCode(C.end,10)))return null;u.push(C),c.push(C.code)}return C}},{key:"_verifyTrailingWhitespace",value:function(l){var c=l.end+(l.end-l.start);return c<this._row.length&&this._matchRange(l.end,c,0)?l:null}},{key:"_findEnd",value:function(l,c){var u=this._findPattern(this.STOP_PATTERN,l,c,!1);return u!==null?this._verifyTrailingWhitespace(u):null}},{key:"_checksum",value:function(l){for(var c=0,u=l.length-2;u>=0;u-=2)c+=l[u];c*=3;for(var f=l.length-1;f>=0;f-=2)c+=l[f];return c%10==0}},{key:"_decodeExtensions",value:function(l){var c=this._nextSet(this._row,l),u=this._findPattern(Eo,c,!1,!1);if(u===null)return null;for(var f=0;f<this.supplements.length;f++)try{var _=this.supplements[f].decode(this._row,u.end);if(_!==null)return{code:_.code,start:c,startInfo:u,end:_.end,decodedCodes:_.decodedCodes,format:this.supplements[f].FORMAT}}catch(b){console.error("* decodeExtensions error in ",this.supplements[f],": ",b)}return null}},{key:"decode",value:function(l,c){var u=new Array,f=new Array,_={},b=this._findStart();if(!b)return null;var v={start:b.start,end:b.end};if(f.push(v),!(v=this._decodePayload(v,u,f))||!(v=this._findEnd(v.end,!1))||(f.push(v),!this._checksum(u)))return null;if(this.supplements.length>0){var C=this._decodeExtensions(v.end);if(!C||!C.decodedCodes)return null;var P=C.decodedCodes[C.decodedCodes.length-1],H={start:P.start+((P.end-P.start)/2|0),end:P.end};if(!this._verifyTrailingWhitespace(H))return null;_={supplement:C,code:u.join("")+C.code}}return nr(nr({code:u.join(""),start:b.start,end:v.end,startInfo:b,decodedCodes:f},_),{},{format:this.FORMAT})}}]),p}(ce);function Po(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var c=L()(this).constructor;p=Reflect.construct(l,arguments,c)}else p=l.apply(this,arguments);return R()(this,p)}}var ei=function(g){T()(p,g);var x=Po(p);function p(){var l;Z()(this,p);for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=x.call.apply(x,[this].concat(u)),A()(D()(l),"FORMAT","ean_2"),l}return G()(p,[{key:"decode",value:function(l,c){l&&(this._row=l);var u=0,f=c,_=this._row.length,b=[],v=[],C=null;if(f===void 0)return null;for(var P=0;P<2&&f<_;P++){if(!(C=this._decodeCode(f)))return null;v.push(C),b.push(C.code%10),C.code>=10&&(u|=1<<1-P),P!==1&&(f=this._nextSet(this._row,C.end),f=this._nextUnset(this._row,f))}if(b.length!==2||parseInt(b.join(""))%4!==u)return null;var H=this._findStart();return{code:b.join(""),decodedCodes:v,end:C.end,format:this.FORMAT,startInfo:H,start:H.start}}}]),p}(Rt);function To(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var c=L()(this).constructor;p=Reflect.construct(l,arguments,c)}else p=l.apply(this,arguments);return R()(this,p)}}var Io=[24,20,18,17,12,6,3,10,9,5],ti=function(g){T()(p,g);var x=To(p);function p(){var l;Z()(this,p);for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=x.call.apply(x,[this].concat(u)),A()(D()(l),"FORMAT","ean_5"),l}return G()(p,[{key:"decode",value:function(l,c){if(c===void 0)return null;l&&(this._row=l);for(var u=0,f=c,_=this._row.length,b=null,v=[],C=[],P=0;P<5&&f<_;P++){if(!(b=this._decodeCode(f)))return null;C.push(b),v.push(b.code%10),b.code>=10&&(u|=1<<4-P),P!==4&&(f=this._nextSet(this._row,b.end),f=this._nextUnset(this._row,f))}if(v.length!==5||function(re){for(var Y=re.length,le=0,Me=Y-2;Me>=0;Me-=2)le+=re[Me];le*=3;for(var De=Y-1;De>=0;De-=2)le+=re[De];return(le*=3)%10}(v)!==function(re){for(var Y=0;Y<10;Y++)if(re===Io[Y])return Y;return null}(u))return null;var H=this._findStart();return{code:v.join(""),decodedCodes:C,end:b.end,format:this.FORMAT,startInfo:H,start:H.start}}}]),p}(Rt);function jt(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var c=L()(this).constructor;p=Reflect.construct(l,arguments,c)}else p=l.apply(this,arguments);return R()(this,p)}}var ni=function(g){T()(p,g);var x=jt(p);function p(){var l;Z()(this,p);for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=x.call.apply(x,[this].concat(u)),A()(D()(l),"FORMAT","ean_8"),l}return G()(p,[{key:"_decodePayload",value:function(l,c,u){for(var f=l,_=0;_<4;_++){if(!(f=this._decodeCode(f.end,10)))return null;c.push(f.code),u.push(f)}if((f=this._findPattern(Kr,f.end,!0,!1))===null)return null;u.push(f);for(var b=0;b<4;b++){if(!(f=this._decodeCode(f.end,10)))return null;u.push(f),c.push(f.code)}return f}}]),p}(Rt);function Do(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var c=L()(this).constructor;p=Reflect.construct(l,arguments,c)}else p=l.apply(this,arguments);return R()(this,p)}}var ri=function(g){T()(p,g);var x=Do(p);function p(l){var c;return Z()(this,p),c=x.call(this,s()({normalizeBarSpaceWidth:!1},l)),A()(D()(c),"barSpaceRatio",[1,1]),A()(D()(c),"SINGLE_CODE_ERROR",.78),A()(D()(c),"AVG_CODE_ERROR",.38),A()(D()(c),"START_PATTERN",[1,1,1,1]),A()(D()(c),"STOP_PATTERN",[1,1,3]),A()(D()(c),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),A()(D()(c),"MAX_CORRECTION_FACTOR",5),A()(D()(c),"FORMAT","i2of5"),l.normalizeBarSpaceWidth&&(c.SINGLE_CODE_ERROR=.38,c.AVG_CODE_ERROR=.09),c.config=l,R()(c,D()(c))}return G()(p,[{key:"_matchPattern",value:function(l,c){if(this.config.normalizeBarSpaceWidth){for(var u=[0,0],f=[0,0],_=[0,0],b=this.MAX_CORRECTION_FACTOR,v=1/b,C=0;C<l.length;C++)u[C%2]+=l[C],f[C%2]+=c[C];_[0]=f[0]/u[0],_[1]=f[1]/u[1],_[0]=Math.max(Math.min(_[0],b),v),_[1]=Math.max(Math.min(_[1],b),v),this.barSpaceRatio=_;for(var P=0;P<l.length;P++)l[P]*=this.barSpaceRatio[P%2]}return lt()(L()(p.prototype),"_matchPattern",this).call(this,l,c)}},{key:"_findPattern",value:function(l,c){var u=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=arguments.length>3&&arguments[3]!==void 0&&arguments[3],_=new Array(l.length).fill(0),b=0,v={error:Number.MAX_VALUE,start:0,end:0},C=this.AVG_CODE_ERROR;u=u||!1,f=f||!1,c||(c=this._nextSet(this._row));for(var P=c;P<this._row.length;P++)if(this._row[P]^(u?1:0))_[b]++;else{if(b===_.length-1){var H=_.reduce(function(le,Me){return le+Me},0),re=this._matchPattern(_,l);if(re<C)return v.error=re,v.start=P-H,v.end=P,v;if(!f)return null;for(var Y=0;Y<_.length-2;Y++)_[Y]=_[Y+2];_[_.length-2]=0,_[_.length-1]=0,b--}else b++;_[b]=1,u=!u}return null}},{key:"_findStart",value:function(){for(var l=0,c=this._nextSet(this._row),u=null,f=1;!u;){if(!(u=this._findPattern(this.START_PATTERN,c,!1,!0)))return null;if(f=Math.floor((u.end-u.start)/4),(l=u.start-10*f)>=0&&this._matchRange(l,u.start,0))return u;c=u.end,u=null}return null}},{key:"_verifyTrailingWhitespace",value:function(l){var c=l.end+(l.end-l.start)/2;return c<this._row.length&&this._matchRange(l.end,c,0)?l:null}},{key:"_findEnd",value:function(){this._row.reverse();var l=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),l===null)return null;var c=l.start;return l.start=this._row.length-l.end,l.end=this._row.length-c,l!==null?this._verifyTrailingWhitespace(l):null}},{key:"_decodePair",value:function(l){for(var c=[],u=0;u<l.length;u++){var f=this._decodeCode(l[u]);if(!f)return null;c.push(f)}return c}},{key:"_decodeCode",value:function(l){for(var c=this.AVG_CODE_ERROR,u={error:Number.MAX_VALUE,code:-1,start:0,end:0},f=0;f<this.CODE_PATTERN.length;f++){var _=this._matchPattern(l,this.CODE_PATTERN[f]);_<u.error&&(u.code=f,u.error=_)}return u.error<c?u:null}},{key:"_decodePayload",value:function(l,c,u){for(var f=0,_=l.length,b=[[0,0,0,0,0],[0,0,0,0,0]],v=null;f<_;){for(var C=0;C<5;C++)b[0][C]=l[f]*this.barSpaceRatio[0],b[1][C]=l[f+1]*this.barSpaceRatio[1],f+=2;if(!(v=this._decodePair(b)))return null;for(var P=0;P<v.length;P++)c.push(v[P].code+""),u.push(v[P])}return v}},{key:"_verifyCounterLength",value:function(l){return l.length%10==0}},{key:"decode",value:function(l,c){var u=new Array,f=new Array,_=this._findStart();if(!_)return null;f.push(_);var b=this._findEnd();if(!b)return null;var v=this._fillCounters(_.end,b.start,!1);return this._verifyCounterLength(v)&&this._decodePayload(v,u,f)?u.length%2!=0||u.length<6?null:(f.push(b),{code:u.join(""),start:_.start,end:b.end,startInfo:_,decodedCodes:f,format:this.FORMAT}):null}}]),p}(ce);function ii(g,x){var p=Object.keys(g);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(g);x&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(g,c).enumerable})),p.push.apply(p,l)}return p}function Ro(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var c=L()(this).constructor;p=Reflect.construct(l,arguments,c)}else p=l.apply(this,arguments);return R()(this,p)}}var oi=function(g){T()(p,g);var x=Ro(p);function p(){var l;Z()(this,p);for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=x.call.apply(x,[this].concat(u)),A()(D()(l),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),A()(D()(l),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),A()(D()(l),"FORMAT","upc_e"),l}return G()(p,[{key:"_decodePayload",value:function(l,c,u){for(var f=function(v){for(var C=1;C<arguments.length;C++){var P=arguments[C]!=null?arguments[C]:{};C%2?ii(Object(P),!0).forEach(function(H){A()(v,H,P[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(P)):ii(Object(P)).forEach(function(H){Object.defineProperty(v,H,Object.getOwnPropertyDescriptor(P,H))})}return v}({},l),_=0,b=0;b<6;b++){if(!(f=this._decodeCode(f.end)))return null;f.code>=10&&(f.code=f.code-10,_|=1<<5-b),c.push(f.code),u.push(f)}return this._determineParity(_,c)?f:null}},{key:"_determineParity",value:function(l,c){for(var u=0;u<this.CODE_FREQUENCY.length;u++)for(var f=0;f<this.CODE_FREQUENCY[u].length;f++)if(l===this.CODE_FREQUENCY[u][f])return c.unshift(u),c.push(f),!0;return!1}},{key:"_convertToUPCA",value:function(l){var c=[l[0]],u=l[l.length-2];return(c=u<=2?c.concat(l.slice(1,3)).concat([u,0,0,0,0]).concat(l.slice(3,6)):u===3?c.concat(l.slice(1,4)).concat([0,0,0,0,0]).concat(l.slice(4,6)):u===4?c.concat(l.slice(1,5)).concat([0,0,0,0,0,l[5]]):c.concat(l.slice(1,6)).concat([0,0,0,0,u])).push(l[l.length-1]),c}},{key:"_checksum",value:function(l){return lt()(L()(p.prototype),"_checksum",this).call(this,this._convertToUPCA(l))}},{key:"_findEnd",value:function(l,c){return lt()(L()(p.prototype),"_findEnd",this).call(this,l,!0)}},{key:"_verifyTrailingWhitespace",value:function(l){var c=l.end+(l.end-l.start)/2;return c<this._row.length&&this._matchRange(l.end,c,0)?l:null}}]),p}(Rt);function Ao(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var c=L()(this).constructor;p=Reflect.construct(l,arguments,c)}else p=l.apply(this,arguments);return R()(this,p)}}var ai=function(g){T()(p,g);var x=Ao(p);function p(){var l;Z()(this,p);for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=x.call.apply(x,[this].concat(u)),A()(D()(l),"FORMAT","upc_a"),l}return G()(p,[{key:"decode",value:function(l,c){var u=Rt.prototype.decode.call(this);return u&&u.code&&u.code.length===13&&u.code.charAt(0)==="0"?(u.code=u.code.substring(1),u):null}}]),p}(Rt),cn={},Cn={UP:1,DOWN:-1};cn.getBarcodeLine=function(g,x,p){var l,c,u,f,_,b=0|x.x,v=0|x.y,C=0|p.x,P=0|p.y,H=Math.abs(P-v)>Math.abs(C-b),re=[],Y=g.data,le=g.size.x,Me=255,De=0;function Ee(pn,Zo){_=Y[Zo*le+pn],Me=_<Me?_:Me,De=_>De?_:De,re.push(_)}H&&(u=b,b=v,v=u,u=C,C=P,P=u),b>C&&(u=b,b=C,C=u,u=v,v=P,P=u);var ze=C-b,nt=Math.abs(P-v);l=ze/2|0,c=v;var pt=v<P?1:-1;for(f=b;f<C;f++)H?Ee(c,f):Ee(f,c),(l-=nt)<0&&(c+=pt,l+=ze);return{line:re,min:Me,max:De}},cn.toBinaryLine=function(g){var x,p,l,c,u,f,_=g.min,b=g.max,v=g.line,C=_+(b-_)/2,P=[],H=(b-_)/12,re=-H;for(l=v[0]>C?Cn.UP:Cn.DOWN,P.push({pos:0,val:v[0]}),u=0;u<v.length-2;u++)l!==(c=(x=v[u+1]-v[u])+(p=v[u+2]-v[u+1])<re&&v[u+1]<1.5*C?Cn.DOWN:x+p>H&&v[u+1]>.5*C?Cn.UP:l)&&(P.push({pos:u,val:v[u]}),l=c);for(P.push({pos:v.length,val:v[v.length-1]}),f=P[0].pos;f<P[1].pos;f++)v[f]=v[f]>C?0:1;for(u=1;u<P.length-1;u++)for(H=P[u+1].val>P[u].val?P[u].val+(P[u+1].val-P[u].val)/3*2|0:P[u+1].val+(P[u].val-P[u+1].val)/3|0,f=P[u].pos;f<P[u+1].pos;f++)v[f]=v[f]>H?0:1;return{line:v,threshold:H}},cn.debug={printFrequency:function(g,x){var p,l=x.getContext("2d");for(x.width=g.length,x.height=256,l.beginPath(),l.strokeStyle="blue",p=0;p<g.length;p++)l.moveTo(p,255),l.lineTo(p,255-g[p]);l.stroke(),l.closePath()},printPattern:function(g,x){var p,l=x.getContext("2d");for(x.width=g.length,l.fillColor="black",p=0;p<g.length;p++)g[p]===1&&l.fillRect(p,0,1,100)}};var rr=cn;function ko(g,x){var p=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!p){if(Array.isArray(g)||(p=function(b,v){if(b){if(typeof b=="string")return li(b,v);var C=Object.prototype.toString.call(b).slice(8,-1);if(C==="Object"&&b.constructor&&(C=b.constructor.name),C==="Map"||C==="Set")return Array.from(b);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return li(b,v)}}(g))||x&&g&&typeof g.length=="number"){p&&(g=p);var l=0,c=function(){};return{s:c,n:function(){return l>=g.length?{done:!0}:{done:!1,value:g[l++]}},e:function(b){throw b},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,_=!1;return{s:function(){p=p.call(g)},n:function(){var b=p.next();return f=b.done,b},e:function(b){_=!0,u=b},f:function(){try{f||p.return==null||p.return()}finally{if(_)throw u}}}}function li(g,x){(x==null||x>g.length)&&(x=g.length);for(var p=0,l=new Array(x);p<x;p++)l[p]=g[p];return l}var un={code_128_reader:Ge,ean_reader:Rt,ean_5_reader:ti,ean_2_reader:ei,ean_8_reader:ni,code_39_reader:xn,code_39_vin_reader:er,codabar_reader:Ie,upc_reader:ai,upc_e_reader:oi,i2of5_reader:ri,"2of5_reader":z,code_93_reader:Xr,code_32_reader:Gr},ir={registerReader:function(g,x){un[g]=x},create:function(g,x){var p={frequency:null,pattern:null,overlay:null},l=[];function c(){g.readers.forEach(function(v){var C,P={},H=[];o()(v)==="object"?(C=v.format,P=v.config):typeof v=="string"&&(C=v),P.supplements&&(H=P.supplements.map(function(Y){return new un[Y]}));try{var re=new un[C](P,H);l.push(re)}catch(Y){throw console.error("* Error constructing reader ",C,Y),Y}})}function u(v){var C,P=null,H=rr.getBarcodeLine(x,v[0],v[1]);for(rr.toBinaryLine(H),C=0;C<l.length&&P===null;C++)P=l[C].decodePattern(H.line);return P===null?null:{codeResult:P,barcodeLine:H}}function f(v){return _.apply(this,arguments)}function _(){return(_=O()(I.a.mark(function v(C){var P,H,re,Y;return I.a.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:P=null,H=ko(l),le.prev=2,H.s();case 4:if((re=H.n()).done){le.next=14;break}if(!(Y=re.value).decodeImage){le.next=12;break}return le.next=9,Y.decodeImage(C);case 9:if(!(P=le.sent)){le.next=12;break}return le.abrupt("break",14);case 12:le.next=4;break;case 14:le.next=19;break;case 16:le.prev=16,le.t0=le.catch(2),H.e(le.t0);case 19:return le.prev=19,H.f(),le.finish(19);case 22:return le.abrupt("return",P);case 23:case"end":return le.stop()}},v,null,[[2,16,19,22]])}))).apply(this,arguments)}function b(v){var C,P;p.overlay;var H=function(Y){return Math.sqrt(Math.pow(Math.abs(Y[1].y-Y[0].y),2)+Math.pow(Math.abs(Y[1].x-Y[0].x),2))}(C=function(Y){return[{x:(Y[1][0]-Y[0][0])/2+Y[0][0],y:(Y[1][1]-Y[0][1])/2+Y[0][1]},{x:(Y[3][0]-Y[2][0])/2+Y[2][0],y:(Y[3][1]-Y[2][1])/2+Y[2][1]}]}(v)),re=Math.atan2(C[1].y-C[0].y,C[1].x-C[0].x);return(C=function(Y,le,Me){function De(Ee){var ze=Ee*Math.sin(le),nt=Ee*Math.cos(le);Y[0].y-=ze,Y[0].x-=nt,Y[1].y+=ze,Y[1].x+=nt}for(De(Me);Me>1&&(!x.inImageWithBorder(Y[0])||!x.inImageWithBorder(Y[1]));)De(-(Me-=Math.ceil(Me/2)));return Y}(C,re,Math.floor(.1*H)))===null?null:((P=u(C))===null&&(P=function(Y,le,Me){var De,Ee,ze,nt=Math.sqrt(Math.pow(Y[1][0]-Y[0][0],2)+Math.pow(Y[1][1]-Y[0][1],2)),pt=null,pn=Math.sin(Me),Zo=Math.cos(Me);for(De=1;De<16&&pt===null;De++)ze={y:(Ee=nt/16*De*(De%2==0?-1:1))*pn,x:Ee*Zo},le[0].y+=ze.x,le[0].x-=ze.y,le[1].y+=ze.x,le[1].x-=ze.y,pt=u(le);return pt}(v,C,re)),P===null?null:{codeResult:P.codeResult,line:C,angle:re,pattern:P.barcodeLine.line,threshold:P.barcodeLine.threshold})}return c(),{decodeFromBoundingBox:function(v){return b(v)},decodeFromBoundingBoxes:function(v){var C,P,H=[],re=g.multiple;for(C=0;C<v.length;C++){var Y=v[C];if((P=b(Y)||{}).box=Y,re)H.push(P);else if(P.codeResult)return P}return{barcodes:H}},decodeFromImage:function(v){return O()(I.a.mark(function C(){var P;return I.a.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,f(v);case 2:return P=H.sent,H.abrupt("return",P);case 4:case"end":return H.stop()}},C)}))()},registerReader:function(v,C){if(un[v])throw new Error("cannot register existing reader",v);un[v]=C},setReaders:function(v){g.readers=v,l.length=0,c()}}}},At=function(){var g={};function x(c){return g[c]||(g[c]={subscribers:[]}),g[c]}function p(c,u){c.async?setTimeout(function(){c.callback(u)},4):c.callback(u)}function l(c,u,f){var _;if(typeof u=="function")_={callback:u,async:f};else if(!(_=u).callback)throw new Error("Callback was not specified on options");x(c).subscribers.push(_)}return{subscribe:function(c,u,f){return l(c,u,f)},publish:function(c,u){var f=x(c),_=f.subscribers;_.filter(function(b){return!!b.once}).forEach(function(b){p(b,u)}),f.subscribers=_.filter(function(b){return!b.once}),f.subscribers.forEach(function(b){p(b,u)})},once:function(c,u){var f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];l(c,{callback:u,async:f,once:!0})},unsubscribe:function(c,u){if(c){var f=x(c);f.subscribers=f&&u?f.subscribers.filter(function(_){return _.callback!==u}):[]}else g={}}}}(),si=t(63),ci=t.n(si),Fo=t(64);function Lo(g){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,l=L()(g);if(x){var c=L()(this).constructor;p=Reflect.construct(l,arguments,c)}else p=l.apply(this,arguments);return R()(this,p)}}var Xt,or=function(g){T()(p,g);var x=Lo(p);function p(l,c){var u;return Z()(this,p),u=x.call(this,l),A()(D()(u),"code",void 0),u.code=c,Object.setPrototypeOf(D()(u),p.prototype),u}return G()(p)}(t.n(Fo)()(Error)),ui="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function No(){try{return navigator.mediaDevices.enumerateDevices()}catch{var g=new or("enumerateDevices is not defined. ".concat(ui),-1);return Promise.reject(g)}}function Bo(g){try{return navigator.mediaDevices.getUserMedia(g)}catch{var x=new or("getUserMedia is not defined. ".concat(ui),-1);return Promise.reject(x)}}function di(g){return new Promise(function(x,p){var l=10;(function c(){l>0?g.videoWidth>10&&g.videoHeight>10?x():window.setTimeout(c,500):p(new or("Unable to play video stream. Is webcam working?",-1)),l--})()})}function fi(g,x){return ar.apply(this,arguments)}function ar(){return(ar=O()(I.a.mark(function g(x,p){var l;return I.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Bo(p);case 2:if(l=c.sent,Xt=l,!x){c.next=11;break}return x.setAttribute("autoplay","true"),x.setAttribute("muted","true"),x.setAttribute("playsinline","true"),x.srcObject=l,x.addEventListener("loadedmetadata",function(){x.play().catch(function(u){console.warn("* Error while trying to play video stream:",u)})}),c.abrupt("return",di(x));case 11:return c.abrupt("return",Promise.resolve());case 12:case"end":return c.stop()}},g)}))).apply(this,arguments)}function jo(g){var x=ci()(g,["width","height","facingMode","aspectRatio","deviceId"]);return g.minAspectRatio!==void 0&&g.minAspectRatio>0&&(x.aspectRatio=g.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),g.facing!==void 0&&(x.facingMode=g.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),x}function Uo(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=jo(g);return x&&x.deviceId&&x.facingMode&&delete x.facingMode,Promise.resolve({audio:!1,video:x})}function pi(){return(pi=O()(I.a.mark(function g(){var x;return I.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,No();case 2:return x=p.sent,p.abrupt("return",x.filter(function(l){return l.kind==="videoinput"}));case 4:case"end":return p.stop()}},g)}))).apply(this,arguments)}function dn(){if(!Xt)return null;var g=Xt.getVideoTracks();return g&&g!=null&&g.length?g[0]:null}var fn={requestedVideoElement:null,request:function(g,x){return O()(I.a.mark(function p(){var l;return I.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return fn.requestedVideoElement=g,c.next=3,Uo(x);case 3:return l=c.sent,c.abrupt("return",fi(g,l));case 5:case"end":return c.stop()}},p)}))()},release:function(){var g=Xt&&Xt.getVideoTracks();return fn.requestedVideoElement!==null&&fn.requestedVideoElement.pause(),new Promise(function(x){setTimeout(function(){g&&g.length&&g.forEach(function(p){return p.stop()}),Xt=null,fn.requestedVideoElement=null,x()},0)})},enumerateVideoDevices:function(){return pi.apply(this,arguments)},getActiveStreamLabel:function(){var g=dn();return g?g.label:""},getActiveTrack:dn,disableTorch:function(){return O()(I.a.mark(function g(){var x;return I.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!(x=dn())){p.next=11;break}return p.prev=2,p.next=5,x.applyConstraints({advanced:[{torch:!1}]});case 5:p.next=11;break;case 7:throw p.prev=7,p.t0=p.catch(2),p.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),p.t0;case 11:case"end":return p.stop()}},g,null,[[2,7]])}))()},enableTorch:function(){return O()(I.a.mark(function g(){var x;return I.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!(x=dn())){p.next=11;break}return p.prev=2,p.next=5,x.applyConstraints({advanced:[{torch:!0}]});case 5:p.next=11;break;case 7:throw p.prev=7,p.t0=p.catch(2),p.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),p.t0;case 11:case"end":return p.stop()}},g,null,[[2,7]])}))()}},wn=fn,hi={create:function(g){var x,p=document.createElement("canvas"),l=p.getContext("2d",{willReadFrequently:!!g.willReadFrequently}),c=[],u=(x=g.capacity)!==null&&x!==void 0?x:20,f=g.capture===!0;function _(b){return!!u&&b&&!function(v,C){return C&&C.some(function(P){return Object.keys(P).every(function(H){return P[H]===v[H]})})}(b,g.blacklist)&&function(v,C){return typeof C!="function"||C(v)}(b,g.filter)}return{addResult:function(b,v,C){var P={};_(C)&&(u--,P.codeResult=C,f&&(p.width=v.x,p.height=v.y,W.a.drawImage(b,v,l),P.frame=p.toDataURL()),c.push(P))},getResults:function(){return c}}}},qo={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},xt=t(5),On=t(10),mi=Math.PI/180,zo={create:function(g,x){var p,l={},c=g.getConfig(),u=(Object(On.h)(g.getRealWidth(),g.getRealHeight()),g.getCanvasSize()),f=Object(On.h)(g.getWidth(),g.getHeight()),_=g.getTopRight(),b=_.x,v=_.y,C=null,P=null,H=c.willReadFrequently;return(p=x||document.createElement("canvas")).width=u.x,p.height=u.y,console.warn("*** frame_grabber_browser: willReadFrequently=",H,"canvas=",p),C=p.getContext("2d",{willReadFrequently:!!H}),P=new Uint8Array(f.x*f.y),l.attachData=function(re){P=re},l.getData=function(){return P},l.grab=function(){var re,Y=c.halfSample,le=g.getFrame(),Me=le,De=0;if(Me){if(function(Ee,ze){Ee.width!==ze.x&&(Ee.width=ze.x),Ee.height!==ze.y&&(Ee.height=ze.y)}(p,u),c.type==="ImageStream"&&(Me=le.img,le.tags&&le.tags.orientation))switch(le.tags.orientation){case 6:De=90*mi;break;case 8:De=-90*mi}return De!==0?(C.translate(u.x/2,u.y/2),C.rotate(De),C.drawImage(Me,-u.y/2,-u.x/2,u.y,u.x),C.rotate(-De),C.translate(-u.x/2,-u.y/2)):C.drawImage(Me,0,0,u.x,u.y),re=C.getImageData(b,v,f.x,f.y).data,Y?Object(On.e)(re,f,P):Object(On.c)(re,P,c),!0}return!1},l.getSize=function(){return f},l}},Vo=zo,Sn={274:"orientation"},gi=Object.keys(Sn).map(function(g){return Sn[g]});function Go(g){return new Promise(function(x){var p=new FileReader;p.onload=function(l){return x(l.target.result)},p.readAsArrayBuffer(g)})}function Ho(g){return new Promise(function(x,p){var l=new XMLHttpRequest;l.open("GET",g,!0),l.responseType="blob",l.onreadystatechange=function(){l.readyState!==XMLHttpRequest.DONE||l.status!==200&&l.status!==0||x(this.response)},l.onerror=p,l.send()})}function Wo(g){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gi,p=new DataView(g),l=g.byteLength,c=x.reduce(function(f,_){var b=Object.keys(Sn).filter(function(v){return Sn[v]===_})[0];return b&&(f[b]=_),f},{}),u=2;if(p.getUint8(0)!==255||p.getUint8(1)!==216)return!1;for(;u<l;){if(p.getUint8(u)!==255)return!1;if(p.getUint8(u+1)===225)return $o(p,u+4,c);u+=2+p.getUint16(u+2)}return!1}function $o(g,x,p){if(function(f,_,b){for(var v="",C=_;C<_+b;C++)v+=String.fromCharCode(f.getUint8(C));return v}(g,x,4)!=="Exif")return!1;var l,c=x+6;if(g.getUint16(c)===18761)l=!1;else{if(g.getUint16(c)!==19789)return!1;l=!0}if(g.getUint16(c+2,!l)!==42)return!1;var u=g.getUint32(c+4,!l);return!(u<8)&&function(f,_,b,v,C){for(var P=f.getUint16(b,!C),H={},re=0;re<P;re++){var Y=b+12*re+2,le=v[f.getUint16(Y,!C)];le&&(H[le]=Qo(f,Y,_,b,C))}return H}(g,c,c+u,p,l)}function Qo(g,x,p,l,c){var u=g.getUint16(x+2,!c),f=g.getUint32(x+4,!c);switch(u){case 3:if(f===1)return g.getUint16(x+8,!c)}return null}var _i={};function Xo(g,x){g.onload=function(){x.loaded(this)}}_i.load=function(g,x,p,l,c){var u,f,_,b=new Array(l),v=new Array(b.length);if(c===!1)b[0]=g;else for(u=0;u<b.length;u++)_=p+u,b[u]="".concat(g,"image-").concat("00".concat(_).slice(-3),".jpg");for(v.notLoaded=[],v.addImage=function(C){v.notLoaded.push(C)},v.loaded=function(C){for(var P=v.notLoaded,H=0;H<P.length;H++)if(P[H]===C){P.splice(H,1);for(var re=0;re<b.length;re++){var Y=b[re].substr(b[re].lastIndexOf("/"));if(C.src.lastIndexOf(Y)!==-1){v[re]={img:C};break}}break}P.length===0&&(c===!1?function(le){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gi;return/^blob:/i.test(le)?Ho(le).then(Go).then(function(De){return Wo(De,Me)}):Promise.resolve(null)}(g,["orientation"]).then(function(le){v[0].tags=le,x(v)}).catch(function(le){console.log(le),x(v)}):x(v))},u=0;u<b.length;u++)f=new Image,v.addImage(f),Xo(f,v),f.src=b[u]};var Yo=_i,vi={createVideoStream:function(g){console.warn("**** InputStreamBrowser createVideoStream");var x,p,l=null,c=["canrecord","ended"],u={},f={x:0,y:0,type:"Point"},_={x:0,y:0,type:"XYSize"},b={getRealWidth:function(){return g.videoWidth},getRealHeight:function(){return g.videoHeight},getWidth:function(){return x},getHeight:function(){return p},setWidth:function(v){x=v},setHeight:function(v){p=v},setInputStream:function(v){l=v,this.setAttribute("src",v.src!==void 0?v.src:"")},ended:function(){return g.ended},getConfig:function(){return l},setAttribute:function(v,C){g&&g.setAttribute(v,C)},pause:function(){g.pause()},play:function(){g.play()},setCurrentTime:function(v){var C;((C=l)===null||C===void 0?void 0:C.type)!=="LiveStream"&&this.setAttribute("currentTime",v.toString())},addEventListener:function(v,C,P){c.indexOf(v)!==-1?(u[v]||(u[v]=[]),u[v].push(C)):g.addEventListener(v,C,P)},clearEventHandlers:function(){c.forEach(function(v){var C=u[v];C&&C.length>0&&C.forEach(function(P){g.removeEventListener(v,P)})})},trigger:function(v,C){var P,H,re,Y,le,Me=u[v];if(v==="canrecord"&&(Y=g.videoWidth,le=g.videoHeight,x=(H=l)!==null&&H!==void 0&&H.size?Y/le>1?l.size:Math.floor(Y/le*l.size):Y,p=(re=l)!==null&&re!==void 0&&re.size?Y/le>1?Math.floor(le/Y*l.size):l.size:le,_.x=x,_.y=p),Me&&Me.length>0)for(P=0;P<Me.length;P++)Me[P].apply(b,C)},setTopRight:function(v){f.x=v.x,f.y=v.y},getTopRight:function(){return f},setCanvasSize:function(v){_.x=v.x,_.y=v.y},getCanvasSize:function(){return _},getFrame:function(){return g}};return b},createLiveStream:function(g){console.warn("**** InputStreamBrowser createLiveStream"),g&&g.setAttribute("autoplay","true");var x=vi.createVideoStream(g);return x.ended=function(){return!1},x},createImageStream:function(){var g,x,p=null,l=0,c=0,u=0,f=!0,_=!1,b=null,v=0,C=null,P=!1,H=["canrecord","ended"],re={},Y={x:0,y:0,type:"Point"},le={x:0,y:0,type:"XYSize"};function Me(Ee,ze){var nt,pt=re[Ee];if(pt&&pt.length>0)for(nt=0;nt<pt.length;nt++)pt[nt].apply(De,ze)}var De={trigger:Me,getWidth:function(){return g},getHeight:function(){return x},setWidth:function(Ee){g=Ee},setHeight:function(Ee){x=Ee},getRealWidth:function(){return l},getRealHeight:function(){return c},setInputStream:function(Ee){var ze;p=Ee,Ee.sequence===!1?(C=Ee.src,v=1):(C=Ee.src,v=Ee.length),_=!1,Yo.load(C,function(nt){var pt,pn;if(b=nt,nt[0].tags&&nt[0].tags.orientation)switch(nt[0].tags.orientation){case 6:case 8:l=nt[0].img.height,c=nt[0].img.width;break;default:l=nt[0].img.width,c=nt[0].img.height}else l=nt[0].img.width,c=nt[0].img.height;g=(pt=p)!==null&&pt!==void 0&&pt.size?l/c>1?p.size:Math.floor(l/c*p.size):l,x=(pn=p)!==null&&pn!==void 0&&pn.size?l/c>1?Math.floor(c/l*p.size):p.size:c,le.x=g,le.y=x,_=!0,u=0,setTimeout(function(){Me("canrecord",[])},0)},1,v,(ze=p)===null||ze===void 0?void 0:ze.sequence)},ended:function(){return P},setAttribute:function(){},getConfig:function(){return p},pause:function(){f=!0},play:function(){f=!1},setCurrentTime:function(Ee){u=Ee},addEventListener:function(Ee,ze){H.indexOf(Ee)!==-1&&(re[Ee]||(re[Ee]=[]),re[Ee].push(ze))},clearEventHandlers:function(){Object.keys(re).forEach(function(Ee){return delete re[Ee]})},setTopRight:function(Ee){Y.x=Ee.x,Y.y=Ee.y},getTopRight:function(){return Y},setCanvasSize:function(Ee){le.x=Ee.x,le.y=Ee.y},getCanvasSize:function(){return le},getFrame:function(){var Ee,ze;return _?(f||(Ee=(ze=b)===null||ze===void 0?void 0:ze[u],u<v-1?u++:setTimeout(function(){P=!0,Me("ended",[])},0)),Ee):null}};return De}},Ko=vi,lr=t(23),Jo=G()(function g(){Z()(this,g),A()(this,"config",void 0),A()(this,"inputStream",void 0),A()(this,"framegrabber",void 0),A()(this,"inputImageWrapper",void 0),A()(this,"stopped",!1),A()(this,"boxSize",void 0),A()(this,"resultCollector",void 0),A()(this,"decoder",void 0),A()(this,"workerPool",[]),A()(this,"onUIThread",!0),A()(this,"canvasContainer",new d)}),yi=G()(function g(){Z()(this,g),A()(this,"image",void 0),A()(this,"overlay",void 0)}),d=G()(function g(){Z()(this,g),A()(this,"ctx",void 0),A()(this,"dom",void 0),this.ctx=new yi,this.dom=new yi});function m(g){if(typeof document>"u")return null;if(g instanceof HTMLElement&&g.nodeName&&g.nodeType===1)return g;var x=typeof g=="string"?g:"#interactive.viewport";return document.querySelector(x)}function y(g,x,p){var l=function(u,f){var _=document.querySelector(u);return _||((_=document.createElement("canvas")).className=f),_}(g,x);console.warn("* initCanvas getCanvasAndContext");var c=l.getContext("2d",{willReadFrequently:p.willReadFrequently});return{canvas:l,context:c}}function k(g){var x,p,l,c,u,f,_=m(g==null||(x=g.config)===null||x===void 0||(p=x.inputStream)===null||p===void 0?void 0:p.target),b=g==null||(l=g.config)===null||l===void 0||(c=l.inputStream)===null||c===void 0?void 0:c.type;if(!b)return null;var v=function(P,H){var re=H.willReadFrequently;if(typeof document<"u"){var Y=y("canvas.imgBuffer","imgBuffer",{willReadFrequently:re}),le=y("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:re});return Y.canvas.width=le.canvas.width=P.x,Y.canvas.height=le.canvas.height=P.y,{dom:{image:Y.canvas,overlay:le.canvas},ctx:{image:Y.context,overlay:le.context}}}return null}(g.inputStream.getCanvasSize(),{willReadFrequently:!(g==null||(u=g.config)===null||u===void 0||(f=u.inputStream)===null||f===void 0||!f.willReadFrequently)});if(!v)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var C=v.dom;return typeof document<"u"&&_&&(b!=="ImageStream"||_.contains(C.image)||_.appendChild(C.image),_.contains(C.overlay)||_.appendChild(C.overlay)),v}function q(g,x){var p=Object.keys(g);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(g);x&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(g,c).enumerable})),p.push.apply(p,l)}return p}function Q(g){for(var x=1;x<arguments.length;x++){var p=arguments[x]!=null?arguments[x]:{};x%2?q(Object(p),!0).forEach(function(l){A()(g,l,p[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(p)):q(Object(p)).forEach(function(l){Object.defineProperty(g,l,Object.getOwnPropertyDescriptor(p,l))})}return g}xt.a.setMatrixArrayType(Array);var pe=[];function be(g){return Q(Q({},g),{},{inputStream:Q(Q({},g.inputStream),{},{target:null})})}function ke(g){if(g){var x=g().default;if(!x)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var p;function l(u){self.postMessage({event:"processed",imageData:p.data,result:u},[p.data.buffer])}function c(){self.postMessage({event:"initialized",imageData:p.data},[p.data.buffer])}self.onmessage=function(u){if(u.data.cmd==="init"){var f=u.data.config;f.numOfWorkers=0,p=new x.ImageWrapper({x:u.data.size.x,y:u.data.size.y},new Uint8Array(u.data.imageData)),x.init(f,c,p),x.onProcessed(l)}else u.data.cmd==="process"?(p.data=new Uint8Array(u.data.imageData),x.start()):u.data.cmd==="setReaders"?x.setReaders(u.data.readers):u.data.cmd==="registerReader"&&x.registerReader(u.data.name,u.data.reader)}}function rt(g,x,p){var l,c,u=(typeof __factorySource__<"u"&&(c=__factorySource__),l=new Blob(["("+ke.toString()+")("+c+");"],{type:"text/javascript"}),window.URL.createObjectURL(l)),f={worker:new Worker(u),imageData:new Uint8Array(x.getWidth()*x.getHeight()),busy:!0};f.worker.onmessage=function(_){_.data.event==="initialized"?(URL.revokeObjectURL(u),f.busy=!1,f.imageData=new Uint8Array(_.data.imageData),p(f)):_.data.event==="processed"?(f.imageData=new Uint8Array(_.data.imageData),f.busy=!1,typeof publishResult<"u"&&publishResult(_.data.result,f.imageData)):_.data.event},f.worker.postMessage({cmd:"init",size:{x:x.getWidth(),y:x.getHeight()},imageData:f.imageData,config:be(g)},[f.imageData.buffer])}function st(g,x,p,l){var c=g-pe.length;if(c===0&&l)l();else if(c<0)pe.slice(c).forEach(function(_){_.worker.terminate()}),pe=pe.slice(0,c),l&&l();else{var u=function(_){pe.push(_),pe.length>=g&&l&&l()};if(x)for(var f=0;f<c;f++)rt(x,p,u)}}function Tt(g,x,p){for(var l=g.length;l--;)g[l][0]+=x,g[l][1]+=p}xt.a.setMatrixArrayType(Array);var It=function(){function g(){var l=this;Z()(this,g),A()(this,"context",new Jo),A()(this,"canRecord",function(c){var u;l.context.config&&(lr.a.checkImageConstraints(l.context.inputStream,(u=l.context.config)===null||u===void 0?void 0:u.locator),l.initCanvas(),l.context.framegrabber=Vo.create(l.context.inputStream,l.context.canvasContainer.dom.image),l.context.config.numOfWorkers===void 0&&(l.context.config.numOfWorkers=0),st(l.context.config.numOfWorkers,l.context.config,l.context.inputStream,function(){var f;((f=l.context.config)===null||f===void 0?void 0:f.numOfWorkers)===0&&l.initializeData(),l.ready(c)}))}),A()(this,"update",function(){if(l.context.onUIThread){var c,u=(_=l.context.framegrabber,pe.length?!!(b=pe.filter(function(v){return!v.busy})[0])&&(_.attachData(b.imageData),_.grab()&&(b.busy=!0,b.worker.postMessage({cmd:"process",imageData:b.imageData},[b.imageData.buffer])),!0):null);u||(l.context.framegrabber.attachData((c=l.context.inputImageWrapper)===null||c===void 0?void 0:c.data),l.context.framegrabber.grab()&&(u||l.locateAndDecode()))}else{var f;l.context.framegrabber.attachData((f=l.context.inputImageWrapper)===null||f===void 0?void 0:f.data),l.context.framegrabber.grab(),l.locateAndDecode()}var _,b})}var x,p;return G()(g,[{key:"initBuffers",value:function(l){if(this.context.config){var c=function(_,b,v){var C=b||new h.a({x:_.getWidth(),y:_.getHeight(),type:"XYSize"}),P=[xt.c.clone([0,0]),xt.c.clone([0,C.size.y]),xt.c.clone([C.size.x,C.size.y]),xt.c.clone([C.size.x,0])];return lr.a.init(C,v),{inputImageWrapper:C,boxSize:P}}(this.context.inputStream,l,this.context.config.locator),u=c.inputImageWrapper,f=c.boxSize;this.context.inputImageWrapper=u,this.context.boxSize=f}}},{key:"initializeData",value:function(l){this.context.config&&(this.initBuffers(l),this.context.decoder=ir.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?m(this.context.config.inputStream.target):null}},{key:"ready",value:function(l){this.context.inputStream.play(),l()}},{key:"initCanvas",value:function(){var l=k(this.context);if(l){var c=l.ctx,u=l.dom;this.context.canvasContainer.dom.image=u.image,this.context.canvasContainer.dom.overlay=u.overlay,this.context.canvasContainer.ctx.image=c.image,this.context.canvasContainer.ctx.overlay=c.overlay}}},{key:"initInputStream",value:function(l){if(this.context.config&&this.context.config.inputStream){var c=this.context.config.inputStream,u=c.type,f=c.constraints,_=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"LiveStream",P=arguments.length>1?arguments[1]:void 0,H=arguments.length>2?arguments[2]:void 0;switch(C){case"VideoStream":var re=document.createElement("video");return{video:re,inputStream:H.createVideoStream(re)};case"ImageStream":return{inputStream:H.createImageStream()};case"LiveStream":var Y=null;return P&&((Y=P.querySelector("video"))||(Y=document.createElement("video"),P.appendChild(Y))),{video:Y,inputStream:H.createLiveStream(Y)};default:return console.error("* setupInputStream invalid type ".concat(C)),{video:null,inputStream:null}}}(u,this.getViewPort(),Ko),b=_.video,v=_.inputStream;u==="LiveStream"&&b&&wn.request(b,f).then(function(){return v.trigger("canrecord")}).catch(function(C){return l(C)}),v&&(v.setAttribute("preload","auto"),v.setInputStream(this.context.config.inputStream),v.addEventListener("canrecord",this.canRecord.bind(void 0,l))),this.context.inputStream=v}}},{key:"getBoundingBoxes",value:function(){var l;return(l=this.context.config)!==null&&l!==void 0&&l.locate?lr.a.locate():[[xt.c.clone(this.context.boxSize[0]),xt.c.clone(this.context.boxSize[1]),xt.c.clone(this.context.boxSize[2]),xt.c.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(l){var c=this,u=this.context.inputStream.getTopRight(),f=u.x,_=u.y;if((f!==0||_!==0)&&(l.barcodes&&l.barcodes.forEach(function(v){return c.transformResult(v)}),l.line&&l.line.length===2&&function(v,C,P){v[0].x+=C,v[0].y+=P,v[1].x+=C,v[1].y+=P}(l.line,f,_),l.box&&Tt(l.box,f,_),l.boxes&&l.boxes.length>0))for(var b=0;b<l.boxes.length;b++)Tt(l.boxes[b],f,_)}},{key:"addResult",value:function(l,c){var u=this;c&&this.context.resultCollector&&(l.barcodes?l.barcodes.filter(function(f){return f.codeResult}).forEach(function(f){return u.addResult(f,c)}):l.codeResult&&this.context.resultCollector.addResult(c,this.context.inputStream.getCanvasSize(),l.codeResult))}},{key:"hasCodeResult",value:function(l){return!(!l||!(l.barcodes?l.barcodes.some(function(c){return c.codeResult}):l.codeResult))}},{key:"publishResult",value:function(){var l,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,u=arguments.length>1?arguments[1]:void 0,f=c;c&&this.context.onUIThread&&(this.transformResult(c),this.addResult(c,u),f=(c==null||(l=c.barcodes)===null||l===void 0?void 0:l.length)>0?c.barcodes:c),At.publish("processed",f),this.hasCodeResult(c)&&At.publish("detected",f)}},{key:"locateAndDecode",value:(p=O()(I.a.mark(function l(){var c,u,f,_,b;return I.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!(c=this.getBoundingBoxes())){v.next=12;break}return v.next=4,this.context.decoder.decodeFromBoundingBoxes(c);case 4:if(v.t0=v.sent,v.t0){v.next=7;break}v.t0={};case 7:(f=v.t0).boxes=c,this.publishResult(f,(u=this.context.inputImageWrapper)===null||u===void 0?void 0:u.data),v.next=16;break;case 12:return v.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(_=v.sent)?this.publishResult(_,(b=this.context.inputImageWrapper)===null||b===void 0?void 0:b.data):this.publishResult();case 16:case"end":return v.stop()}},l,this)})),function(){return p.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var l,c=this,u=null,f=1e3/(((l=this.context.config)===null||l===void 0?void 0:l.frequency)||60);this.context.stopped=!1;var _=this.context;(function b(v){u=u||v,_.stopped||(v>=u&&(u+=f,c.update()),window.requestAnimationFrame(b))})(performance.now())}},{key:"start",value:function(){var l,c;this.context.onUIThread&&((l=this.context.config)===null||l===void 0||(c=l.inputStream)===null||c===void 0?void 0:c.type)==="LiveStream"?this.startContinuousUpdate():this.update()}},{key:"stop",value:(x=O()(I.a.mark(function l(){var c;return I.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.context.stopped=!0,st(0),(c=this.context.config)===null||c===void 0||!c.inputStream||this.context.config.inputStream.type!=="LiveStream"){u.next=6;break}return u.next=5,wn.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return u.stop()}},l,this)})),function(){return x.apply(this,arguments)})},{key:"setReaders",value:function(l){this.context.decoder&&this.context.decoder.setReaders(l),function(c){pe.forEach(function(u){return u.worker.postMessage({cmd:"setReaders",readers:c})})}(l)}},{key:"registerReader",value:function(l,c){ir.registerReader(l,c),this.context.decoder&&this.context.decoder.registerReader(l,c),function(u,f){pe.forEach(function(_){return _.worker.postMessage({cmd:"registerReader",name:u,reader:f})})}(l,c)}}]),g}(),Ut=new It,Mn=Ut.context,sr={init:function(g,x,p){var l,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ut;return x||(l=new Promise(function(u,f){x=function(_){_?f(_):u()}})),c.context.config=s()({},qo,g),c.context.config.numOfWorkers>0&&(c.context.config.numOfWorkers=0),p?(c.context.onUIThread=!1,c.initializeData(p),x&&x()):c.initInputStream(x),l},start:function(){return Ut.start()},stop:function(){return Ut.stop()},pause:function(){Mn.stopped=!0},onDetected:function(g){g&&(typeof g=="function"||o()(g)==="object"&&g.callback)?At.subscribe("detected",g):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(g){At.unsubscribe("detected",g)},onProcessed:function(g){g&&(typeof g=="function"||o()(g)==="object"&&g.callback)?At.subscribe("processed",g):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(g){At.unsubscribe("processed",g)},setReaders:function(g){g?Ut.setReaders(g):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(g,x){g?x?Ut.registerReader(g,x):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(g){g&&typeof g.addResult=="function"&&(Mn.resultCollector=g)},get canvas(){return Mn.canvasContainer},decodeSingle:function(g,x){var p=this,l=new It;return(g=s()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:g.src},numOfWorkers:1,locator:{halfSample:!1}},g)).numOfWorkers>0&&(g.numOfWorkers=0),g.numOfWorkers>0&&(typeof Blob>"u"||typeof Worker>"u")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),g.numOfWorkers=0),new Promise(function(c,u){try{p.init(g,function(){At.once("processed",function(f){l.stop(),x&&x.call(null,f),c(f)},!0),l.start()},null,l)}catch(f){u(f)}})},get default(){return sr},Readers:r,CameraAccess:wn,ImageDebug:W.a,ImageWrapper:h.a,ResultCollector:hi};n.default=sr}]).default})});var hu=ie((Mr,zn)=>{"use strict";var $p=200,$c="__lodash_hash_undefined__",Qp=800,Xp=16,Qc=9007199254740991,Xc="[object Arguments]",Yp="[object Array]",Kp="[object AsyncFunction]",Jp="[object Boolean]",Zp="[object Date]",e0="[object Error]",Yc="[object Function]",t0="[object GeneratorFunction]",n0="[object Map]",r0="[object Number]",i0="[object Null]",Kc="[object Object]",o0="[object Proxy]",a0="[object RegExp]",l0="[object Set]",s0="[object String]",c0="[object Undefined]",u0="[object WeakMap]",d0="[object ArrayBuffer]",f0="[object DataView]",p0="[object Float32Array]",h0="[object Float64Array]",m0="[object Int8Array]",g0="[object Int16Array]",_0="[object Int32Array]",v0="[object Uint8Array]",y0="[object Uint8ClampedArray]",b0="[object Uint16Array]",x0="[object Uint32Array]",C0=/[\\^$.*+?()[\]{}|]/g,w0=/^\[object .+?Constructor\]$/,O0=/^(?:0|[1-9]\d*)$/,Xe={};Xe[p0]=Xe[h0]=Xe[m0]=Xe[g0]=Xe[_0]=Xe[v0]=Xe[y0]=Xe[b0]=Xe[x0]=!0;Xe[Xc]=Xe[Yp]=Xe[d0]=Xe[Jp]=Xe[f0]=Xe[Zp]=Xe[e0]=Xe[Yc]=Xe[n0]=Xe[r0]=Xe[Kc]=Xe[a0]=Xe[l0]=Xe[s0]=Xe[u0]=!1;var Jc=typeof global=="object"&&global&&global.Object===Object&&global,S0=typeof self=="object"&&self&&self.Object===Object&&self,Tr=Jc||S0||Function("return this")(),Zc=typeof Mr=="object"&&Mr&&!Mr.nodeType&&Mr,Er=Zc&&typeof zn=="object"&&zn&&!zn.nodeType&&zn,eu=Er&&Er.exports===Zc,Fa=eu&&Jc.process,Bc=function(){try{var e=Er&&Er.require&&Er.require("util").types;return e||Fa&&Fa.binding&&Fa.binding("util")}catch{}}(),jc=Bc&&Bc.isTypedArray;function tu(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}function M0(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}function E0(e){return function(n){return e(n)}}function P0(e,n){return e?.[n]}function T0(e,n){return function(t){return e(n(t))}}var I0=Array.prototype,D0=Function.prototype,$i=Object.prototype,La=Tr["__core-js_shared__"],Qi=D0.toString,Wt=$i.hasOwnProperty,Uc=function(){var e=/[^.]+$/.exec(La&&La.keys&&La.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),nu=$i.toString,R0=Qi.call(Object),A0=RegExp("^"+Qi.call(Wt).replace(C0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hi=eu?Tr.Buffer:void 0,qc=Tr.Symbol,zc=Tr.Uint8Array,Vc=Hi?Hi.allocUnsafe:void 0,ru=T0(Object.getPrototypeOf,Object),Gc=Object.create,k0=$i.propertyIsEnumerable,F0=I0.splice,vn=qc?qc.toStringTag:void 0,Wi=function(){try{var e=Va(Object,"defineProperty");return e({},"",{}),e}catch{}}(),L0=Hi?Hi.isBuffer:void 0,Hc=Math.max,N0=Date.now,iu=Va(Tr,"Map"),Pr=Va(Object,"create"),B0=function(){function e(){}return function(n){if(!Ht(n))return{};if(Gc)return Gc(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}();function yn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function j0(){this.__data__=Pr?Pr(null):{},this.size=0}function U0(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function q0(e){var n=this.__data__;if(Pr){var t=n[e];return t===$c?void 0:t}return Wt.call(n,e)?n[e]:void 0}function z0(e){var n=this.__data__;return Pr?n[e]!==void 0:Wt.call(n,e)}function V0(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Pr&&n===void 0?$c:n,this}yn.prototype.clear=j0;yn.prototype.delete=U0;yn.prototype.get=q0;yn.prototype.has=z0;yn.prototype.set=V0;function $t(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function G0(){this.__data__=[],this.size=0}function H0(e){var n=this.__data__,t=Xi(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():F0.call(n,t,1),--this.size,!0}function W0(e){var n=this.__data__,t=Xi(n,e);return t<0?void 0:n[t][1]}function $0(e){return Xi(this.__data__,e)>-1}function Q0(e,n){var t=this.__data__,r=Xi(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}$t.prototype.clear=G0;$t.prototype.delete=H0;$t.prototype.get=W0;$t.prototype.has=$0;$t.prototype.set=Q0;function Vn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function X0(){this.size=0,this.__data__={hash:new yn,map:new(iu||$t),string:new yn}}function Y0(e){var n=Ki(this,e).delete(e);return this.size-=n?1:0,n}function K0(e){return Ki(this,e).get(e)}function J0(e){return Ki(this,e).has(e)}function Z0(e,n){var t=Ki(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}Vn.prototype.clear=X0;Vn.prototype.delete=Y0;Vn.prototype.get=K0;Vn.prototype.has=J0;Vn.prototype.set=Z0;function Gn(e){var n=this.__data__=new $t(e);this.size=n.size}function eh(){this.__data__=new $t,this.size=0}function th(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function nh(e){return this.__data__.get(e)}function rh(e){return this.__data__.has(e)}function ih(e,n){var t=this.__data__;if(t instanceof $t){var r=t.__data__;if(!iu||r.length<$p-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new Vn(r)}return t.set(e,n),this.size=t.size,this}Gn.prototype.clear=eh;Gn.prototype.delete=th;Gn.prototype.get=nh;Gn.prototype.has=rh;Gn.prototype.set=ih;function oh(e,n){var t=Ua(e),r=!t&&ja(e),i=!t&&!r&&cu(e),o=!t&&!r&&!i&&du(e),a=t||r||i||o,s=a?M0(e.length,String):[],h=s.length;for(var w in e)(n||Wt.call(e,w))&&!(a&&(w=="length"||i&&(w=="offset"||w=="parent")||o&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||lu(w,h)))&&s.push(w);return s}function Na(e,n,t){(t!==void 0&&!Ji(e[n],t)||t===void 0&&!(n in e))&&qa(e,n,t)}function ah(e,n,t){var r=e[n];(!(Wt.call(e,n)&&Ji(r,t))||t===void 0&&!(n in e))&&qa(e,n,t)}function Xi(e,n){for(var t=e.length;t--;)if(Ji(e[t][0],n))return t;return-1}function qa(e,n,t){n=="__proto__"&&Wi?Wi(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}var lh=yh();function Yi(e){return e==null?e===void 0?c0:i0:vn&&vn in Object(e)?bh(e):Mh(e)}function Wc(e){return Ir(e)&&Yi(e)==Xc}function sh(e){if(!Ht(e)||Oh(e))return!1;var n=Ha(e)?A0:w0;return n.test(Ih(e))}function ch(e){return Ir(e)&&uu(e.length)&&!!Xe[Yi(e)]}function uh(e){if(!Ht(e))return Sh(e);var n=su(e),t=[];for(var r in e)r=="constructor"&&(n||!Wt.call(e,r))||t.push(r);return t}function za(e,n,t,r,i){e!==n&&lh(n,function(o,a){if(i||(i=new Gn),Ht(o))dh(e,n,a,t,za,r,i);else{var s=r?r(Ba(e,a),o,a+"",e,n,i):void 0;s===void 0&&(s=o),Na(e,a,s)}},fu)}function dh(e,n,t,r,i,o,a){var s=Ba(e,t),h=Ba(n,t),w=a.get(h);if(w){Na(e,t,w);return}var O=o?o(s,h,t+"",e,n,a):void 0,N=O===void 0;if(N){var I=Ua(h),W=!I&&cu(h),ee=!I&&!W&&du(h);O=h,I||W||ee?Ua(s)?O=s:Dh(s)?O=gh(s):W?(N=!1,O=ph(h,!0)):ee?(N=!1,O=mh(h,!0)):O=[]:Rh(h)||ja(h)?(O=s,ja(s)?O=Ah(s):(!Ht(s)||Ha(s))&&(O=xh(h))):N=!1}N&&(a.set(h,O),i(O,h,r,o,a),a.delete(h)),Na(e,t,O)}function ou(e,n){return Ph(Eh(e,n,pu),e+"")}var fh=Wi?function(e,n){return Wi(e,"toString",{configurable:!0,enumerable:!1,value:Lh(n),writable:!0})}:pu;function ph(e,n){if(n)return e.slice();var t=e.length,r=Vc?Vc(t):new e.constructor(t);return e.copy(r),r}function hh(e){var n=new e.constructor(e.byteLength);return new zc(n).set(new zc(e)),n}function mh(e,n){var t=n?hh(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function gh(e,n){var t=-1,r=e.length;for(n||(n=Array(r));++t<r;)n[t]=e[t];return n}function _h(e,n,t,r){var i=!t;t||(t={});for(var o=-1,a=n.length;++o<a;){var s=n[o],h=r?r(t[s],e[s],s,t,e):void 0;h===void 0&&(h=e[s]),i?qa(t,s,h):ah(t,s,h)}return t}function vh(e){return ou(function(n,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,a=i>2?t[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,a&&Ch(t[0],t[1],a)&&(o=i<3?void 0:o,i=1),n=Object(n);++r<i;){var s=t[r];s&&e(n,s,r,o)}return n})}function yh(e){return function(n,t,r){for(var i=-1,o=Object(n),a=r(n),s=a.length;s--;){var h=a[e?s:++i];if(t(o[h],h,o)===!1)break}return n}}function au(e,n,t,r,i,o){return Ht(e)&&Ht(n)&&(o.set(n,e),za(e,n,void 0,au,o),o.delete(n)),e}function Ki(e,n){var t=e.__data__;return wh(n)?t[typeof n=="string"?"string":"hash"]:t.map}function Va(e,n){var t=P0(e,n);return sh(t)?t:void 0}function bh(e){var n=Wt.call(e,vn),t=e[vn];try{e[vn]=void 0;var r=!0}catch{}var i=nu.call(e);return r&&(n?e[vn]=t:delete e[vn]),i}function xh(e){return typeof e.constructor=="function"&&!su(e)?B0(ru(e)):{}}function lu(e,n){var t=typeof e;return n=n??Qc,!!n&&(t=="number"||t!="symbol"&&O0.test(e))&&e>-1&&e%1==0&&e<n}function Ch(e,n,t){if(!Ht(t))return!1;var r=typeof n;return(r=="number"?Ga(t)&&lu(n,t.length):r=="string"&&n in t)?Ji(t[n],e):!1}function wh(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Oh(e){return!!Uc&&Uc in e}function su(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||$i;return e===t}function Sh(e){var n=[];if(e!=null)for(var t in Object(e))n.push(t);return n}function Mh(e){return nu.call(e)}function Eh(e,n,t){return n=Hc(n===void 0?e.length-1:n,0),function(){for(var r=arguments,i=-1,o=Hc(r.length-n,0),a=Array(o);++i<o;)a[i]=r[n+i];i=-1;for(var s=Array(n+1);++i<n;)s[i]=r[i];return s[n]=t(a),tu(e,this,s)}}function Ba(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var Ph=Th(fh);function Th(e){var n=0,t=0;return function(){var r=N0(),i=Xp-(r-t);if(t=r,i>0){if(++n>=Qp)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function Ih(e){if(e!=null){try{return Qi.call(e)}catch{}try{return e+""}catch{}}return""}function Ji(e,n){return e===n||e!==e&&n!==n}var ja=Wc(function(){return arguments}())?Wc:function(e){return Ir(e)&&Wt.call(e,"callee")&&!k0.call(e,"callee")},Ua=Array.isArray;function Ga(e){return e!=null&&uu(e.length)&&!Ha(e)}function Dh(e){return Ir(e)&&Ga(e)}var cu=L0||Nh;function Ha(e){if(!Ht(e))return!1;var n=Yi(e);return n==Yc||n==t0||n==Kp||n==o0}function uu(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Qc}function Ht(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function Ir(e){return e!=null&&typeof e=="object"}function Rh(e){if(!Ir(e)||Yi(e)!=Kc)return!1;var n=ru(e);if(n===null)return!0;var t=Wt.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&Qi.call(t)==R0}var du=jc?E0(jc):ch;function Ah(e){return _h(e,fu(e))}var kh=ou(function(e){return e.push(void 0,au),tu(Fh,void 0,e)});function fu(e){return Ga(e)?oh(e,!0):uh(e)}var Fh=vh(function(e,n,t,r){za(e,n,t,r)});function Lh(e){return function(){return e}}function pu(e){return e}function Nh(){return!1}zn.exports=kh});var yt=ie(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});function Vh(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var Gh=function e(n,t){Vh(this,e),this.data=n,this.text=t.text||n,this.options=t};Wa.default=Gh});var xu=ie(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.CODE39=void 0;var Hh=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Wh=yt(),$h=Qh(Wh);function Qh(e){return e&&e.__esModule?e:{default:e}}function Xh(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Yh(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Kh(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Jh=function(e){Kh(n,e);function n(t,r){return Xh(this,n),t=t.toUpperCase(),r.mod43&&(t+=tm(nm(t))),Yh(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return Hh(n,[{key:"encode",value:function(){for(var r=$a("*"),i=0;i<this.data.length;i++)r+=$a(this.data[i])+"0";return r+=$a("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),n}($h.default),yu=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],Zh=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function $a(e){return em(bu(e))}function em(e){return Zh[e].toString(2)}function tm(e){return yu[e]}function bu(e){return yu.indexOf(e)}function nm(e){for(var n=0,t=0;t<e.length;t++)n+=bu(e[t]);return n=n%43,n}eo.CODE39=Jh});var Hn=ie(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});var Dr;function Qa(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Cu=it.SET_A=0,wu=it.SET_B=1,Ou=it.SET_C=2,uC=it.SHIFT=98,rm=it.START_A=103,im=it.START_B=104,om=it.START_C=105,dC=it.MODULO=103,fC=it.STOP=106,pC=it.FNC1=207,hC=it.SET_BY_CODE=(Dr={},Qa(Dr,rm,Cu),Qa(Dr,im,wu),Qa(Dr,om,Ou),Dr),mC=it.SWAP={101:Cu,100:wu,99:Ou},gC=it.A_START_CHAR="\xD0",_C=it.B_START_CHAR="\xD1",vC=it.C_START_CHAR="\xD2",yC=it.A_CHARS="[\0-_\xC8-\xCF]",bC=it.B_CHARS="[ -\x7F\xC8-\xCF]",xC=it.C_CHARS="(\xCF*[0-9]{2}\xCF*)",CC=it.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]});var Rr=ie(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});var am=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),lm=yt(),sm=cm(lm),bt=Hn();function cm(e){return e&&e.__esModule?e:{default:e}}function um(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function dm(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function fm(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var pm=function(e){fm(n,e);function n(t,r){um(this,n);var i=dm(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t.substring(1),r));return i.bytes=t.split("").map(function(o){return o.charCodeAt(0)}),i}return am(n,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,i=r.shift()-105,o=bt.SET_BY_CODE[i];if(o===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(bt.FNC1);var a=n.next(r,1,o);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:n.getBar(i)+a.result+n.getBar((a.checksum+i)%bt.MODULO)+n.getBar(bt.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return bt.BARS[r]?bt.BARS[r].toString():""}},{key:"correctIndex",value:function(r,i){if(i===bt.SET_A){var o=r.shift();return o<32?o+64:o-32}else return i===bt.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,i,o){if(!r.length)return{result:"",checksum:0};var a=void 0,s=void 0;if(r[0]>=200){s=r.shift()-105;var h=bt.SWAP[s];h!==void 0?a=n.next(r,i+1,h):((o===bt.SET_A||o===bt.SET_B)&&s===bt.SHIFT&&(r[0]=o===bt.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),a=n.next(r,i+1,o))}else s=n.correctIndex(r,o),a=n.next(r,i+1,o);var w=n.getBar(s),O=s*i;return{result:w+a.result,checksum:O+a.checksum}}}]),n}(sm.default);Xa.default=pm});var Tu=ie(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});var an=Hn(),Su=function(n){return n.match(new RegExp("^"+an.A_CHARS+"*"))[0].length},Mu=function(n){return n.match(new RegExp("^"+an.B_CHARS+"*"))[0].length},Eu=function(n){return n.match(new RegExp("^"+an.C_CHARS+"*"))[0]};function Ya(e,n){var t=n?an.A_CHARS:an.B_CHARS,r=e.match(new RegExp("^("+t+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+"\xCC"+Pu(e.substring(r[1].length));var i=e.match(new RegExp("^"+t+"+"))[0];return i.length===e.length?e:i+String.fromCharCode(n?205:206)+Ya(e.substring(i.length),!n)}function Pu(e){var n=Eu(e),t=n.length;if(t===e.length)return e;e=e.substring(t);var r=Su(e)>=Mu(e);return n+String.fromCharCode(r?206:205)+Ya(e,r)}Ka.default=function(e){var n=void 0,t=Eu(e).length;if(t>=2)n=an.C_START_CHAR+Pu(e);else{var r=Su(e)>Mu(e);n=(r?an.A_START_CHAR:an.B_START_CHAR)+Ya(e,r)}return n.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,o){return"\xCB"+o})}});var Du=ie(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});var hm=Rr(),mm=Iu(hm),gm=Tu(),_m=Iu(gm);function Iu(e){return e&&e.__esModule?e:{default:e}}function vm(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ja(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function ym(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var bm=function(e){ym(n,e);function n(t,r){if(vm(this,n),/^[\x00-\x7F\xC8-\xD3]+$/.test(t))var i=Ja(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,(0,_m.default)(t),r));else var i=Ja(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r));return Ja(i)}return n}(mm.default);Za.default=bm});var Au=ie(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});var xm=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Cm=Rr(),wm=Om(Cm),Ru=Hn();function Om(e){return e&&e.__esModule?e:{default:e}}function Sm(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Mm(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Em(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Pm=function(e){Em(n,e);function n(t,r){return Sm(this,n),Mm(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,Ru.A_START_CHAR+t,r))}return xm(n,[{key:"valid",value:function(){return new RegExp("^"+Ru.A_CHARS+"+$").test(this.data)}}]),n}(wm.default);el.default=Pm});var Fu=ie(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});var Tm=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Im=Rr(),Dm=Rm(Im),ku=Hn();function Rm(e){return e&&e.__esModule?e:{default:e}}function Am(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function km(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Fm(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Lm=function(e){Fm(n,e);function n(t,r){return Am(this,n),km(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,ku.B_START_CHAR+t,r))}return Tm(n,[{key:"valid",value:function(){return new RegExp("^"+ku.B_CHARS+"+$").test(this.data)}}]),n}(Dm.default);tl.default=Lm});var Nu=ie(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});var Nm=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Bm=Rr(),jm=Um(Bm),Lu=Hn();function Um(e){return e&&e.__esModule?e:{default:e}}function qm(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function zm(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Vm(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Gm=function(e){Vm(n,e);function n(t,r){return qm(this,n),zm(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,Lu.C_START_CHAR+t,r))}return Nm(n,[{key:"valid",value:function(){return new RegExp("^"+Lu.C_CHARS+"+$").test(this.data)}}]),n}(jm.default);nl.default=Gm});var Bu=ie(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.CODE128C=Nt.CODE128B=Nt.CODE128A=Nt.CODE128=void 0;var Hm=Du(),Wm=to(Hm),$m=Au(),Qm=to($m),Xm=Fu(),Ym=to(Xm),Km=Nu(),Jm=to(Km);function to(e){return e&&e.__esModule?e:{default:e}}Nt.CODE128=Wm.default;Nt.CODE128A=Qm.default;Nt.CODE128B=Ym.default;Nt.CODE128C=Jm.default});var Wn=ie(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});var DC=ln.SIDE_BIN="101",RC=ln.MIDDLE_BIN="01010",AC=ln.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},kC=ln.EAN2_STRUCTURE=["LL","LG","GL","GG"],FC=ln.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],LC=ln.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]});var $n=ie(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});var Zm=Wn(),e1=function(n,t,r){var i=n.split("").map(function(a,s){return Zm.BINARIES[t[s]]}).map(function(a,s){return a?a[n[s]]:""});if(r){var o=n.length-1;i=i.map(function(a,s){return s<o?a+r:a})}return i.join("")};rl.default=e1});var ol=ie(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});var t1=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Qn=Wn(),n1=$n(),ju=Uu(n1),r1=yt(),i1=Uu(r1);function Uu(e){return e&&e.__esModule?e:{default:e}}function o1(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a1(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function l1(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var s1=function(e){l1(n,e);function n(t,r){o1(this,n);var i=a1(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r));return i.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return t1(n,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,i){return this.text.substr(r,i)}},{key:"leftEncode",value:function(r,i){return(0,ju.default)(r,i)}},{key:"rightText",value:function(r,i){return this.text.substr(r,i)}},{key:"rightEncode",value:function(r,i){return(0,ju.default)(r,i)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:Qn.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:r},{data:Qn.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:r},{data:Qn.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var r=[Qn.SIDE_BIN,this.leftEncode(),Qn.MIDDLE_BIN,this.rightEncode(),Qn.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),n}(i1.default);il.default=s1});var zu=ie(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});var c1=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Ar=function e(n,t,r){n===null&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,t);if(i===void 0){var o=Object.getPrototypeOf(n);return o===null?void 0:e(o,t,r)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(r)}},u1=Wn(),d1=ol(),f1=p1(d1);function p1(e){return e&&e.__esModule?e:{default:e}}function h1(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function m1(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function g1(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var qu=function(n){var t=n.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i*3:r+i},0);return(10-t%10)%10},_1=function(e){g1(n,e);function n(t,r){h1(this,n),t.search(/^[0-9]{12}$/)!==-1&&(t+=qu(t));var i=m1(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r));return i.lastChar=r.lastChar,i}return c1(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===qu(this.data)}},{key:"leftText",value:function(){return Ar(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),i=u1.EAN13_STRUCTURE[this.data[0]];return Ar(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftEncode",this).call(this,r,i)}},{key:"rightText",value:function(){return Ar(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return Ar(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=Ar(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),n}(f1.default);al.default=_1});var Gu=ie(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});var v1=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),no=function e(n,t,r){n===null&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,t);if(i===void 0){var o=Object.getPrototypeOf(n);return o===null?void 0:e(o,t,r)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(r)}},y1=ol(),b1=x1(y1);function x1(e){return e&&e.__esModule?e:{default:e}}function C1(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function w1(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function O1(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Vu=function(n){var t=n.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i:r+i*3},0);return(10-t%10)%10},S1=function(e){O1(n,e);function n(t,r){return C1(this,n),t.search(/^[0-9]{7}$/)!==-1&&(t+=Vu(t)),w1(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return v1(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===Vu(this.data)}},{key:"leftText",value:function(){return no(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return no(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return no(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return no(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),n}(b1.default);ll.default=S1});var Wu=ie(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});var M1=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),E1=Wn(),P1=$n(),T1=Hu(P1),I1=yt(),D1=Hu(I1);function Hu(e){return e&&e.__esModule?e:{default:e}}function R1(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function A1(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function k1(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var F1=function(n){var t=n.split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i*9:r+i*3},0);return t%10},L1=function(e){k1(n,e);function n(t,r){return R1(this,n),A1(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return M1(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=E1.EAN5_STRUCTURE[F1(this.data)];return{data:"1011"+(0,T1.default)(this.data,r,"01"),text:this.text}}}]),n}(D1.default);sl.default=L1});var Qu=ie(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});var N1=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),B1=Wn(),j1=$n(),U1=$u(j1),q1=yt(),z1=$u(q1);function $u(e){return e&&e.__esModule?e:{default:e}}function V1(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function G1(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function H1(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var W1=function(e){H1(n,e);function n(t,r){return V1(this,n),G1(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return N1(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=B1.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,U1.default)(this.data,r,"01"),text:this.text}}}]),n}(z1.default);cl.default=W1});var dl=ie(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});var $1=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();ro.checksum=ul;var Q1=$n(),Xn=Xu(Q1),X1=yt(),Y1=Xu(X1);function Xu(e){return e&&e.__esModule?e:{default:e}}function K1(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function J1(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Z1(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var eg=function(e){Z1(n,e);function n(t,r){K1(this,n),t.search(/^[0-9]{11}$/)!==-1&&(t+=ul(t));var i=J1(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r));return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return $1(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==ul(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,Xn.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,Xn.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,Xn.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,Xn.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,Xn.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,Xn.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),n}(Y1.default);function ul(e){var n=0,t;for(t=1;t<11;t+=2)n+=parseInt(e[t]);for(t=0;t<11;t+=2)n+=parseInt(e[t])*3;return(10-n%10)%10}ro.default=eg});var Ju=ie(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});var tg=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),ng=$n(),rg=Ku(ng),ig=yt(),og=Ku(ig),ag=dl();function Ku(e){return e&&e.__esModule?e:{default:e}}function lg(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function fl(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function sg(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var cg=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],ug=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],dg=function(e){sg(n,e);function n(t,r){lg(this,n);var i=fl(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r));if(i.isValid=!1,t.search(/^[0-9]{6}$/)!==-1)i.middleDigits=t,i.upcA=Yu(t,"0"),i.text=r.text||""+i.upcA[0]+t+i.upcA[i.upcA.length-1],i.isValid=!0;else if(t.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=t.substring(1,t.length-1),i.upcA=Yu(i.middleDigits,t[0]),i.upcA[i.upcA.length-1]===t[t.length-1])i.isValid=!0;else return fl(i);else return fl(i);return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return tg(n,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],i=this.upcA[this.upcA.length-1],o=ug[parseInt(i)][parseInt(r)];return(0,rg.default)(this.middleDigits,o)}}]),n}(og.default);function Yu(e,n){for(var t=parseInt(e[e.length-1]),r=cg[t],i="",o=0,a=0;a<r.length;a++){var s=r[a];s==="X"?i+=e[o++]:i+=s}return i=""+n+i,""+i+(0,ag.checksum)(i)}pl.default=dg});var Zu=ie(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.UPCE=_t.UPC=_t.EAN2=_t.EAN5=_t.EAN8=_t.EAN13=void 0;var fg=zu(),pg=Yn(fg),hg=Gu(),mg=Yn(hg),gg=Wu(),_g=Yn(gg),vg=Qu(),yg=Yn(vg),bg=dl(),xg=Yn(bg),Cg=Ju(),wg=Yn(Cg);function Yn(e){return e&&e.__esModule?e:{default:e}}_t.EAN13=pg.default;_t.EAN8=mg.default;_t.EAN5=_g.default;_t.EAN2=yg.default;_t.UPC=xg.default;_t.UPCE=wg.default});var ed=ie(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});var $C=kr.START_BIN="1010",QC=kr.END_BIN="11101",XC=kr.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]});var ml=ie(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});var Og=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),io=ed(),Sg=yt(),Mg=Eg(Sg);function Eg(e){return e&&e.__esModule?e:{default:e}}function Pg(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Tg(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Ig(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Dg=function(e){Ig(n,e);function n(){return Pg(this,n),Tg(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return Og(n,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,i=this.data.match(/.{2}/g).map(function(o){return r.encodePair(o)}).join("");return{data:io.START_BIN+i+io.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var i=io.BINARIES[r[1]];return io.BINARIES[r[0]].split("").map(function(o,a){return(o==="1"?"111":"1")+(i[a]==="1"?"000":"0")}).join("")}}]),n}(Mg.default);hl.default=Dg});var nd=ie(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});var Rg=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Ag=ml(),kg=Fg(Ag);function Fg(e){return e&&e.__esModule?e:{default:e}}function Lg(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ng(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Bg(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var td=function(n){var t=n.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,i,o){return r+i*(3-o%2*2)},0);return Math.ceil(t/10)*10-t},jg=function(e){Bg(n,e);function n(t,r){return Lg(this,n),t.search(/^[0-9]{13}$/)!==-1&&(t+=td(t)),Ng(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return Rg(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===td(this.data)}}]),n}(kg.default);gl.default=jg});var id=ie(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.ITF14=Kn.ITF=void 0;var Ug=ml(),qg=rd(Ug),zg=nd(),Vg=rd(zg);function rd(e){return e&&e.__esModule?e:{default:e}}Kn.ITF=qg.default;Kn.ITF14=Vg.default});var Jn=ie(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});var Gg=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Hg=yt(),Wg=$g(Hg);function $g(e){return e&&e.__esModule?e:{default:e}}function Qg(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Xg(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Yg(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Kg=function(e){Yg(n,e);function n(t,r){return Qg(this,n),Xg(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return Gg(n,[{key:"encode",value:function(){for(var r="110",i=0;i<this.data.length;i++){var o=parseInt(this.data[i]),a=o.toString(2);a=Jg(a,4-a.length);for(var s=0;s<a.length;s++)r+=a[s]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),n}(Wg.default);function Jg(e,n){for(var t=0;t<n;t++)e="0"+e;return e}_l.default=Kg});var Fr=ie(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.mod10=Zg;oo.mod11=e_;function Zg(e){for(var n=0,t=0;t<e.length;t++){var r=parseInt(e[t]);(t+e.length)%2===0?n+=r:n+=r*2%10+Math.floor(r*2/10)}return(10-n%10)%10}function e_(e){for(var n=0,t=[2,3,4,5,6,7],r=0;r<e.length;r++){var i=parseInt(e[e.length-1-r]);n+=t[r%t.length]*i}return(11-n%11)%11}});var od=ie(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});var t_=Jn(),n_=i_(t_),r_=Fr();function i_(e){return e&&e.__esModule?e:{default:e}}function o_(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a_(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function l_(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var s_=function(e){l_(n,e);function n(t,r){return o_(this,n),a_(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t+(0,r_.mod10)(t),r))}return n}(n_.default);vl.default=s_});var ad=ie(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});var c_=Jn(),u_=f_(c_),d_=Fr();function f_(e){return e&&e.__esModule?e:{default:e}}function p_(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function h_(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function m_(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var g_=function(e){m_(n,e);function n(t,r){return p_(this,n),h_(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t+(0,d_.mod11)(t),r))}return n}(u_.default);yl.default=g_});var sd=ie(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});var __=Jn(),v_=y_(__),ld=Fr();function y_(e){return e&&e.__esModule?e:{default:e}}function b_(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function x_(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function C_(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var w_=function(e){C_(n,e);function n(t,r){return b_(this,n),t+=(0,ld.mod10)(t),t+=(0,ld.mod10)(t),x_(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return n}(v_.default);bl.default=w_});var ud=ie(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});var O_=Jn(),S_=M_(O_),cd=Fr();function M_(e){return e&&e.__esModule?e:{default:e}}function E_(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function P_(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function T_(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var I_=function(e){T_(n,e);function n(t,r){return E_(this,n),t+=(0,cd.mod11)(t),t+=(0,cd.mod10)(t),P_(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return n}(S_.default);xl.default=I_});var dd=ie(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.MSI1110=Et.MSI1010=Et.MSI11=Et.MSI10=Et.MSI=void 0;var D_=Jn(),R_=Lr(D_),A_=od(),k_=Lr(A_),F_=ad(),L_=Lr(F_),N_=sd(),B_=Lr(N_),j_=ud(),U_=Lr(j_);function Lr(e){return e&&e.__esModule?e:{default:e}}Et.MSI=R_.default;Et.MSI10=k_.default;Et.MSI11=L_.default;Et.MSI1010=B_.default;Et.MSI1110=U_.default});var fd=ie(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.pharmacode=void 0;var q_=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),z_=yt(),V_=G_(z_);function G_(e){return e&&e.__esModule?e:{default:e}}function H_(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function W_(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function $_(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Q_=function(e){$_(n,e);function n(t,r){H_(this,n);var i=W_(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r));return i.number=parseInt(t,10),i}return q_(n,[{key:"encode",value:function(){for(var r=this.number,i="";!isNaN(r)&&r!=0;)r%2===0?(i="11100"+i,r=(r-2)/2):(i="100"+i,r=(r-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),n}(V_.default);ao.pharmacode=Q_});var pd=ie(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.codabar=void 0;var X_=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Y_=yt(),K_=J_(Y_);function J_(e){return e&&e.__esModule?e:{default:e}}function Z_(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ev(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function tv(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var nv=function(e){tv(n,e);function n(t,r){Z_(this,n),t.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(t="A"+t+"A");var i=ev(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t.toUpperCase(),r));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return X_(n,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],i=this.getEncodings(),o=0;o<this.data.length;o++)r.push(i[this.data.charAt(o)]),o!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),n}(K_.default);lo.codabar=nv});var hd=ie(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.GenericBarcode=void 0;var rv=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),iv=yt(),ov=av(iv);function av(e){return e&&e.__esModule?e:{default:e}}function lv(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function sv(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function cv(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var uv=function(e){cv(n,e);function n(t,r){return lv(this,n),sv(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r))}return rv(n,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),n}(ov.default);so.GenericBarcode=uv});var gd=ie(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});var dv=xu(),co=Bu(),Zn=Zu(),md=id(),Nr=dd(),fv=fd(),pv=pd(),hv=hd();Cl.default={CODE39:dv.CODE39,CODE128:co.CODE128,CODE128A:co.CODE128A,CODE128B:co.CODE128B,CODE128C:co.CODE128C,EAN13:Zn.EAN13,EAN8:Zn.EAN8,EAN5:Zn.EAN5,EAN2:Zn.EAN2,UPC:Zn.UPC,UPCE:Zn.UPCE,ITF14:md.ITF14,ITF:md.ITF,MSI:Nr.MSI,MSI10:Nr.MSI10,MSI11:Nr.MSI11,MSI1010:Nr.MSI1010,MSI1110:Nr.MSI1110,pharmacode:fv.pharmacode,codabar:pv.codabar,GenericBarcode:hv.GenericBarcode}});var Br=ie(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});var mv=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};wl.default=function(e,n){return mv({},e,n)}});var _d=ie(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.default=gv;function gv(e){var n=[];function t(r){if(Array.isArray(r))for(var i=0;i<r.length;i++)t(r[i]);else r.text=r.text||"",r.data=r.data||"",n.push(r)}return t(e),n}});var vd=ie(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.default=_v;function _v(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}});var El=ie(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.default=vv;function vv(e){var n=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var t in n)n.hasOwnProperty(t)&&(t=n[t],typeof e[t]=="string"&&(e[t]=parseInt(e[t],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}});var Tl=ie(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});var yv={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};Pl.default=yv});var xd=ie(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});var bv=El(),xv=bd(bv),Cv=Tl(),yd=bd(Cv);function bd(e){return e&&e.__esModule?e:{default:e}}function wv(e){var n={};for(var t in yd.default)yd.default.hasOwnProperty(t)&&(e.hasAttribute("jsbarcode-"+t.toLowerCase())&&(n[t]=e.getAttribute("jsbarcode-"+t.toLowerCase())),e.hasAttribute("data-"+t.toLowerCase())&&(n[t]=e.getAttribute("data-"+t.toLowerCase())));return n.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),n=(0,xv.default)(n),n}Il.default=wv});var Dl=ie(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.getTotalWidthOfEncodings=Pt.calculateEncodingAttributes=Pt.getBarcodePadding=Pt.getEncodingHeight=Pt.getMaximumHeightOfEncodings=void 0;var Ov=Br(),Sv=Mv(Ov);function Mv(e){return e&&e.__esModule?e:{default:e}}function Cd(e,n){return n.height+(n.displayValue&&e.text.length>0?n.fontSize+n.textMargin:0)+n.marginTop+n.marginBottom}function wd(e,n,t){if(t.displayValue&&n<e){if(t.textAlign=="center")return Math.floor((e-n)/2);if(t.textAlign=="left")return 0;if(t.textAlign=="right")return Math.floor(e-n)}return 0}function Ev(e,n,t){for(var r=0;r<e.length;r++){var i=e[r],o=(0,Sv.default)(n,i.options),a;o.displayValue?a=Iv(i.text,o,t):a=0;var s=i.data.length*o.width;i.width=Math.ceil(Math.max(a,s)),i.height=Cd(i,o),i.barcodePadding=wd(a,s,o)}}function Pv(e){for(var n=0,t=0;t<e.length;t++)n+=e[t].width;return n}function Tv(e){for(var n=0,t=0;t<e.length;t++)e[t].height>n&&(n=e[t].height);return n}function Iv(e,n,t){var r;if(t)r=t;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=n.fontOptions+" "+n.fontSize+"px "+n.font;var i=r.measureText(e);if(!i)return 0;var o=i.width;return o}Pt.getMaximumHeightOfEncodings=Tv;Pt.getEncodingHeight=Cd;Pt.getBarcodePadding=wd;Pt.calculateEncodingAttributes=Ev;Pt.getTotalWidthOfEncodings=Pv});var Od=ie(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});var Dv=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Rv=Br(),Av=kv(Rv),Rl=Dl();function kv(e){return e&&e.__esModule?e:{default:e}}function Fv(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var Lv=function(){function e(n,t,r){Fv(this,e),this.canvas=n,this.encodings=t,this.options=r}return Dv(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var t=0;t<this.encodings.length;t++){var r=(0,Av.default)(this.options,this.encodings[t].options);this.drawCanvasBarcode(r,this.encodings[t]),this.drawCanvasText(r,this.encodings[t]),this.moveCanvasDrawing(this.encodings[t])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var t=this.canvas.getContext("2d");t.save(),(0,Rl.calculateEncodingAttributes)(this.encodings,this.options,t);var r=(0,Rl.getTotalWidthOfEncodings)(this.encodings),i=(0,Rl.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(t.fillStyle=this.options.background,t.fillRect(0,0,this.canvas.width,this.canvas.height)),t.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(t,r){var i=this.canvas.getContext("2d"),o=r.data,a;t.textPosition=="top"?a=t.marginTop+t.fontSize+t.textMargin:a=t.marginTop,i.fillStyle=t.lineColor;for(var s=0;s<o.length;s++){var h=s*t.width+r.barcodePadding;o[s]==="1"?i.fillRect(h,a,t.width,t.height):o[s]&&i.fillRect(h,a,t.width,t.height*o[s])}}},{key:"drawCanvasText",value:function(t,r){var i=this.canvas.getContext("2d"),o=t.fontOptions+" "+t.fontSize+"px "+t.font;if(t.displayValue){var a,s;t.textPosition=="top"?s=t.marginTop+t.fontSize-t.textMargin:s=t.height+t.textMargin+t.marginTop+t.fontSize,i.font=o,t.textAlign=="left"||r.barcodePadding>0?(a=0,i.textAlign="left"):t.textAlign=="right"?(a=r.width-1,i.textAlign="right"):(a=r.width/2,i.textAlign="center"),i.fillText(r.text,a,s)}}},{key:"moveCanvasDrawing",value:function(t){var r=this.canvas.getContext("2d");r.translate(t.width,0)}},{key:"restoreCanvas",value:function(){var t=this.canvas.getContext("2d");t.restore()}}]),e}();Al.default=Lv});var Sd=ie(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});var Nv=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Bv=Br(),jv=Uv(Bv),kl=Dl();function Uv(e){return e&&e.__esModule?e:{default:e}}function qv(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var uo="http://www.w3.org/2000/svg",zv=function(){function e(n,t,r){qv(this,e),this.svg=n,this.encodings=t,this.options=r,this.document=r.xmlDocument||document}return Nv(e,[{key:"render",value:function(){var t=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var i=this.encodings[r],o=(0,jv.default)(this.options,i.options),a=this.createGroup(t,o.marginTop,this.svg);this.setGroupOptions(a,o),this.drawSvgBarcode(a,o,i),this.drawSVGText(a,o,i),t+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,kl.calculateEncodingAttributes)(this.encodings,this.options);var t=(0,kl.getTotalWidthOfEncodings)(this.encodings),r=(0,kl.getMaximumHeightOfEncodings)(this.encodings),i=t+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,r),this.options.background&&this.drawRect(0,0,i,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(t,r,i){var o=i.data,a;r.textPosition=="top"?a=r.fontSize+r.textMargin:a=0;for(var s=0,h=0,w=0;w<o.length;w++)h=w*r.width+i.barcodePadding,o[w]==="1"?s++:s>0&&(this.drawRect(h-r.width*s,a,r.width*s,r.height,t),s=0);s>0&&this.drawRect(h-r.width*(s-1),a,r.width*s,r.height,t)}},{key:"drawSVGText",value:function(t,r,i){var o=this.document.createElementNS(uo,"text");if(r.displayValue){var a,s;o.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),r.textPosition=="top"?s=r.fontSize-r.textMargin:s=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||i.barcodePadding>0?(a=0,o.setAttribute("text-anchor","start")):r.textAlign=="right"?(a=i.width-1,o.setAttribute("text-anchor","end")):(a=i.width/2,o.setAttribute("text-anchor","middle")),o.setAttribute("x",a),o.setAttribute("y",s),o.appendChild(this.document.createTextNode(i.text)),t.appendChild(o)}}},{key:"setSvgAttributes",value:function(t,r){var i=this.svg;i.setAttribute("width",t+"px"),i.setAttribute("height",r+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+t+" "+r),i.setAttribute("xmlns",uo),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(t,r,i){var o=this.document.createElementNS(uo,"g");return o.setAttribute("transform","translate("+t+", "+r+")"),i.appendChild(o),o}},{key:"setGroupOptions",value:function(t,r){t.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(t,r,i,o,a){var s=this.document.createElementNS(uo,"rect");return s.setAttribute("x",t),s.setAttribute("y",r),s.setAttribute("width",i),s.setAttribute("height",o),a.appendChild(s),s}}]),e}();Fl.default=zv});var Md=ie(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});var Vv=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();function Gv(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var Hv=function(){function e(n,t,r){Gv(this,e),this.object=n,this.encodings=t,this.options=r}return Vv(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();Ll.default=Hv});var Ed=ie(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});var Wv=Od(),$v=Nl(Wv),Qv=Sd(),Xv=Nl(Qv),Yv=Md(),Kv=Nl(Yv);function Nl(e){return e&&e.__esModule?e:{default:e}}Bl.default={CanvasRenderer:$v.default,SVGRenderer:Xv.default,ObjectRenderer:Kv.default}});var zl=ie(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});function jl(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ul(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function ql(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var Jv=function(e){ql(n,e);function n(t,r){jl(this,n);var i=Ul(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return i.name="InvalidInputException",i.symbology=t,i.input=r,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return n}(Error),Zv=function(e){ql(n,e);function n(){jl(this,n);var t=Ul(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.name="InvalidElementException",t.message="Not supported type to render on",t}return n}(Error),ey=function(e){ql(n,e);function n(){jl(this,n);var t=Ul(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.name="NoElementException",t.message="No element to render on.",t}return n}(Error);jr.InvalidInputException=Jv;jr.InvalidElementException=Zv;jr.NoElementException=ey});var Td=ie(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});var ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny=xd(),Vl=Pd(ny),ry=Ed(),Ur=Pd(ry),iy=zl();function Pd(e){return e&&e.__esModule?e:{default:e}}function Gl(e){if(typeof e=="string")return oy(e);if(Array.isArray(e)){for(var n=[],t=0;t<e.length;t++)n.push(Gl(e[t]));return n}else{if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLImageElement)return ay(e);if(e&&e.nodeName&&e.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&e instanceof SVGElement)return{element:e,options:(0,Vl.default)(e),renderer:Ur.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement)return{element:e,options:(0,Vl.default)(e),renderer:Ur.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:Ur.default.CanvasRenderer};if(e&&(typeof e>"u"?"undefined":ty(e))==="object"&&!e.nodeName)return{element:e,renderer:Ur.default.ObjectRenderer};throw new iy.InvalidElementException}}function oy(e){var n=document.querySelectorAll(e);if(n.length!==0){for(var t=[],r=0;r<n.length;r++)t.push(Gl(n[r]));return t}}function ay(e){var n=document.createElement("canvas");return{element:n,options:(0,Vl.default)(e),renderer:Ur.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",n.toDataURL())}}}Hl.default=Gl});var Id=ie(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});var ly=function(){function e(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();function sy(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var cy=function(){function e(n){sy(this,e),this.api=n}return ly(e,[{key:"handleCatch",value:function(t){if(t.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw t.message;else throw t;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(t){try{var r=t.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(i){return this.handleCatch(i),this.api}}}]),e}();Wl.default=cy});var Bd=ie((Sw,Nd)=>{"use strict";var uy=gd(),bn=sn(uy),dy=Br(),qr=sn(dy),fy=_d(),Rd=sn(fy),py=vd(),Dd=sn(py),hy=Td(),my=sn(hy),gy=El(),_y=sn(gy),vy=Id(),yy=sn(vy),Ad=zl(),by=Tl(),kd=sn(by);function sn(e){return e&&e.__esModule?e:{default:e}}var Qt=function(){},fo=function(n,t,r){var i=new Qt;if(typeof n>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,my.default)(n),i._encodings=[],i._options=kd.default,i._errorHandler=new yy.default(i),typeof t<"u"&&(r=r||{},r.format||(r.format=Ld()),i.options(r)[r.format](t,r).render()),i};fo.getModule=function(e){return bn.default[e]};for($l in bn.default)bn.default.hasOwnProperty($l)&&xy(bn.default,$l);var $l;function xy(e,n){Qt.prototype[n]=Qt.prototype[n.toUpperCase()]=Qt.prototype[n.toLowerCase()]=function(t,r){var i=this;return i._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var o=(0,qr.default)(i._options,r);o=(0,_y.default)(o);var a=e[n],s=Fd(t,a,o);return i._encodings.push(s),i})}}function Fd(e,n,t){e=""+e;var r=new n(e,t);if(!r.valid())throw new Ad.InvalidInputException(r.constructor.name,e);var i=r.encode();i=(0,Rd.default)(i);for(var o=0;o<i.length;o++)i[o].options=(0,qr.default)(t,i[o].options);return i}function Ld(){return bn.default.CODE128?"CODE128":Object.keys(bn.default)[0]}Qt.prototype.options=function(e){return this._options=(0,qr.default)(this._options,e),this};Qt.prototype.blank=function(e){var n=new Array(e+1).join("0");return this._encodings.push({data:n}),this};Qt.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var e;for(var n in this._renderProperties){e=this._renderProperties[n];var t=(0,qr.default)(this._options,e.options);t.format=="auto"&&(t.format=Ld()),this._errorHandler.wrapBarcodeCall(function(){var r=t.value,i=bn.default[t.format.toUpperCase()],o=Fd(r,i,t);Ql(e,o,t)})}}};Qt.prototype.render=function(){if(!this._renderProperties)throw new Ad.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)Ql(this._renderProperties[e],this._encodings,this._options);else Ql(this._renderProperties,this._encodings,this._options);return this};Qt.prototype._defaults=kd.default;function Ql(e,n,t){n=(0,Rd.default)(n);for(var r=0;r<n.length;r++)n[r].options=(0,qr.default)(t,n[r].options),(0,Dd.default)(n[r].options);(0,Dd.default)(t);var i=e.renderer,o=new i(e.element,n,t);o.render(),e.afterRender&&e.afterRender()}typeof window<"u"&&(window.JsBarcode=fo);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(e,n){var t=[];return jQuery(this).each(function(){t.push(this)}),fo(t,e,n)});Nd.exports=fo});var Es=(()=>{let n=class n{constructor(){this.product={},this.remove=new ot}onRemove(r){this.remove.emit(r)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Te({type:n,selectors:[["app-product-card"]],inputs:{product:"product"},outputs:{remove:"remove"},standalone:!0,features:[Ae],decls:14,vars:6,consts:[[1,"product-card"],[1,"product-card-header"],[1,"ri-close-fill",3,"click"],[1,"product-card-body"],[1,"product-card-content"],["alt","product-img",3,"src"],[1,"product-description"],[1,"offer-label"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"div",1)(2,"p"),oe(3),E(),S(4,"i",2),se("click",function(){return o.onRemove(o.product)}),E()(),S(5,"div",3)(6,"div",4),me(7,"img",5),S(8,"div",6)(9,"span"),oe(10),E(),S(11,"div",7),oe(12),Ft(13,"number"),E()()()()()),i&2&&(F(3),Ye(o.product.brandName),F(4),ct("src",o.product.imagesUrls[0],kt),F(3),Ye(o.product.productName),F(2),Ue("",hr(13,4,o.product.price)," DA"))},dependencies:[wi],styles:['@font-face{font-family:Ubuntu;src:url("./media/Ubuntu-Regular-P57X6VB5.ttf") format("truetype");font-weight:400;font-style:normal}[_ngcontent-%COMP%]:root{--bg-color: #ffffff;--font-color: #000000;--hover-font-color: #000000;--input-border-color: rgba(128, 128, 128, .44);--main-bg-color: #f2f2f2;--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: #E8476057;--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(27, 31, 35, .15);--footer-color:#000;--box-shadow: $box-shadow}[data-theme=dark][_ngcontent-%COMP%]{--bg-color: #161625;--font-color: #ffffff;--hover-font-color: #000000;--input-border-color: #E8476057;--main-bg-color: rgb(14, 14, 27);--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: rgba(255, 255, 255, .16);--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(60, 64, 68, .78);--footer-color:#fff;--box-shadow: $box-shadow}[_ngcontent-%COMP%]:dir(ltr){font-family:Ubuntu,sans-serif;--small-font-size: 11px;--normal-font-size: 14px;--medium-font-size: 18px;--big-font-size: 21px}[_ngcontent-%COMP%]:dir(rtl){font-family:Ubuntu,sans-serif;--small-font-size: 13px;--normal-font-size: 16px;--medium-font-size: 20px;--big-font-size: 23px}.excel-color[_ngcontent-%COMP%]{color:green!important}.pdf-color[_ngcontent-%COMP%]{color:#ff4500!important}.focus-color[_ngcontent-%COMP%]{border-color:var(--main-secoundary-color);outline:0;-webkit-box-shadow:0 0 0 .1rem rgba(199,37,62,.31);box-shadow:0 0 0 .1rem #c7253e4f}.product-card[_ngcontent-%COMP%]{border:.1em solid var(--main-bg-color);border-radius:1em;background-color:var(--main-bg-color);box-shadow:0 2px 4px #00000014;padding:10px 20px;margin-bottom:20px}.product-card[_ngcontent-%COMP%]   .product-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.product-card[_ngcontent-%COMP%]   .product-card-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--normal-font-size);font-weight:700}.product-card[_ngcontent-%COMP%]   .product-card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:var(--main-primary-color);cursor:pointer}.product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]   .product-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3px 0}.product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]   .product-card-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:60px;border-radius:50%;margin-right:10px}.product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]   .product-card-content[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column}.product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]   .product-card-content[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color);font-size:var(--normal-font-size);font-weight:700;margin:5px 0}.product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]   .product-card-content[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]   .offer-label[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center;background-color:var(--main-secoundary-color);color:var(--main-primary-color);padding:.3em;font-size:var(--small-font-size);border-radius:.5em}.product-card[_ngcontent-%COMP%]   .product-card-body[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--main-primary-color);cursor:pointer}.product-card[_ngcontent-%COMP%]:hover{cursor:pointer}@media (max-width: 767px){a[_ngcontent-%COMP%], p[_ngcontent-%COMP%], span[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:var(--small-font-size)!important}*[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}*[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}}@media (min-width: 768px) and (max-width: 991px){a[_ngcontent-%COMP%], p[_ngcontent-%COMP%], span[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:var(--small-font-size)!important}*[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}*[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}}']});let e=n;return e})();var Ia=bi(Tc(),1);var qn=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=qt({});let e=n;return e})();var Or=[{id:1,firstName:"John",lastName:"Doe",img:"assets/images/users/avatar-1.jpg",age:30,qrCode:"QR-Code-123",email:"John@gmail.com",phoneNumber:"0123456789"},{id:2,firstName:"Jane",lastName:"Smith",img:"assets/images/users/avatar-2.jpg",age:25,qrCode:"QR-Code-456",email:"Jan@gmail.com",phoneNumber:"0123456789"},{id:3,firstName:"Michael",lastName:"Johnson",img:"assets/images/users/avatar-3.jpg",age:45,qrCode:"QR-Code-789",email:"micheal@gmail.com",phoneNumber:"987654321"},{id:4,firstName:"Emily",lastName:"Brown",img:"assets/images/users/avatar-4.jpg",age:28,qrCode:"QR-Code-987",email:"Emily@gmail.com",phoneNumber:"0123456789"},{id:5,firstName:"David",lastName:"Wilson",img:"assets/images/users/avatar-5.jpg",age:35,qrCode:"QR-Code-654",email:"david@gmail.com",phoneNumber:"0123456789"},{id:6,firstName:"David",lastName:"Wilson",img:"assets/images/users/avatar-5.jpg",age:35,qrCode:"QR-Code-654",email:"david@gmail.com",phoneNumber:"0123456789"},{id:7,firstName:"David",lastName:"Wilson",img:"assets/images/users/avatar-5.jpg",age:35,qrCode:"QR-Code-654",email:"david@gmail.com",phoneNumber:"0123456789"},{id:8,firstName:"David",lastName:"Wilson",img:"assets/images/users/avatar-5.jpg",age:35,qrCode:"QR-Code-654",email:"david@gmail.com",phoneNumber:"0123456789"},{id:8,firstName:"David",lastName:"Wilson",img:"assets/images/users/avatar-5.jpg",age:35,qrCode:"QR-Code-654",email:"david@gmail.com",phoneNumber:"0123456789"},{id:8,firstName:"David",lastName:"Wilson",img:"assets/images/users/avatar-5.jpg",age:35,qrCode:"QR-Code-654",email:"david@gmail.com",phoneNumber:"0123456789"}],Sr=[{patient:Or[0],schedulingStartDate:new Date(new Date(2024,6,20,9,0)),schedulingEndDate:new Date(new Date(2024,6,20,10,0)),SchedulingOperation:"Consultation",schedulingStatus:0},{patient:Or[1],schedulingStartDate:new Date("2024-07-22"),schedulingEndDate:new Date("2024-07-23"),SchedulingOperation:"Consultation",schedulingStatus:0},{patient:Or[2],schedulingStartDate:new Date("2024-07-24"),schedulingEndDate:new Date("2024-07-25"),SchedulingOperation:"Treatment",schedulingStatus:1},{patient:Or[3],schedulingStartDate:new Date("2024-07-26"),schedulingEndDate:new Date("2024-07-27"),SchedulingOperation:"Operation",schedulingStatus:0},{patient:Or[4],schedulingStartDate:new Date("2024-07-28"),schedulingEndDate:new Date("2024-07-29"),SchedulingOperation:"Consultation",schedulingStatus:0}],up=[{scheduling:Sr[0],SchedulingLineStartDate:new Date(2024,6,20,9,0),SchedulingLineEndDate:new Date(2024,6,20,10,0),SchedulingLineOperation:"new",SchedulingLineStatus:0},{scheduling:Sr[1],SchedulingLineStartDate:new Date(2024,6,20,10,0),SchedulingLineEndDate:new Date(2024,6,20,11,0),SchedulingLineOperation:"new",SchedulingLineStatus:1},{scheduling:Sr[2],SchedulingLineStartDate:new Date(2024,6,20,11,0),SchedulingLineEndDate:new Date(2024,6,20,12,0),SchedulingLineOperation:"root canal treatment",SchedulingLineStatus:2},{scheduling:Sr[3],SchedulingLineStartDate:new Date(2024,6,20,12,0),SchedulingLineEndDate:new Date(2024,6,20,15,0),SchedulingLineOperation:"new",SchedulingLineStatus:1},{scheduling:Sr[4],SchedulingLineStartDate:new Date(2024,6,20,15,0),SchedulingLineEndDate:new Date(2024,6,20,17,0),SchedulingLineOperation:"new",SchedulingLineStatus:1}];var on=(()=>{let n=class n{constructor(r){this.storage=r,this.listFilesSubject=new ta([]),this.$listFiles=this.listFilesSubject.asObservable(),this.uploadedFilesSubject=new ta(!1),this.$uploadedFiles=this.uploadedFilesSubject.asObservable()}uploadFile(r){return ve(this,null,function*(){let o=Math.random().toString(36).substr(2,9)+r.name,a=this.storage.ref(o),s=this.storage.upload(o,r);return new Yl(h=>{s.snapshotChanges().pipe(es(()=>{a.getDownloadURL().subscribe(w=>{h.next(w),h.complete()})})).subscribe()})})}getDownloadablePath(r){return this.storage.ref(r).getDownloadURL()}};n.\u0275fac=function(i){return new(i||n)(rs(Ss))},n.\u0275prov=ns({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var dp=["fileInput"];function fp(e,n){if(e&1){let t=Re();S(0,"div",1),se("drop",function(i){we(t);let o=U();return Oe(o.onFileDropped(i))})("dragover",function(i){we(t);let o=U();return Oe(o.onDragOver(i))}),S(1,"label",2)(2,"input",3),se("change",function(i){we(t);let o=U();return Oe(o.onFilesSelected(i))}),E(),S(3,"div",4),me(4,"i",5),S(5,"span",6),oe(6,"Upload or drag photo here"),E()()()()}}function pp(e,n){if(e&1&&(S(0,"div",8)(1,"div",14),me(2,"i",15),S(3,"div",16)(4,"span"),oe(5),E(),S(6,"span",17),oe(7),E()()()()),e&2){let t=n.$implicit;F(5),Ye(t.name),F(2),Ue("",t.size," KB")}}function hp(e,n){e&1&&me(0,"i",11)}function mp(e,n){if(e&1){let t=Re();S(0,"div",7),We(1,pp,8,2,"div",8,He),E(),S(3,"div",6)(4,"div",9)(5,"label",2)(6,"input",10),se("change",function(i){we(t);let o=U();return Oe(o.onFilesSelected(i))}),E(),xe(7,hp,1,0,"i",11),E(),S(8,"app-button",12),se("handleClick",function(){we(t);let i=U();return Oe(i.uploadFile())}),E(),S(9,"app-button",13),se("handleClick",function(){we(t);let i=U();return Oe(i.resetFiles())}),E()()()}if(e&2){let t=U();F(),$e(t.listFiles),F(6),Pe(t.isUploaded?-1:7),F(),te("disabled",t.isUploaded),F(),te("outlined",!0)}}var zi=(()=>{let n=class n{constructor(r,i){this.applicationService=r,this.fileService=i,this.listFiles=[],this.isUploaded=!1,this.filesUpload=new ot,this.fileService.$listFiles.subscribe(o=>{this.listFiles=o}),this.fileService.$uploadedFiles.subscribe(o=>{this.isUploaded=o})}ngOnDestroy(){this.listFiles=[]}ngOnInit(){this.listFiles=[]}onFilesSelected(r){for(let i of r.target.files)this.listFiles.push(i);this.listFiles=[...this.listFiles],console.log(this.listFiles)}onDragOver(r){r.preventDefault()}onFileDropped(r){r.preventDefault(),r.dataTransfer&&r.dataTransfer.files&&(this.listFiles=r.dataTransfer.files)}uploadFile(){this.isUploaded=!0,this.applicationService.showSuccessfulSaveDialog("saved","success","your files are ulploaded succecfuly"),this.filesUpload.emit(this.listFiles)}resetFiles(){this.listFiles=[],this.isUploaded=!1}clearFile(r){console.log("index......."),console.log(r),this.listFiles=this.listFiles.splice(r,r),console.log(this.listFiles),this.isUploaded=!1,this.fileInput&&(this.fileInput.nativeElement.value="")}};n.\u0275fac=function(i){return new(i||n)(_e(Ve),_e(on))},n.\u0275cmp=Te({type:n,selectors:[["app-custom-file-upload"]],viewQuery:function(i,o){if(i&1&&Fe(dp,5),i&2){let a;Le(a=Ne())&&(o.fileInput=a.first)}},outputs:{filesUpload:"filesUpload"},standalone:!0,features:[Ae],decls:2,vars:2,consts:[[1,"upload-container"],[1,"upload-container",3,"drop","dragover"],[1,"upload-label"],["type","file","multiple","multiple","accept","image/*",1,"file-input",3,"change"],[1,"d-flex","flex-column","align-center"],[1,"ri-file-fill","primary-text","bold"],[1,"mt-5"],[1,"file-preview-card"],[1,"file-preview","d-flex","align-center","justify-content-between"],[1,"d-flex","align-center","justify-end"],["type","file","multiple","multiple",1,"file-input",3,"change"],[1,"ri-add-line","add-plus-icon","clickable","cursor-pointer"],["icon","ri-upload-line","label","upload","size","small",1,"mr-5",3,"handleClick","disabled"],["icon","ri-refresh-line","label","Reset","size","small",1,"mr-5",3,"handleClick","outlined"],[1,"d-flex","justify-start","align-center"],[1,"ri-attachment-2","mr-5","primary-text","bold"],[1,"d-flex","flex-column","text-align-left"],[1,"mt-2"]],template:function(i,o){i&1&&xe(0,fp,7,0,"div",0)(1,mp,10,3),i&2&&(Pe(o.listFiles.length===0?0:-1),F(),Pe(o.listFiles.length>0?1:-1))},dependencies:[mt],styles:['@font-face{font-family:Ubuntu;src:url("./media/Ubuntu-Regular-P57X6VB5.ttf") format("truetype");font-weight:400;font-style:normal}[_ngcontent-%COMP%]:root{--bg-color: #ffffff;--font-color: #000000;--hover-font-color: #000000;--input-border-color: rgba(128, 128, 128, .44);--main-bg-color: #f2f2f2;--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: #E8476057;--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(27, 31, 35, .15);--footer-color:#000;--box-shadow: $box-shadow}[data-theme=dark][_ngcontent-%COMP%]{--bg-color: #161625;--font-color: #ffffff;--hover-font-color: #000000;--input-border-color: #E8476057;--main-bg-color: rgb(14, 14, 27);--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: rgba(255, 255, 255, .16);--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(60, 64, 68, .78);--footer-color:#fff;--box-shadow: $box-shadow}[_ngcontent-%COMP%]:dir(ltr){font-family:Ubuntu,sans-serif;--small-font-size: 11px;--normal-font-size: 14px;--medium-font-size: 18px;--big-font-size: 21px}[_ngcontent-%COMP%]:dir(rtl){font-family:Ubuntu,sans-serif;--small-font-size: 13px;--normal-font-size: 16px;--medium-font-size: 20px;--big-font-size: 23px}.excel-color[_ngcontent-%COMP%]{color:green!important}.pdf-color[_ngcontent-%COMP%]{color:#ff4500!important}.focus-color[_ngcontent-%COMP%]{border-color:var(--main-secoundary-color);outline:0;-webkit-box-shadow:0 0 0 .1rem rgba(199,37,62,.31);box-shadow:0 0 0 .1rem #c7253e4f}.upload-container[_ngcontent-%COMP%]{width:100%;margin:0 auto}.upload-container[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]{display:block;width:100%;border:2px dashed #ccc;padding:20px;text-align:center;cursor:pointer;transition:border-color .3s ease;border-radius:1em}.upload-container[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]:hover{border-color:#999}.upload-container[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.add-plus-icon[_ngcontent-%COMP%]{background-color:var(--main-primary-color);color:#fff;padding:8px;border-radius:.4em;margin-right:5px}.file-preview-card[_ngcontent-%COMP%]{padding:.5em;border:solid 2px rgba(203,203,203,.31);border-radius:1em;max-height:200px;overflow-y:auto}.file-preview-card[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]{box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;border-radius:.5em;margin:10px 0;padding:.3em 1em;background-color:var(--bg-color);color:var(--font-color);height:40px}.file-preview-card[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color);font-size:14px;font-weight:700}.file-preview-card[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:12px;font-weight:400}.file-toolbar[_ngcontent-%COMP%]{box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;border-radius:.5em;margin:10px 0;padding:.3em 1em;background-color:var(--bg-color);color:var(--font-color);height:40px}']});let e=n;return e})();var gp=["chart"],Ic=(()=>{let n=class n{constructor(){this.autoUpdateSeries=!0,this.chartReady=new ot,this.chartInstance=ss(null),this.ngZone=na(as),this.isBrowser=ps(na(ls))}ngOnChanges(r){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{Kl.schedule(()=>this.hydrate(r))})}ngOnDestroy(){this.destroy()}hydrate(r){if(this.autoUpdateSeries&&Object.keys(r).filter(o=>o!=="series").length===0){this.updateSeries(this.series,!0);return}this.createElement()}createElement(){return ve(this,null,function*(){let{default:r}=yield import("./chunk-FGYZFYLO.js");window.ApexCharts||=r;let i={};this.annotations&&(i.annotations=this.annotations),this.chart&&(i.chart=this.chart),this.colors&&(i.colors=this.colors),this.dataLabels&&(i.dataLabels=this.dataLabels),this.series&&(i.series=this.series),this.stroke&&(i.stroke=this.stroke),this.labels&&(i.labels=this.labels),this.legend&&(i.legend=this.legend),this.fill&&(i.fill=this.fill),this.tooltip&&(i.tooltip=this.tooltip),this.plotOptions&&(i.plotOptions=this.plotOptions),this.responsive&&(i.responsive=this.responsive),this.markers&&(i.markers=this.markers),this.noData&&(i.noData=this.noData),this.xaxis&&(i.xaxis=this.xaxis),this.yaxis&&(i.yaxis=this.yaxis),this.forecastDataPoints&&(i.forecastDataPoints=this.forecastDataPoints),this.grid&&(i.grid=this.grid),this.states&&(i.states=this.states),this.title&&(i.title=this.title),this.subtitle&&(i.subtitle=this.subtitle),this.theme&&(i.theme=this.theme),this.destroy();let o=this.ngZone.runOutsideAngular(()=>new r(this.chartElement.nativeElement,i));this.chartInstance.set(o),this.render(),this.chartReady.emit({chartObj:o})})}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(r,i,o,a){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(r,i,o,a))}updateSeries(r,i){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(r,i))}appendSeries(r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(r,i))}appendData(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(r))}highlightSeries(r){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(r))}toggleSeries(r){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(r))}showSeries(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(r))}hideSeries(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(r))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(r,i))}toggleDataPointSelection(r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(r,i))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(r))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(r,i,o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(r,i,o))}addYaxisAnnotation(r,i,o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(r,i,o))}addPointAnnotation(r,i,o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(r,i,o))}removeAnnotation(r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(r,i))}clearAnnotations(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(r))}dataURI(r){return this.chartInstance()?.dataURI(r)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Te({type:n,selectors:[["apx-chart"]],viewQuery:function(i,o){if(i&1&&Fe(gp,7),i&2){let a;Le(a=Ne())&&(o.chartElement=a.first)}},inputs:{chart:"chart",annotations:"annotations",colors:"colors",dataLabels:"dataLabels",series:"series",stroke:"stroke",labels:"labels",legend:"legend",markers:"markers",noData:"noData",fill:"fill",tooltip:"tooltip",plotOptions:"plotOptions",responsive:"responsive",xaxis:"xaxis",yaxis:"yaxis",forecastDataPoints:"forecastDataPoints",grid:"grid",states:"states",title:"title",subtitle:"subtitle",theme:"theme",autoUpdateSeries:"autoUpdateSeries"},outputs:{chartReady:"chartReady"},standalone:!0,features:[Vt,Ae],decls:2,vars:0,consts:[["chart",""]],template:function(i,o){i&1&&me(0,"div",null,0)},encapsulation:2,changeDetection:0});let e=n;return e})();var _p=()=>["var(--main-primary-color)"];function vp(e,n){if(e&1&&(S(0,"div"),me(1,"apx-chart",0),E()),e&2){let t=U();F(),te("colors",Ze(15,_p))("series",t.chartOptions.series)("chart",t.chartOptions.chart)("xaxis",t.chartOptions.xaxis)("yaxis",t.chartOptions.yaxis)("title",t.chartOptions.title)("dataLabels",t.chartOptions.dataLabels)("stroke",t.chartOptions.stroke)("markers",t.chartOptions.markers)("tooltip",t.chartOptions.tooltip)("legend",t.chartOptions.legend)("responsive",t.chartOptions.responsive)("fill",t.chartOptions.fill)("plotOptions",t.chartOptions.plotOptions)("grid",t.chartOptions.grid)}}var Da=(()=>{let n=class n{constructor(){this.chartOptions={}}ngOnInit(){}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Te({type:n,selectors:[["app-generic-chart"]],inputs:{chartOptions:"chartOptions"},standalone:!0,features:[Ae],decls:1,vars:1,consts:[[3,"colors","series","chart","xaxis","yaxis","title","dataLabels","stroke","markers","tooltip","legend","responsive","fill","plotOptions","grid"]],template:function(i,o){i&1&&xe(0,vp,2,16,"div"),i&2&&Pe(o.chartOptions?0:-1)},dependencies:[Ic]});let e=n;return e})();var Dc={series:[{name:"Sales",data:[]}],chart:{type:"line",height:300},title:{text:"Product Trends by Month (last 6 months)",align:"left"},xaxis:{categories:[]}},Rc={series:[150,200,100,80],chart:{type:"pie",height:350},title:{text:"Number of Orders by Customer",align:"left"},tooltip:{enabled:!0,y:{formatter:e=>`${e} Orders`}},responsive:[{breakpoint:480,options:{chart:{width:250},legend:{position:"bottom"}}}]},Ac={series:[{name:"Sales",data:[]}],chart:{type:"bar",height:350},title:{text:"Top 5 Products Sales ",align:"left"},xaxis:{categories:[]}};var yp=()=>[import("./chunk-5YGYPYC5.js").then(e=>e.DropDownComponent)],Ra=()=>[mt,import("./chunk-6XLSJ4UG.js").then(e=>e.RouterLink)],bp=()=>[import("./chunk-MYUC5I63.js").then(e=>e.StatCardComponent)],xp=()=>[Da,import("./chunk-LPI7R3O4.js").then(e=>e.GenericDropDownComponent)],Cp=()=>[Da],Aa=()=>[];function wp(e,n){if(e&1){let t=Re();S(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17)(5,"span"),oe(6),E()(),S(7,"div",18)(8,"h1",19),oe(9,"Good morning"),E(),S(10,"h4",20),oe(11),E()()()(),S(12,"div",21)(13,"div",22)(14,"app-drop-down",23),se("selectOption",function(i){we(t);let o=U();return Oe(o.onSelectDate(i))}),E(),S(15,"span"),oe(16,"you have :"),E(),S(17,"span"),oe(18),E()(),S(19,"div",24)(20,"span")(21,"span",25),oe(22),E(),oe(23,"new orders"),E(),S(24,"span"),oe(25,"|"),E(),S(26,"span")(27,"span",26),oe(28),E(),oe(29,"Product reviews"),E(),S(30,"span"),oe(31,"|"),E(),S(32,"span")(33,"span",27),oe(34),E(),oe(35,"new visitors"),E()()()()()}if(e&2){let t,r=U();F(4),ht("height",80,"px")("width",80,"px")("background-color",r.user==null?null:r.user.profileColor),F(2),Ye(r.user==null||r.user.firstName==null||(t=r.user.firstName.substring(0,1))==null?null:t.toUpperCase()),F(5),Ye((r.user==null?null:r.user.firstName)+" "+(r.user==null?null:r.user.lastName)),F(3),te("options",r.weeksDropdownOptions)("selectedOption",r.weeksDropdownOptions[0]),F(4),Ue(" ",r.ordersCount+r.reviewsCount," new Updates "),F(4),Ue(" ",r.ordersCount," "),F(6),Ue(" ",r.reviewsCount," "),F(6),Ue(" ",r.visitorsCount,"")}}function Op(e,n){e&1&&me(0,"app-skelton",28),e&2&&te("height",100)("maxHeight",115)("shape","dr-banner")}function Sp(e,n){if(e&1&&(S(0,"div",29)(1,"div",30)(2,"div",31),me(3,"i",32),S(4,"h1",33),oe(5),E()(),S(6,"div",16),me(7,"i"),S(8,"span",33),oe(9),E()()(),S(10,"div",34)(11,"div",35)(12,"span",36),oe(13,"total of reviews"),E()(),S(14,"div",37),me(15,"app-button",38),E()()()),e&2){let t=U();F(5),Ye(t.reviewsCount),F(2),In("",t.reviewsChangesIconClass,"  mr-5"),F(2),Ue("",t.reviewsPercentageAccordingToLastWeek,"% than the last day")}}function Mp(e,n){e&1&&me(0,"app-skelton",39),e&2&&te("height",141)("maxHeight",141)}function Ep(e,n){if(e&1&&(S(0,"div",40)(1,"div",30)(2,"div",31),me(3,"i",41),S(4,"h1",33),oe(5),E()(),S(6,"div",16),me(7,"i"),S(8,"span",33),oe(9),E()()(),S(10,"div",34)(11,"div",35)(12,"span",36),oe(13," total of visitors"),E()(),S(14,"div",37),me(15,"app-button",42),E()()()),e&2){let t=U();F(5),Ye(t.visitorsCount),F(2),In("",t.visitorsChangesIconClass," red-text mr-5"),F(2),Ue("",t.visitorsPercentageAccordingToLastWeek,"% than the last day")}}function Pp(e,n){e&1&&me(0,"app-skelton",39),e&2&&te("height",141)("maxHeight",141)}function Tp(e,n){if(e&1&&(S(0,"div",43)(1,"div",30)(2,"div",31),me(3,"i",44),S(4,"h1",33),oe(5),E()(),S(6,"div",16),me(7,"i"),S(8,"span",33),oe(9),E()()(),S(10,"div",34)(11,"div",35)(12,"span",36),oe(13," total of orders "),E()(),S(14,"div",37),me(15,"app-button",45),E()()()),e&2){let t=U();F(5),Ye(t.ordersCount),F(2),In("",t.orderChangesIconClass," green-text mr-5 "),F(2),Ue("",t.ordersPercentageAccordingToLastWeek,"% than the last day")}}function Ip(e,n){e&1&&me(0,"app-skelton",39),e&2&&te("height",141)("maxHeight",141)}function Dp(e,n){if(e&1){let t=Re();S(0,"app-stat-card",47),se("consultCard",function(i){we(t);let o=U(2);return Oe(o.onConsultCard(i))}),E()}if(e&2){let t=n.$implicit;te("statData",t)}}function Rp(e,n){if(e&1&&We(0,Dp,1,1,"app-stat-card",46,He),e&2){let t=U();$e(t.statsData)}}function Ap(e,n){e&1&&me(0,"app-skelton",28),e&2&&te("height",100)("maxHeight",137)("shape","notification-card")}function kp(e,n){e&1&&We(0,Ap,1,3,"app-skelton",28,He),e&2&&$e(Ze(0,Aa).constructor(2))}function Fp(e,n){if(e&1){let t=Re();S(0,"div",48)(1,"div",49)(2,"app-generic-drop-down",50),se("selectOption",function(i){we(t);let o=U();return Oe(o.onSelectProduct(i))}),E()(),me(3,"app-generic-chart",51),E()}if(e&2){let t=U();F(2),te("options",t.allProducts),F(),te("chartOptions",t.lineChartOptions)}}function Lp(e,n){e&1&&me(0,"app-skelton",39),e&2&&te("height",200)("maxHeight",200)}function Np(e,n){if(e&1&&(S(0,"div",48),me(1,"app-generic-chart",51),E()),e&2){let t=U();F(),te("chartOptions",t.barChartOptions)}}function Bp(e,n){e&1&&me(0,"app-skelton",39),e&2&&te("height",200)("maxHeight",200)}function jp(e,n){if(e&1){let t=Re();S(0,"div",52)(1,"app-product-card",53),se("remove",function(i){we(t);let o=U(2);return Oe(o.removeFromRecommended(i))}),E()()}if(e&2){let t=n.$implicit;F(),te("product",t)}}function Up(e,n){if(e&1){let t=Re();S(0,"div",52)(1,"div",54),se("click",function(){we(t);let i=U(3);return Oe(i.productDialog=!0)}),me(2,"i",55),E()()}}function qp(e,n){if(e&1&&We(0,Up,3,0,"div",52,He),e&2){let t=U(2);$e(Ze(0,Aa).constructor(5-t.recommendedProducts.length))}}function zp(e,n){if(e&1&&(S(0,"h4"),oe(1," List of Produits recommand\xE9s :"),E(),S(2,"div",1)(3,"div",2),We(4,jp,2,1,"div",52,He),xe(6,qp,2,1),E()()),e&2){let t=U();F(4),$e(t.recommendedProducts),F(2),Pe(t.recommendedProducts.length<5?6:-1)}}function Vp(e,n){e&1&&(S(0,"div",62)(1,"div",63)(2,"span",36),oe(3,"You have a new notification mr zineddine zebiri"),E(),me(4,"i",64),E(),S(5,"div",65)(6,"span",36),oe(7,"4 hours ago"),E()()())}function Gp(e,n){if(e&1&&(S(0,"div",10)(1,"div",56)(2,"h2",57),oe(3," list of notifications :"),E(),S(4,"div",58)(5,"span",59),oe(6),E(),S(7,"span",36),oe(8,"Mark all as read"),E(),me(9,"i",60),E()(),S(10,"div",61),We(11,Vp,8,0,"div",62,He),E()()),e&2){let t=U();F(6),Ye(t.selectedStat.count),F(5),$e(Ze(1,Aa).constructor(t.selectedStat.count))}}function Hp(e,n){}function Wp(e,n){if(e&1){let t=Re();S(0,"div",12)(1,"div",35)(2,"div",16),me(3,"img",66),S(4,"span",57),oe(5),E()(),S(6,"app-button",67),se("click",function(){let i=we(t).$implicit,o=U();return Oe(i.isRecommended?!0:o.addToRecommended(i))}),E()()()}if(e&2){let t=n.$implicit;F(3),ct("src",t.imagesUrls[0],kt),F(2),Ye(t.productName),F(),te("disabled",t.isRecommended)}}var Fc=(()=>{let n=class n{constructor(r,i,o,a){this.authFirebaseService=r,this.cdr=i,this.crudService=o,this.applicationService=a,this.user={},this.currentUserRole="",this.visitorsPercentageAccordingToLastWeek=0,this.visitorsCount=0,this.barChartOptions=Ac,this.landingDetailsDialog=!1,this.productDialog=!1,this.weeksDropdownOptions=hs,this.selectedDate=this.weeksDropdownOptions[0],this.statsData=[{count:4,title:"Notifications",action:"open notifications"},{count:0,title:"Produits recommand\xE9s",action:"Update List"}],this.selectedStat={},this.lineChartOptions=Dc,this.allOrders=[],this.ordersPieChartOptions=Rc,this.allProducts=[],this.recommendedProducts=[],this.getTopProducts=h=>h.sort((w,O)=>O.numberSales-w.numberSales).slice(0,5),this.DB_PATHS=Se,this.authFirebaseService.$user.subscribe(h=>{this.user=h}),this.authFirebaseService.$user.subscribe(h=>{this.currentUserRole=h?.role}),this.listOfLastSixMonths=a.getLastSixMonthsLabels();let s=this.getProductCountByMonth("-OADYFViBhXxP3QW9XR_");console.log(Array.from(s.values())),this.lineChartOptions.xaxis.categories=this.listOfLastSixMonths}ngOnInit(){return ve(this,null,function*(){this.loading=!0,yield this.getStats(),yield this.findProducts(),this.updateCount("Produits recommand\xE9s",this.recommendedProducts.length),yield this.findOrders(),this.loading=!1})}findProducts(){return new Promise((r,i)=>{this.crudService.getItemsList(Se.PRODUCTS).subscribe({next:o=>{this.allProducts=o,this.recommendedProducts=[],console.log("all product",this.allProducts),this.allProducts.map(h=>{h.isRecommended&&this.recommendedProducts.push(h)});let a=this.getTopProducts(this.allProducts);this.barChartOptions.series[0].data=a.map(h=>h.numberSales);let s=this.getProductCountByMonth(this.allProducts[0].id);this.barChartOptions.xaxis.categories=a.map(h=>h.productName),this.lineChartOptions=Pn(En({},this.lineChartOptions),{series:[Pn(En({},this.lineChartOptions.series[0]),{data:Array.from(s.values())})]}),r()},error:o=>{i(o)}})})}findOrders(){return new Promise((r,i)=>{let o=new Date,a=new Date;a.setMonth(o.getMonth()-6),this.crudService.getItemsByDateRange("date",a,o,Se.ORDERS).subscribe({next:s=>{this.allOrders=s.sort((h,w)=>w.date-h.date),this.getProductCountByMonth(this.allProducts[0].id),r()},error:s=>{i(s)}})})}getOrdersByMonth(){let r=new Map;return this.listOfLastSixMonths.forEach(i=>{let o=this.allOrders.filter(a=>new Date(a.date).toLocaleString("default",{month:"long"}).trim()===i.trim());r.set(i,o)}),console.log("orders by month:",r),r}getProductCountByMonth(r){let i=new Map;return this.listOfLastSixMonths.forEach(o=>{let s=this.allOrders.filter(h=>new Date(h.date).toLocaleString("default",{month:"long"}).trim()===o.trim()).reduce((h,w)=>{console.log("order",w.products),console.log("count",h);let O=w.products.map(N=>N.productId===r?N.quantity:0).reduce((N,I)=>N+Number(I),0);return h+O},0);i.set(o,s)}),console.log("Product count by month:",i),i}getStats(){return ve(this,null,function*(){yield this.getCountOfData(Se.ORDERS).then(r=>{this.ordersCount=r.todayCount,this.ordersPercentageAccordingToLastWeek=r.lastDayCountPercentage,this.orderChangesIconClass=r.iconClass}).catch(r=>{console.error(r)}),yield this.getCountOfData(Se.REVIEWS).then(r=>{this.reviewsCount=r.todayCount,this.reviewsPercentageAccordingToLastWeek=r.lastDayCountPercentage,this.reviewsChangesIconClass=r.iconClass}).catch(r=>{console.error(r)})})}getCountOfData(r){return ve(this,null,function*(){return new Promise((i,o)=>{this.crudService.getItemsList(r).subscribe(a=>{let s=new Date(this.selectedDate.value);s.setHours(0,0,0,0),new Date().setHours(0,0,0,0);let w=new Date(s);w.setDate(s.getDate()-1),console.log("last date ......"),console.log(w);let O=a.filter(ee=>{let Z=new Date(ee.createdAt);return Z.setHours(0,0,0,0),Z.getTime()===s.getTime()}).length,N=a.filter(ee=>{let Z=new Date(ee.createdAt);return Z.setHours(0,0,0,0),Z.getTime()===w.getTime()}).length;console.log("todayCount"+r),console.log(O),console.log("last day count "+r),console.log(N);let I=this.percentageOfChanges(N,O),W=O>N?"ri-arrow-right-up-line green-text":O===N?"ri-arrow-right-line ":"ri-arrow-right-down-line red-text";i({todayCount:O,lastDayCountPercentage:I,iconClass:W})},a=>o(a))})})}percentageOfChanges(r,i){let o=0;return r>0?o=(i-r)/r*100:r===0?o=i>0?100:0:o=0,Math.round(Math.abs(o))}onSelectDate(r){return ve(this,null,function*(){this.selectedDate=r,this.loading=!0,yield this.getStats(),this.loading=!1})}onConsultCard(r){return ve(this,null,function*(){this.selectedStat=r,this.landingDetailsDialog=!0})}addToRecommended(r){r.isRecommended=!0,this.recommendedProducts.push(r),this.crudService.updateItem(Se.PRODUCTS,r.id,r).then(i=>{this.updateCount("Produits recommand\xE9s",this.recommendedProducts.length),this.productDialog=!1,this.applicationService.showSwalDialog("Product added successfully","success","#cce5cc")})}removeFromRecommended(r){console.log(r.id),r.isRecommended=!1,this.crudService.updateItem(Se.PRODUCTS,r.id,r).then(i=>{this.recommendedProducts=this.recommendedProducts.filter(o=>o.id!=r.id),this.updateCount("Produits recommand\xE9s",this.recommendedProducts.length),this.productDialog=!1,this.applicationService.showSwalDialog("Product removed successfully successfully","success","#cce5cc")})}onSelectProduct(r){console.log(r.id);let i=this.getProductCountByMonth(r.id);this.lineChartOptions.xaxis.categories=this.listOfLastSixMonths,this.lineChartOptions=Pn(En({},this.lineChartOptions),{series:[Pn(En({},this.lineChartOptions.series[0]),{data:Array.from(i.values())})]})}updateCount(r,i){this.statsData=this.statsData.map(o=>o.title===r?Pn(En({},o),{count:i}):o)}};n.\u0275fac=function(i){return new(i||n)(_e(Fn),_e(ds),_e(Be),_e(Ve))},n.\u0275cmp=Te({type:n,selectors:[["app-landing"]],standalone:!0,features:[Ae],decls:49,vars:9,consts:[[3e3],[1,"container"],[1,"row"],[1,"col-lg-10","col-md-12","col-sm-12"],[1,"col-lg-4","col-md-12","col-sm-12"],[1,"col-lg-2","col-md-12","col-sm-12"],[1,"col-12","p-0"],[1,"col-lg-8","col-md-12","col-sm-12"],["height","80%","width","50%",3,"closeModal","modalId","showFooter","showModal"],["modal-body",""],[1,"notification-container"],["height","100%","width","30%",3,"closeModal","modalId","showModal"],[1,"card","main-background-color"],[1,"col-12"],[1,"welcome-card","row"],[1,"welcome-card-left","col-lg-6","col-sm-12","col-md-12"],[1,"d-flex","align-center","justify-start"],[1,"blank-user","mr-10"],[1,"d-flex","flex-column"],[1,"m-0","mb-3"],[1,"m-0","primary-text"],[1,"welcome-card-right","col-lg-6","col-sm-12","col-md-12"],[1,"welcome-card-right-top"],[2,"width","150px",3,"selectOption","options","selectedOption"],[1,"welcome-card-right-bottom"],[1,"orders-text-color"],[1,"reviews-text-color"],[1,"visitors-text-color"],[3,"height","maxHeight","shape"],[1,"banner-utility-card","reviews-bg-color","d-flex","flex-column"],[1,"banner-utility-card-header"],[1,"d-flex","align-center","justify-start","banner-utility-card-header-left"],[1,"ri-star-fill"],[1,"fade-in-fwd"],[1,"banner-utility-card-content"],[1,"d-flex","align-center","justify-content-between"],[1,"font-color-text"],[1,"mt-20"],["color","#ffffff","bgColor","transparent","hoverColor","transparent","label","view more","routerLink","reviews","icon","ri-arrow-right-s-line","size","small"],[3,"height","maxHeight"],[1,"banner-utility-card","visitors-card-bg-color","d-flex","flex-column"],[1,"ri-eye-fill"],["color","#ffffff","bgColor","transparent","hoverColor","transparent","label","view more","routerLink","orders","icon","ri-arrow-right-s-line","size","small"],[1,"banner-utility-card","orders-bg-color","d-flex","flex-column"],[1,"ri-shopping-bag-fill"],["color","#ffffff","bgColor","transparent","hoverColor","transparent","label","view more","routerLink","/orders","icon","ri-arrow-right-s-line","size","small"],[3,"statData"],[3,"consultCard","statData"],[1,"card"],[1,"col-lg-3","col-md-6","col-sm-12","mb-10"],["bindLabel","productName","bindValue","id",3,"selectOption","options"],[3,"chartOptions"],[1,"col-6","fade-in-fwd"],[3,"remove","product"],[1,"card","clickable","add-new-card","h-100",3,"click"],[1,"ri","ri-add-line"],[1,"notification-container-header","d-flex","align-center","justify-content-between","mb-10"],[1,"font-color-text","bold"],[1,"d-flex","align-center","justify-starts"],[1,"notifications-count","d-flex","align-center","justify-content-center"],[1,"ri-checkbox-circle-line","primary-text","bold","clickable","cursor-pointer"],[1,"notification-container-body"],[1,"card","notification-card","main-background-color","clickable","cursor-pointer"],[1,"notification-card-content","d-flex","align-center","justify-content-between"],[1,"ri-circle-fill"],[1,"notification-card-date","d-flex","align-center","justify-content-between"],["height","40","alt","p-image",1,"mr-5",3,"src"],["label","Add","size","small",3,"click","disabled"]],template:function(i,o){if(i&1&&(S(0,"div",1)(1,"div",2)(2,"div",3),xe(3,wp,36,14)(4,Op,1,3),ut(5,3,yp,null,4,null,null,0,Yt),cr(),S(7,"div",2)(8,"div",4),xe(9,Sp,16,5)(10,Mp,1,2),ut(11,9,Ra,null,10,null,null,0,Yt),E(),S(13,"div",4),xe(14,Ep,16,5)(15,Pp,1,2),ut(16,14,Ra,null,15,null,null,0,Yt),E(),S(18,"div",4),xe(19,Tp,16,5)(20,Ip,1,2),ut(21,19,Ra,null,20,null,null,0,Yt),E()()(),S(23,"div",5)(24,"div",6),xe(25,Rp,2,0)(26,kp,2,1),ut(27,25,bp,null,26,null,null,0,Yt),cr(),E()()(),S(29,"div",2)(30,"div",7),xe(31,Fp,4,2)(32,Lp,1,2),ut(33,31,xp,null,32,null,null,0,Yt),cr(),E(),S(35,"div",4),xe(36,Np,2,1)(37,Bp,1,2),ut(38,36,Cp,null,37,null,null,0,Yt),cr(),E()()(),S(40,"app-modal",8),se("closeModal",function(s){return o.landingDetailsDialog=s}),S(41,"div",9),xe(42,zp,7,1)(43,Gp,13,2,"div",10)(44,Hp,0,0),E()(),S(45,"app-modal",11),se("closeModal",function(s){return o.productDialog=s}),S(46,"div",9),We(47,Wp,7,3,"div",12,He),E()()),i&2){let a;F(11),Ct(!o.loading),F(5),Ct(!o.loading),F(5),Ct(!o.loading),F(19),te("modalId","details-news-dialog")("showFooter",o.selectedStat.title=="Produits recommand\xE9s")("showModal",o.landingDetailsDialog),F(2),Pe((a=o.selectedStat.title)==="Produits recommand\xE9s"?42:a==="Notifications"?43:44),F(3),te("modalId","list-products-dialog")("showModal",o.productDialog),F(2),$e(o.allProducts)}},dependencies:[Oi,Es,mt,Jt,kn],styles:[".welcome-card-bg[_ngcontent-%COMP%]{z-index:4}.banner-utility-card[_ngcontent-%COMP%]{box-shadow:#00000029 0 1px 4px;padding:1em;border:0!important;height:auto;box-sizing:border-box;border-radius:.4em;margin-bottom:20px;color:#fff}.banner-utility-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.banner-utility-card-header-left[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:.2em;background-color:transparent;color:#fff;font-size:32px;font-weight:600;border-radius:.2em}.banner-utility-card-header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-weight:600;color:#fff}.banner-utility-card-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:10px;font-size:17px;font-weight:600;color:#fff}.visitors-card-bg-color[_ngcontent-%COMP%]{background-color:#8bc6ec;background-image:linear-gradient(135deg,#8bc6ec,#9599e2)}.visitors-text-color[_ngcontent-%COMP%]{color:#8bc6ec}.orders-bg-color[_ngcontent-%COMP%]{background-color:#fbab7e;background-image:linear-gradient(62deg,#fbab7e,#f7ce68)}.orders-text-color[_ngcontent-%COMP%]{color:#fbab7e}.reviews-bg-color[_ngcontent-%COMP%]{background-color:#ff3cac;background-image:linear-gradient(225deg,#ff3cac,#784ba0,#2b86c5)}.reviews-text-color[_ngcontent-%COMP%]{color:#ff3cac}.notification-container[_ngcontent-%COMP%]{position:relative}.notification-container-header[_ngcontent-%COMP%]{position:sticky;top:calc(0px - 1.25rem);padding-bottom:20px;background-color:var(--bg-color)}.notification-container-header[_ngcontent-%COMP%]   .notifications-count[_ngcontent-%COMP%]{background-color:red;color:#fff;padding:.7em;border-radius:50%;height:20px;width:20px}.notification-container-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px}.notification-container-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.notification-container-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:17px}.notification-container-body[_ngcontent-%COMP%]{overflow-y:scroll}.notification-container-body[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.7em!important;margin-bottom:10px!important}.notification-container-body[_ngcontent-%COMP%]   .notification-card-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color);font-size:17px}.notification-container-body[_ngcontent-%COMP%]   .notification-card-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10px;color:#a60000e6}.notification-container-body[_ngcontent-%COMP%]   .notification-card-date[_ngcontent-%COMP%]{margin-top:5px;text-indent:5px}.notification-container-body[_ngcontent-%COMP%]   .notification-card-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;color:gray}.add-new-card[_ngcontent-%COMP%]{height:130px!important;border-radius:1em!important;display:flex;align-items:center;justify-content:center;flex-direction:column;color:var(--main-primary-color);background-color:var(--main-bg-color);cursor:pointer;box-shadow:#0000001a 0 1px 2px!important}.add-new-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:60px;font-weight:600;color:var(--main-primary-color)}"]});let e=n;return e})();var Vi=(()=>{let n=class n{transform(r,i,o){if(!r||r.length===0)return[];if(o=o.toLowerCase(),o!=="asc"&&o!=="desc")throw new Error('Invalid sorting direction. Use "asc" or "desc".');return r.sort((a,s)=>{let h=a[i]<s[i]?-1:a[i]>s[i]?1:0;return o==="asc"?h:-h})}};n.\u0275fac=function(i){return new(i||n)},n.\u0275pipe=os({name:"sort",type:n,pure:!0,standalone:!0});let e=n;return e})();var Lc=(()=>{let n=class n{constructor(){this.isVisible=!1,this.placeholder="",this.readonly=!1,this.styles={},this.inputValue=new ot}onInput(r){this.inputValue.emit(r.target.value)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Te({type:n,selectors:[["app-secure-password"]],inputs:{isVisible:"isVisible",placeholder:"placeholder",readonly:"readonly",styles:"styles",value:"value"},outputs:{inputValue:"inputValue"},standalone:!0,features:[Ae],decls:3,vars:8,consts:[[1,"input-container"],[3,"input","type","readonly","placeholder","value"],[1,"cursor-pointer",3,"click","ngClass"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"input",1),se("input",function(s){return o.onInput(s)}),E(),S(2,"i",2),se("click",function(){return o.isVisible?o.isVisible=!1:o.isVisible=!0}),E()()),i&2&&(F(),ur(o.styles),te("type",o.isVisible?"text":"password")("readonly",o.readonly)("placeholder",o.placeholder)("value",o.value),F(),te("ngClass",o.isVisible?"ri-eye-off-line":"ri-eye-line"))},dependencies:[Ot,mr]});let e=n;return e})();var vt=bi(Nc(),1),_u=bi(hu(),1);var Bh=["BarcodeScanner"];var jh={inputStream:{name:"Live",type:"LiveStream",target:null,constraints:{width:{min:640},height:{min:480},aspectRatio:{min:1,max:2},facingMode:"environment"},singleChannel:!1},locator:{patchSize:"medium",halfSample:!0},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]}},Uh=["code_128","code_39","code_39_vin","ean","ean_extended","ean_8","upc","upc_e","codabar","i2of5","2of5","code_93"];function qh(e){return typeof e=="string"?(mu(e),[gu(e)]):e.map(n=>(mu(n),gu(n)))}function mu(e){if(!Uh.some(n=>n===e))throw new Error(`This barcode type '${e}' is not valid.`)}function gu(e){return`${e}_reader`}var Zi=(()=>{class e{constructor(){this.maxWidth="100%",this._valueChanges=new ea,this.valueChanges=new ot,this.started=new ot,this._started=!1,this._destroyed=new ea,this._valueChanges.pipe(ts(this._destroyed),Zl(t=>{let r=t.codeResult.decodedCodes.filter(o=>o.error!==void 0).map(o=>o.error),i=this._getMedian(r);return!this.errorFilter||!(this.errorFilter.median&&i>this.errorFilter.median||this.errorFilter.threshold&&r.some(o=>o>this.errorFilter.threshold))})).subscribe(t=>{let r=vt.default.canvas.ctx.overlay;vt.default.ImageDebug.drawPath(t.line,{x:"x",y:"y"},r,{color:"red",lineWidth:3}),this.valueChanges.next(t)})}set torch(t){let r=vt.default.CameraAccess.getActiveTrack();r&&r.applyConstraints({advanced:[{torch:t}]})}get _maxWidth(){return this.maxWidth?`${this.maxWidth}`:"auto"}get _maxHeight(){return this.maxHeight?`${this.maxHeight}`:"auto"}get isStarted(){return this._started}ngOnDestroy(){this.stop(),this._destroyed.next(!0),this._destroyed.complete()}ngOnChanges(){this.restart()}_init(){return new Promise((t,r)=>{vt.default.onProcessed(i=>this.onProcessed(i)),vt.default.onDetected(i=>this.onDetected(i)),this.configQuagga=(0,_u.default)({},this.config,jh),this.configQuagga.inputStream.target=this.barcodeScanner.nativeElement,this.type&&(this.configQuagga.decoder.readers=qh(this.type)),this.deviceId&&(this.configQuagga.inputStream.constraints.deviceId=this.deviceId),vt.default.init(this.configQuagga,i=>{if(i)return console.log(i),r(i);t()})})}_getMedian(t){t.sort((i,o)=>i-o);let r=Math.floor(t.length/2);return t.length%2===1?t[r]:(t[r-1]+t[r])/2}start(){return ve(this,null,function*(){this._started||(yield this._init(),vt.default.start(),this._started=!0,this.started.next(!0))})}stop(){this._started&&(vt.default.stop(),this._started=!1,this.started.next(!1))}restart(){this._started&&(this.stop(),this.start())}onProcessed(t){let r=vt.default.canvas.ctx.overlay,i=vt.default.canvas.dom.overlay;t&&(t.boxes&&(r.clearRect(0,0,parseInt(i.getAttribute("width"),10),parseInt(i.getAttribute("height"),10)),t.boxes.filter(o=>o!==t.box).forEach(o=>{vt.default.ImageDebug.drawPath(o,{x:0,y:1},r,{color:"green",lineWidth:2})})),t.box&&vt.default.ImageDebug.drawPath(t.box,{x:0,y:1},r,{color:"#00F",lineWidth:2}))}onDetected(t){this._valueChanges.next(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Te({type:e,selectors:[["barcode-scanner-livestream"]],viewQuery:function(t,r){if(t&1&&Fe(Bh,5),t&2){let i;Le(i=Ne())&&(r.barcodeScanner=i.first)}},inputs:{type:"type",deviceId:"deviceId",maxWidth:"maxWidth",maxHeight:"maxHeight",config:"config",errorFilter:"errorFilter",torch:"torch"},outputs:{valueChanges:"valueChanges",started:"started"},features:[Vt],decls:4,vars:13,consts:[["BarcodeScanner",""],[1,"scanner",3,"hidden"],[1,"drawingBuffer"]],template:function(t,r){t&1&&(S(0,"div",1,0),me(2,"video")(3,"canvas",2),E()),t&2&&(ht("max-height",r._maxHeight)("max-width",r._maxWidth),te("hidden",!r.isStarted),F(2),ht("max-height",r._maxHeight)("max-width",r._maxWidth),F(),ht("max-height",r._maxHeight)("max-width",r._maxWidth))},styles:[`.scanner{position:relative}.scanner video,.scanner canvas{width:100%;height:100%}.scanner canvas.drawingBuffer{position:absolute;left:0;top:0}
`],encapsulation:2}),e})(),vu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=zt({type:e}),e.\u0275inj=qt({imports:[Oi]}),e})();var jd=bi(Bd(),1),Cy=["bcElement"],po=(()=>{let n=class n{get options(){return{format:this.format,lineColor:this.lineColor,width:this.width,height:this.height,displayValue:this.displayValue,fontOptions:this.fontOptions,font:this.font,textAlign:this.textAlign,textPosition:this.textPosition,textMargin:this.textMargin,fontSize:this.fontSize,background:this.background,margin:this.margin,marginTop:this.marginTop,marginBottom:this.marginBottom,marginLeft:this.marginLeft,marginRight:this.marginRight,valid:this.valid}}constructor(r){this.renderer=r,this.elementType="svg",this.cssClass="barcode",this.format="CODE128",this.lineColor="#000000",this.width=2,this.height=100,this.displayValue=!1,this.fontOptions="",this.font="monospace",this.textAlign="center",this.textPosition="bottom",this.textMargin=2,this.fontSize=20,this.background="#ffffff",this.margin=10,this.marginTop=10,this.marginBottom=10,this.marginLeft=10,this.marginRight=10,this.value="",this.valid=()=>!0}ngAfterViewInit(){this.createBarcode()}ngOnChanges(){this.bcElement&&this.createBarcode()}createBarcode(){if(!this.value)return;let r;switch(this.elementType){case"img":r=this.renderer.createElement("img");break;case"canvas":r=this.renderer.createElement("canvas");break;case"svg":default:r=this.renderer.createElement("svg","svg")}(0,jd.default)(r,this.value,this.options);for(let i of this.bcElement.nativeElement.childNodes)this.renderer.removeChild(this.bcElement.nativeElement,i);this.renderer.appendChild(this.bcElement.nativeElement,r)}};n.\u0275fac=function(i){return new(i||n)(_e(ra))},n.\u0275cmp=Te({type:n,selectors:[["ngx-barcode6"]],viewQuery:function(i,o){if(i&1&&Fe(Cy,5),i&2){let a;Le(a=Ne())&&(o.bcElement=a.first)}},inputs:{elementType:[0,"bc-element-type","elementType"],cssClass:[0,"bc-class","cssClass"],format:[0,"bc-format","format"],lineColor:[0,"bc-line-color","lineColor"],width:[0,"bc-width","width"],height:[0,"bc-height","height"],displayValue:[0,"bc-display-value","displayValue"],fontOptions:[0,"bc-font-options","fontOptions"],font:[0,"bc-font","font"],textAlign:[0,"bc-text-align","textAlign"],textPosition:[0,"bc-text-position","textPosition"],textMargin:[0,"bc-text-margin","textMargin"],fontSize:[0,"bc-font-size","fontSize"],background:[0,"bc-background","background"],margin:[0,"bc-margin","margin"],marginTop:[0,"bc-margin-top","marginTop"],marginBottom:[0,"bc-margin-bottom","marginBottom"],marginLeft:[0,"bc-margin-left","marginLeft"],marginRight:[0,"bc-margin-right","marginRight"],value:[0,"bc-value","value"],valid:[0,"bc-valid","valid"]},features:[Vt],decls:2,vars:2,consts:[["bcElement",""]],template:function(i,o){i&1&&me(0,"div",null,0),i&2&&Tn(o.cssClass)},encapsulation:2});let e=n;return e})(),ho=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=qt({});let e=n;return e})();var Xl=(()=>{let n=class n{ngOnInit(){}ngAfterViewInit(){}startScanning(){this.barcodeScanner.start()}stopScanning(){this.barcodeScanner.stop()}onValueChanges(r){this.barcodeValue=r.codeResult.code}onStarted(r){console.log("Scanner started:",r)}onClose(r){this.stopScanning()}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Te({type:n,selectors:[["app-barcode-scanner"]],viewQuery:function(i,o){if(i&1&&Fe(Zi,5),i&2){let a;Le(a=Ne())&&(o.barcodeScanner=a.first)}},standalone:!0,features:[Ae],decls:3,vars:9,consts:[["type","code_128",3,"valueChanges","started","close","maxHeight"],[3,"hidden"],[3,"bc-background","bc-line-color","bc-font-size","bc-format","bc-value","bc-display-value","bc-height"]],template:function(i,o){i&1&&(S(0,"barcode-scanner-livestream",0),se("valueChanges",function(s){return o.onValueChanges(s)})("started",function(s){return o.onStarted(s)})("close",function(s){return o.onClose(s)}),E(),S(1,"div",1),me(2,"ngx-barcode6",2),E()),i&2&&(te("maxHeight","55"),F(),te("hidden",!o.barcodeValue),F(),ct("bc-value",o.barcodeValue),te("bc-background","var(--bg-color)")("bc-line-color","var(--font-color)")("bc-font-size",12)("bc-format","MSI")("bc-display-value",!0)("bc-height",20))},dependencies:[vu,Zi,ho,po]});let e=n;return e})();var qd=()=>[];function wy(e,n){if(e&1&&oe(0),e&2){let t=U(2);Ci(" ( Value between ",t.input.min," and ",t.input.max,") ")}}function Oy(e,n){if(e&1&&xe(0,wy,1,2),e&2){let t=U();Pe(t.input.min||t.input.max?0:-1)}}function Sy(e,n){e&1&&(S(0,"span",2),oe(1,"*"),E())}function My(e,n){if(e&1){let t=Re();S(0,"app-generic-drop-down",11),se("selectOption",function(i){we(t);let o=U(2);return Oe(o.onSelectOption(i))}),E()}if(e&2){let t=U(2);ct("dropDownId",t.input.id),te("options",t.input.options||Ze(6,qd))("multiple",!0)("bindLabel",t.input.bindLabel)("bindValue",t.input.bindValue)("selectedOption",t.selectedOptionList)}}function Ey(e,n){if(e&1&&(S(0,"span",12),oe(1),E()),e&2){let t=n.$implicit,r=U(3);F(),Ue(" ",t[r.input.bindLabel?r.input.bindLabel:""]," ")}}function Py(e,n){if(e&1&&(S(0,"div",10),We(1,Ey,2,1,"span",12,He),E()),e&2){let t=U(2);F(),$e(t.selectedOptionList)}}function Ty(e,n){if(e&1&&xe(0,My,1,7,"app-generic-drop-down",9)(1,Py,3,0,"div",10),e&2){let t=U();Pe(t.mode=="addMode"||t.mode=="editMode"&&!t.input.disabledOnEditMode?0:-1),F(),Pe(t.mode!="addMode"&&t.mode=="detailsMode"?1:-1)}}function Iy(e,n){if(e&1&&me(0,"input",13),e&2){let t=U(2);te("value",t.formValues[t.input.formControlName]?t.applicationService.filterList(t.input.options,t.input.bindValue,t.formValues[t.input.formControlName])[t.input.bindLabel?t.input.bindLabel:""]:"client")}}function Dy(e,n){if(e&1){let t=Re();S(0,"app-generic-drop-down",15),se("selectOption",function(i){we(t);let o=U(2);return Oe(o.onSelectOption(i))}),E()}if(e&2){let t=U(2);ct("dropDownId",t.input.id),te("options",t.input.options||Ze(5,qd))("bindLabel",t.input.bindLabel)("bindValue",t.input.bindValue)("selectedOption",t.selectedOption)}}function Ry(e,n){if(e&1&&xe(0,Iy,1,1,"input",13)(1,Dy,1,6,"app-generic-drop-down",14),e&2){let t=U();Pe(t.mode=="detailsMode"?0:-1),F(),Pe(t.mode=="addMode"||t.mode=="editMode"?1:-1)}}function Ay(e,n){if(e&1){let t=Re();S(0,"div",16)(1,"app-custom-file-upload",17),se("filesUpload",function(i){we(t);let o=U(2);return Oe(o.onInputFiles(i,o.input.formControlName))}),E()()}}function ky(e,n){if(e&1&&xe(0,Ay,2,0,"div",16),e&2){let t=U();Pe(t.mode=="addMode"||t.mode=="editMode"?0:-1)}}function Fy(e,n){if(e&1){let t=Re();S(0,"app-secure-password",18),se("change",function(i){we(t);let o=U();return Oe(o.onInput(i))}),E()}if(e&2){let t=U();te("value",t.formValues[t.input.formControlName])("readonly",t.mode=="detailsMode")("isVisible",!1)("placeholder",t.input.placeholder)}}function Ly(e,n){if(e&1){let t=Re();S(0,"textarea",19),se("change",function(i){we(t);let o=U();return Oe(o.onInput(i))}),E()}if(e&2){let t=U();ur(t.input.styles),te("id",t.input.id)("readonly",t.mode=="detailsMode")("placeholder",t.mode=="detailsMode"?"":t.input.placeholder)("value",t.formValues[t.input.formControlName])("inputMask",t.input.inputMask)("disabled",t.disabled)}}function Ny(e,n){if(e&1){let t=Re();S(0,"div",5),me(1,"app-barcode-scanner"),S(2,"i",20),se("click",function(){we(t);let i=U();return Oe(i.startScanner())}),E()()}}function By(e,n){if(e&1){let t=Re();S(0,"div",6)(1,"div",21)(2,"app-toggle",22),se("toggle",function(i){we(t);let o=U();return Oe(o.onInput(i))}),E()()()}if(e&2){let t=U();F(2),te("disable",t.mode==="detailsMode")("isToggled",t.formValues[t.input.formControlName])}}function jy(e,n){if(e&1){let t=Re();S(0,"input",23),se("change",function(i){we(t);let o=U();return Oe(o.onInput(i))}),E()}if(e&2){let t=U();ur(t.input.styles),te("type",t.input.type)("id",t.input.id)("readonly",t.mode=="detailsMode")("placeholder",t.mode=="detailsMode"?"":t.input.placeholder)("value",t.formValues[t.input.formControlName])("inputMask",t.input.inputMask)("disabled",t.disabled),cs("min",t.input.min)("max",t.input.max)}}function Uy(e,n){if(e&1&&(S(0,"span",8),oe(1),E()),e&2){let t=U();F(),Ye(t.input.requiredMessage)}}var mo=(()=>{let n=class n{constructor(r,i,o){this.crudService=r,this.fileService=i,this.applicationService=o,this.input={},this.form={},this.disabled=!1,this.inputValue=new ot,this.select=new ot,this.selectedOption={},this.selectedOptionList=[],this.listFilesPaths=[]}ngOnDestroy(){this.selectedOption={},this.selectedOptionList=[],this.listFilesPaths=[],this.formValues={}}ngOnInit(){return ve(this,null,function*(){this.crudService.formValue$.subscribe(r=>{this.formValues=r,this.crudService.mode$.subscribe(i=>{this.mode=i,console.log(this.mode),this.mode=="detailsMode"||this.mode=="editMode"?(this.input.type=="select"&&(console.log(this.input.formControlName),this.selectedOption=this.applicationService.filterList(this.input.options,this.input.bindValue,this.formValues[this.input.formControlName]),console.log("selected option edit mode .............."),console.log(this.selectedOption)),this.input.type=="multi-select"&&(console.log(this.input.formControlName),this.selectedOptionList=this.input.options?this.input.options.filter(o=>(this.formValues[this.input.formControlName]?this.formValues[this.input.formControlName]:[]).includes(o[this.input.bindValue?this.input.bindValue:""])):[])):(this.selectedOption=null,this.selectedOptionList=[])})})})}onInput(r){this.input.type=="checkbox"?this.value=r:this.input.unite!=""?this.value=parseFloat(r.target.value):this.value=r.target.value,this.inputValue.emit(this.value)}onInputFiles(r,i){return ve(this,null,function*(){let o={[i]:r};yield this.saveFile(o,i),yield this.applicationService.patchControlValue(i,this.listFilesPaths,this.form),this.inputValue.emit(this.listFilesPaths)})}saveFile(r,i){return ve(this,null,function*(){if(this.mode=="editMode"&&(this.listFilesPaths=this.formValues[i]),r&&r[i])for(let o of r[i])try{(yield this.fileService.uploadFile(o)).subscribe(s=>{this.listFilesPaths.push(s),console.log("File uploaded! Download URL:",s)})}catch(a){console.error("File upload failed:",a)}})}onSelectOption(r){this.input.type==="select"?(this.selectedOption=r,console.log("event select ......."),this.value=this.selectedOption[this.input.bindValue?this.input.bindValue:""],console.log(this.value),this.select.emit(this.value)):this.input.type==="multi-select"&&(this.selectedOptionList=r,console.log("event multi select ......."),this.value=this.selectedOptionList,console.log(this.value),this.select.emit(this.getListValues(this.value,this.input.bindValue)))}getListValues(r,i){return r.map(o=>o[i||""])}startScanner(){this.barcodeScannerComponent.startScanning()}stopScanner(){this.barcodeScannerComponent.stopScanning()}};n.\u0275fac=function(i){return new(i||n)(_e(Be),_e(on),_e(Ve))},n.\u0275cmp=Te({type:n,selectors:[["app-generic-input"]],viewQuery:function(i,o){if(i&1&&Fe(Xl,5),i&2){let a;Le(a=Ne())&&(o.barcodeScannerComponent=a.first)}},inputs:{input:"input",form:"form",showRequiredMessage:"showRequiredMessage",disabled:"disabled"},outputs:{inputValue:"inputValue",select:"select"},standalone:!0,features:[Ae],decls:14,vars:6,consts:[[1,"form-group"],[1,"form-label","font-color-text",3,"for"],[1,"ml-4","required-message"],[3,"value","readonly","isVisible","placeholder"],["rows","3",1,"form-input",3,"id","readonly","placeholder","value","inputMask","style","disabled"],[1,"mt-10"],[1,"mt-20"],[1,"form-input",3,"type","id","readonly","placeholder","value","inputMask","style","disabled"],[1,"required-message"],[3,"options","multiple","dropDownId","bindLabel","bindValue","selectedOption"],[1,"row","d-flex","flex-wrap","scroll-overflow-y"],[3,"selectOption","options","multiple","dropDownId","bindLabel","bindValue","selectedOption"],[1,"tag","infos-bg-text","mr-2","mb-2"],["type","text","readonly","readonly",3,"value"],[3,"options","dropDownId","bindLabel","bindValue","selectedOption"],[3,"selectOption","options","dropDownId","bindLabel","bindValue","selectedOption"],[1,"col-lg-12","col-md-12","col-sm-12","form-group"],[3,"filesUpload"],[3,"change","value","readonly","isVisible","placeholder"],["rows","3",1,"form-input",3,"change","id","readonly","placeholder","value","inputMask","disabled"],[1,"ri-barcode-box-line","bold","scan-icon","clickable","cursor-pointer","primary-text",3,"click"],[1,"d-flex","align-center","justify-start"],[3,"toggle","disable","isToggled"],[1,"form-input",3,"change","type","id","readonly","placeholder","value","inputMask","disabled"]],template:function(i,o){if(i&1&&(S(0,"div",0)(1,"label",1),oe(2),xe(3,Oy,1,1),E(),xe(4,Sy,2,0,"span",2)(5,Ty,2,2)(6,Ry,2,2)(7,ky,1,1)(8,Fy,1,4,"app-secure-password",3)(9,Ly,1,9,"textarea",4)(10,Ny,3,0,"div",5)(11,By,3,2,"div",6)(12,jy,1,12,"input",7)(13,Uy,2,1,"span",8),E()),i&2){let a;F(),ct("for",o.input.id),F(),Ue("",o.input.label+":"," "),F(),Pe(o.mode=="addMode"||o.mode=="editMode"?3:-1),F(),Pe(o.input.required&&(o.mode=="addMode"||o.mode=="editMode")?4:-1),F(),Pe((a=o.input.type)==="multi-select"?5:a==="select"?6:a==="file"?7:a==="password"?8:a==="textarea"?9:a==="barcode"?10:a==="checkbox"?11:12),F(8),Pe(o.showRequiredMessage?13:-1)}},dependencies:[Lt,Cs,Zt,Ot,zi,Lc,Xl,ms],styles:[".checkbox-label[_ngcontent-%COMP%]{position:absolute;top:15px;left:40px;font-size:14px;color:var(--font-color)}"]});let e=n;return e})();var qy=[[["","crud-utilities",""]],[["","details-data",""]],[["","more-actions",""]]],zy=["[crud-utilities]","[details-data]","[more-actions]"],Vy=()=>[Vi,mo,mr],Gy=()=>[mt,fs,Vi,import("./chunk-C5VTKXV2.js").then(e=>e.FilterPipe),import("./chunk-SXL6XSWG.js").then(e=>e.PaginatorPipe),po,wi],go=()=>[];function Hy(e,n){if(e&1){let t=Re();S(0,"app-button",33),se("handleClick",function(){we(t);let i=U();return Oe(i.onShowDialog(null,!1))}),E()}if(e&2){let t=U();ia("label","Add new ",t.title,"")}}function Wy(e,n){if(e&1){let t=Re();S(0,"div",35),me(1,"i",39),S(2,"input",40),se("input",function(i){we(t);let o=U().$implicit,a=U();return Oe(a.filterList(o.col,i))}),E()()}}function $y(e,n){if(e&1){let t=Re();S(0,"i",41),se("click",function(){we(t);let i=U().$implicit,o=U();return Oe(o.sortList(i.col))}),E()}if(e&2){let t=U().$implicit,r=U();Tn(t.col===r.sortField&&r.sortType==="desc"?"ri-sort-alphabet-desc ":"ri-sort-alphabet-asc")}}function Qy(e,n){if(e&1&&(S(0,"div")(1,"div",34),xe(2,Wy,3,0,"div",35),S(3,"div",36),xe(4,$y,1,2,"i",37),S(5,"span",38),oe(6),E()()()()),e&2){let t=n.$implicit,r=U();In("col-",r.Math.round(12/r.columns.length),""),F(2),Pe(t.filterable?2:-1),F(2),Pe(t.sortable?4:-1),F(2),Ue("",r.applicationService.formatStringCols(t.name)," ")}}function Xy(e,n){if(e&1&&me(0,"img",49),e&2){let t=U().$implicit,r=U().$implicit;te("src",r[t.col]?r[t.col][0]:"assets/images/blank-product-img.png",kt)}}function Yy(e,n){if(e&1&&(S(0,"span",56),oe(1),E()),e&2){let t=U().$implicit,r=U().$implicit,i=U(3);ht("background-color",i.getStatusColor(r[t.col].value?r[t.col].value:r[t.col])||"#fff"),F(),Ue(" ",i.getStatusLabel(r[t.col],t.col)," ")}}function Ky(e,n){if(e&1&&(S(0,"span",53),oe(1),E()),e&2){let t=n.$implicit;F(),Ue(" ",t," ")}}function Jy(e,n){if(e&1&&(S(0,"div",51),We(1,Ky,2,1,"span",53,He),E()),e&2){let t=U().$implicit,r=U().$implicit;F(),$e(r[t.col])}}function Zy(e,n){if(e&1&&(S(0,"span",52),oe(1),Ft(2,"number"),E()),e&2){let t=U().$implicit,r=U().$implicit,i=U(3);F(),Ci("",hr(2,2,r[t.col])," ",i.applicationService.filterList(i.fields,"formControlName",t.col).unite," ")}}function eb(e,n){if(e&1&&oe(0),e&2){let t=U(3).$implicit,r=U().$implicit,i=U(3);Ue(" ",i.applicationService.filterList(t.listSource,t.fieldSource,r[t.col])[t.labelSource?t.labelSource:""]," ")}}function tb(e,n){e&1&&oe(0," client ")}function nb(e,n){if(e&1&&xe(0,eb,1,1)(1,tb,1,0),e&2){let t=U(2).$implicit,r=U().$implicit;Pe(r[t.col]?0:1)}}function rb(e,n){if(e&1&&oe(0),e&2){let t=U(2).$implicit,r=U().$implicit,i=U(3);Ue(" ",i.applicationService.filterList(t.listSource,t.fieldSource,r[t.col])[t.labelSource?t.labelSource:""]," ")}}function ib(e,n){if(e&1&&(S(0,"span",53),xe(1,nb,2,1)(2,rb,1,1),E()),e&2){let t=U().$implicit;F(),Pe(t.col=="role"?1:2)}}function ob(e,n){if(e&1&&(S(0,"span"),oe(1),Ft(2,"date"),E()),e&2){let t=U().$implicit,r=U().$implicit;F(),Ue("",hr(2,1,r[t.col])," ")}}function ab(e,n){e&1&&me(0,"i",57)}function lb(e,n){if(e&1&&(S(0,"div",51),We(1,ab,1,0,"i",57,He),E()),e&2){let t=U().$implicit,r=U().$implicit;F(),$e(Ze(0,go).constructor(r[t.col]))}}function sb(e,n){if(e&1&&me(0,"ngx-barcode6",54),e&2){let t=U().$implicit,r=U().$implicit;ct("bc-value",r[t.col]),te("bc-background","var(--bg-color)")("bc-line-color","var(--font-color)")("bc-font-size",12)("bc-format","MSI")("bc-display-value",!0)("bc-height",20)}}function cb(e,n){if(e&1&&(S(0,"p",55),oe(1),E()),e&2){let t=U().$implicit,r=U().$implicit;F(),Ue(" ",r[t.col]," ")}}function ub(e,n){if(e&1&&(S(0,"div",48),xe(1,Xy,1,1,"img",49)(2,Yy,2,3,"span",50)(3,Jy,3,0,"div",51)(4,Zy,3,4,"span",52)(5,ib,3,1,"span",53)(6,ob,3,3,"span")(7,lb,3,1,"div",51)(8,sb,1,7,"ngx-barcode6",54)(9,cb,2,1,"p",55),E()),e&2){let t,r=n.$implicit,i=U(4);Tn(i.applicationService.isMobile()?"col-12":"col-"+i.Math.round(12/i.columns.length)),F(),Pe((t=r.type)==="img"?1:t==="boolean"?2:t==="tags"?3:t==="numeric"?4:t==="select"?5:t==="date"?6:t==="rating"?7:t==="barcode"?8:9)}}function db(e,n){if(e&1){let t=Re();S(0,"app-button",58),se("handleClick",function(){we(t);let i=U().$implicit,o=U(3);return Oe(o.onShowDetails(i,!1))}),E()}e&2&&te("iconBtn",!0)("outlined",!1)}function fb(e,n){if(e&1){let t=Re();S(0,"app-button",59),se("handleClick",function(){we(t);let i=U().$implicit,o=U(3);return Oe(o.deleteData(i.id))}),E()}e&2&&te("iconBtn",!0)("outlined",!1)}function pb(e,n){if(e&1&&(S(0,"div",42)(1,"div",43),We(2,ub,10,3,"div",44,He),E(),S(4,"div",45),xe(5,db,1,2,"app-button",46)(6,fb,1,2,"app-button",47),E()()),e&2){let t=U(3);F(2),$e(t.columns),F(3),Pe(t.currentUserRolePermission.includes("read")?5:-1),F(),Pe(t.currentUserRolePermission.includes("delete")?6:-1)}}function hb(e,n){if(e&1&&(We(0,pb,7,2,"div",42,He),Ft(2,"filter"),Ft(3,"paginator"),Ft(4,"sort")),e&2){let t=U(2);$e(Dn(4,8,Dn(3,4,Dn(2,0,t.data,t.filterField,t.filterValue),t.currentPage,t.paginatorSize),t.sortField,t.sortType))}}function mb(e,n){e&1&&(S(0,"div",60)(1,"div",61),me(2,"i",62),S(3,"h5",63),oe(4,"There are no data yet"),E()()())}function gb(e,n){if(e&1&&(xe(0,hb,5,12)(1,mb,5,0),ut(2,0,Gy,null,1)),e&2){let t=U();F(2),Ct(t.data&&t.data.length>0)}}function _b(e,n){e&1&&(S(0,"div",18)(1,"div",64),me(2,"app-skelton",65),E()()),e&2&&(F(2),te("height",100)("maxHeight",100))}function vb(e,n){e&1&&We(0,_b,3,2,"div",18,He),e&2&&$e(Ze(0,go).constructor(4))}function yb(e,n){if(e&1){let t=Re();S(0,"app-generic-input",67),se("inputValue",function(i){we(t);let o=U().$implicit,a=U(2);return Oe(a.applicationService.patchControlValue(o.formControlName,i,a.formControl))})("select",function(i){we(t);let o=U().$implicit,a=U(2);return Oe(a.applicationService.patchControlValue(o.formControlName,i,a.formControl))}),E()}if(e&2){let t=U().$implicit,r=U(2);te("form",r.formControl)("input",t)("disabled",r.applicationService.checkInputValue(t.depend,r.formControl))("showRequiredMessage",r.submitted&&(r.form[t.formControlName].errors==null?null:r.form[t.formControlName].errors.required))}}function bb(e,n){if(e&1&&(S(0,"div",32),xe(1,yb,1,4,"app-generic-input",66),E()),e&2){let t=n.$implicit,r=U(2);te("ngClass",t.type==="file"||t.type==="textarea"?"col-lg-12":"col-lg-4"),F(),Pe(r.mode=="addMode"&&t.rendered||r.mode=="editMode"&&t.renderedOnEditMode?1:-1)}}function xb(e,n){if(e&1&&(We(0,bb,2,2,"div",32,He),Ft(2,"sort")),e&2){let t=U();$e(Dn(2,0,t.fields,"order","ASC"))}}function Cb(e,n){e&1&&(S(0,"div",68),me(1,"app-skelton",69),E()),e&2&&(F(),te("height",100)("shape","inputs-shape"))}function wb(e,n){e&1&&We(0,Cb,2,2,"div",68,He),e&2&&$e(Ze(0,go).constructor(12))}function Ob(e,n){if(e&1){let t=Re();S(0,"app-button",72),se("handleClick",function(){we(t);let i=U(2);return Oe(i.editData(i.selectedLine.id))}),E()}}function Sb(e,n){if(e&1){let t=Re();S(0,"div",26),xe(1,Ob,1,0,"app-button",70),S(2,"app-button",71),se("handleClick",function(){we(t);let i=U();return Oe(i.mode=="detailsMode"?i.crudService.modeSubject.next("editMode"):i.crudService.modeSubject.next("detailsMode"))}),E(),xi(3,2),E()}if(e&2){let t=U();F(),Pe(t.mode=="editMode"?1:-1),F(),te("label",t.mode=="detailsMode"?"Edit":"Close")("outlined",t.mode!="detailsMode")("icon",t.mode=="detailsMode"?"ri-pencil-line":"ri-close-line")}}function Mb(e,n){if(e&1){let t=Re();S(0,"app-generic-input",67),se("inputValue",function(i){we(t);let o=U().$implicit,a=U();return Oe(a.applicationService.patchControlValue(o.formControlName,i,a.formControl))})("select",function(i){we(t);let o=U().$implicit,a=U();return Oe(a.applicationService.patchControlValue(o.formControlName,i,a.formControl))}),E()}if(e&2){let t=U().$implicit,r=U();te("form",r.formControl)("input",t)("disabled",t.type=="checkbox"&&r.mode=="detailsMode"?!0:t.disabledOnEditMode)("showRequiredMessage",r.submitted&&(r.form[t.formControlName].errors==null?null:r.form[t.formControlName].errors.required))}}function Eb(e,n){if(e&1&&(S(0,"div",32),xe(1,Mb,1,4,"app-generic-input",66),E()),e&2){let t=n.$implicit;te("ngClass",t.type==="file"?"col-lg-12":"col-lg-6"),F(),Pe(t.renderedOnEditMode?1:-1)}}var Ke=(()=>{let n=class n{constructor(r,i,o,a,s,h){this.applicationService=r,this.crudService=i,this.authFirebaseService=o,this.fireStoreService=a,this.fileService=s,this.formBuilder=h,this.Math=Math,this.openRight=!1,this.mode="",this.showAdd=!0,this.title="",this.fields=[],this.columns=[],this.data=[],this.sortField="",this.filterField="",this.filterValue="",this.showDetails=new ot,this.save=new ot,this.delete=new ot,this.deleteAll=new ot,this.edit=new ot,this.sortType="desc",this.currentPage=1,this.paginatorSize=4,this.totalRows=0,this.totalPages=0,this.formControl={},this.selectedLine={},this.submitted=!1,this.showDialog=!1,this.fileUrl=null,this.error=null,this.currentUser={},this.currentUserRole={},this.currentUserRolePermission=[],this.authFirebaseService.$user.subscribe(w=>{this.currentUser=w,this.currentUserRole=w?.role,console.log("this.currentUserRole"),console.log(this.currentUserRole),this.crudService.getItem(Se.ROLES,this.currentUserRole).subscribe(O=>{this.currentUserRolePermission=O?O.permissions:[]})}),this.crudService.loading$.subscribe(w=>{this.loading=w}),this.crudService.mode$.subscribe(w=>{this.mode=w}),this.crudService.formValueSubject.next({}),this.crudService.totalRows$.subscribe(w=>{this.totalRows=w,this.totalPages=Math.ceil(this.totalRows/this.paginatorSize)}),this.data=this.spliceList(this.data,0,this.paginatorSize)}ngOnChanges(r){}ngOnInit(){return ve(this,null,function*(){yield this.initForm(this.fields),console.log("after init")})}onShowDialog(r,i){return ve(this,null,function*(){yield this.initForm(this.fields),this.crudService.modeSubject.next("addMode"),this.submitted=!1,this.crudService.formValueSubject.next(this.formValues),this.showDialog=!0})}hideDialog(r){this.crudService.formValueSubject.next({}),this.genericInputComponent.ngOnDestroy(),this.fileService.listFilesSubject.next([]),this.fileService.uploadedFilesSubject.next(!1),this.showDialog=r}onShowDetails(r,i){return ve(this,null,function*(){this.applicationService.addClassToDiv("right","slide-in-right"),setTimeout(()=>ve(this,null,function*(){this.applicationService.removeClassFromDiv("right-container","d-none"),this.applicationService.addClassToDiv("right-container","d-block"),this.selectedLine=r,yield this.initForm(this.fields),yield this.patchForm(r),this.crudService.modeSubject.next("detailsMode"),this.crudService.formValueSubject.next(this.formValues),this.showDetails.emit(r)}),50)})}sortList(r){this.sortField=r,this.sortType=this.sortType==="asc"?"desc":"asc"}filterList(r,i){this.filterField=r,this.filterValue=i.target.value}changePage(r){this.crudService.loadingSubject.next(!0),setTimeout(()=>{r==="next"?this.currentPage=this.currentPage<Math.ceil(this.totalRows/this.paginatorSize)?this.currentPage+1:this.currentPage:r=="prev"&&(this.currentPage=this.currentPage>1?this.currentPage-1:this.currentPage),this.crudService.loadingSubject.next(!1)},500)}spliceList(r,i,o){return r.splice(i,o)}initForm(r){return ve(this,null,function*(){let i={};r.forEach(o=>{let a=o.formControlName;if(a.includes(".")){let s=a.split(".");i[s[0]]||(i[s[0]]={}),i[s[0]][s[1]]=new aa(o.type==="checkbox"?!1:null,[o.required?Kt.required:Kt.nullValidator])}else i[a]=new aa(o.type==="checkbox"?!1:null,[o.required?Kt.required:Kt.nullValidator])}),this.formControl=this.formBuilder.group(i)})}patchForm(r){return ve(this,null,function*(){Object.keys(this.formValues).forEach(i=>{this.applicationService.patchControlValue(i,r[i],this.formControl)})})}get form(){return this.formControl.controls}get formValues(){return this.formControl.value}saveData(){return ve(this,null,function*(){if(this.submitted=!0,this.formControl.patchValue({createdAt:new Date().toISOString().split("T")[0],createdBy:this.currentUser.email}),this.formControl.invalid){console.log(this.formValues),console.log("invalid");return}else console.log("after that..........;"),this.save.emit(this.formControl.value),this.showDialog=!1})}editData(r){if(this.submitted=!0,this.formControl.invalid){console.log(this.formValues),console.log("invalid");return}else this.formControl.patchValue({updatedAt:new Date().toISOString().split("T")[0],updatedBy:this.currentUser.email}),this.crudService.modeSubject.next("detailsMode"),this.edit.emit({id:r,data:this.formControl.value})}deleteData(r){return ve(this,null,function*(){(yield this.applicationService.showSuccessfulDeleteDialog())?this.delete.emit(r):console.log("User cancelled, abort delete.")})}deleteAllData(){return ve(this,null,function*(){(yield this.applicationService.showSuccessfulDeleteDialog())?this.deleteAll.emit():console.log("User cancelled, abort delete.")})}closeRight(){this.applicationService.addClassToDiv("right","slide-out-right"),setTimeout(()=>{this.applicationService.addClassToDiv("right-container","d-none"),this.applicationService.removeClassFromDiv("right","slide-out-right"),this.openRight=!1,this.formControl.reset()},500)}getStatusColor(r){try{switch(r){case!0:return"rgb(8,143,82)";case!1:return"#d65a5a";default:return"#fff"}}catch{return console.log("status "+r+"is undefiend"),""}}getStatusLabel(r,i){if(r)switch(i){case"orderStatus":return"shipped";case"paymentStatus":return"Paid";case"isActive":return"Active";default:return"Active"}else switch(i){case"orderStatus":return"In progress";case"paymentStatus":return"UnPaid";case"isActive":return"Inactive";default:return"Inactive"}}getFileUrl(r){this.fireStoreService.getDownloadableUrl(r).subscribe(i=>(this.fileUrl=i,console.log("Download URL:",i),this.fileUrl),i=>{throw this.error="Error retrieving file URL: "+i.message,console.error(i),new Error(this.error)})}};n.\u0275fac=function(i){return new(i||n)(_e(Ve),_e(Be),_e(Fn),_e(Ms),_e(on),_e(Ei))},n.\u0275cmp=Te({type:n,selectors:[["app-generic-crud"]],viewQuery:function(i,o){if(i&1&&Fe(mo,5),i&2){let a;Le(a=Ne())&&(o.genericInputComponent=a.first)}},inputs:{showAdd:"showAdd",title:"title",fields:"fields",columns:"columns",data:"data",sortField:"sortField",filterField:"filterField",filterValue:"filterValue"},outputs:{showDetails:"showDetails",save:"save",delete:"delete",deleteAll:"deleteAll",edit:"edit"},standalone:!0,features:[Vt,Ae],ngContentSelectors:zy,decls:52,vars:19,consts:[[3,"rootName"],[1,"container"],[1,"utilities","card","col-12","align-center"],[1,"col-lg-2","col-sm-6","col-md-6","h-100","align-center"],[1,"col-lg-10","col-sm-12","col-md-12","row","h-100","align-center","justify-end"],["size","small","icon","ri-add-fill",1,"mr-5",3,"label"],[1,"d-flex","align-center","mr-10"],[1,"ri-arrow-left-s-line","mr-5","clickable","cursor-pointer",3,"click"],[1,"ri-arrow-right-s-line","ml-5","clickable","cursor-pointer",3,"click"],[1,"data"],[1,"data-header","d-sm-none"],[1,"row","h-100","col-10","align-center","justify-content-between"],[3,"class"],[1,"data-body"],["icon","ri-add-line","title","data","height","auto","width","70%",3,"closeModal","modalId","showModal","showFooter"],["modal-body",""],[1,"container","x-small-padding","fade-in-fwd","one-em-border-radius"],[1,"x-small-mt",3,"formGroup"],[1,"row"],["modal-footer",""],[1,"d-flex","align-center","justify-end"],["label","Validate","icon","ri-check-line",1,"mr-5",3,"handleClick"],["id","right-container",1,"right-container","d-none"],["id","right",1,"right","scroll-overflow-y"],[1,"d-flex","align-center","justify-content-between","right-header"],[1,"ri-close-fill","close-icon","clickable",3,"click"],[1,"d-flex","align-center","justify-start"],["right-content","",1,"w-100","p-10"],[1,"font-color-text","text-align-center"],[1,"d-flex","flex-column","align-center","justify-content-center","h-100","scroll-overflow-y"],[1,"row","p-10","mt-10","w-100"],[1,"x-small-mt",3,"keyup.enter","formGroup"],[1,"col-md-12","col-sm-12","form-group",3,"ngClass"],["size","small","icon","ri-add-fill",1,"mr-5",3,"handleClick","label"],[1,"d-flex","flex-column","justify-end"],[1,"d-flex","flex-row","align-center"],[1,"d-flex","flex-row"],[1,"clickable","cursor-pointer","mr-5",3,"class"],[1,"bold"],[1,"ri-filter-fill","clickable","mr-5"],["type","text",1,"filter-input",3,"input"],[1,"clickable","cursor-pointer","mr-5",3,"click"],[1,"data-body-card"],[1,"row","col-10","h-100","align-center","justify-content-between"],[1,"fade-in-fwd",3,"class"],[1,"col-2","row","content-center","h-100","justify-end"],["size","small","icon","ri-search-line",1,"mr-5",3,"iconBtn","outlined"],["size","small","icon","ri-close-circle-line",1,"mr-5",3,"iconBtn","outlined"],[1,"fade-in-fwd"],["height","40","width","40","alt","img",2,"box-shadow","var(--box-shadow)",3,"src"],[1,"tag","mr-2","mb-2",3,"background-color"],[1,"row","flex-wrap","m-h-100","scroll-overflow-y"],[1,"green-text","bold"],[1,"tag","infos-bg-text","mr-2","mb-2"],[3,"bc-background","bc-line-color","bc-font-size","bc-format","bc-value","bc-display-value","bc-height"],[1,"max-text-length"],[1,"tag","mr-2","mb-2"],[1,"rating-star","ri-star-fill","mr-2"],["size","small","icon","ri-search-line",1,"mr-5",3,"handleClick","iconBtn","outlined"],["size","small","icon","ri-close-circle-line",1,"mr-5",3,"handleClick","iconBtn","outlined"],[1,"data-body-card","fade-in-fwd"],[1,"row","align-center","justify-content-center","w-100"],[1,"ri-error-warning-line","mr-2","font-color-text"],[1,"font-color-text"],[1,"col-12"],["shape","data",3,"height","maxHeight"],[3,"form","input","disabled","showRequiredMessage"],[3,"inputValue","select","form","input","disabled","showRequiredMessage"],[1,"col-6"],[3,"height","shape"],["label","Save changes","size","small","icon","ri-check-line",1,"fade-in-fwd"],["size","small",1,"fade-in-fw","ml-5",3,"handleClick","label","outlined","icon"],["label","Save changes","size","small","icon","ri-check-line",1,"fade-in-fwd",3,"handleClick"]],template:function(i,o){i&1&&(us(qy),me(0,"app-breadcrumbs",0),S(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),oe(5),E()(),S(6,"div",4),xi(7),xe(8,Hy,1,2,"app-button",5),S(9,"div",6)(10,"i",7),se("click",function(){return o.changePage("prev")}),E(),S(11,"span"),oe(12),E(),S(13,"i",8),se("click",function(){return o.changePage("next")}),E()()()(),S(14,"div",9)(15,"div",10)(16,"div",11),We(17,Qy,7,6,"div",12,He),E()(),S(19,"div",13),xe(20,gb,4,1)(21,vb,2,1),ut(22,20,null,null,21),E()()(),S(24,"app-modal",14),se("closeModal",function(s){return o.hideDialog(s)}),S(25,"div",15)(26,"div",16)(27,"form",17)(28,"div",18),xe(29,xb,3,4)(30,wb,2,1),ut(31,29,Vy,null,30),E()()()(),S(33,"div",19)(34,"div",20)(35,"app-button",21),se("handleClick",function(){return o.saveData()}),E()()()(),S(36,"div",22)(37,"div",23)(38,"div",24)(39,"i",25),se("click",function(){return o.closeRight()}),E(),xe(40,Sb,4,4,"div",26),E(),S(41,"app-right")(42,"div",27)(43,"h3",28),oe(44),E(),xi(45,1),S(46,"div",29)(47,"div",30)(48,"form",31),se("keyup.enter",function(){return o.editData(o.selectedLine.id)}),We(49,Eb,2,2,"div",32,He),Ft(51,"sort"),E()()()()()()()),i&2&&(ia("rootName","",o.title,"s"),F(5),Ue("List of ",o.title,"s"),F(3),Pe(o.showAdd&&o.currentUserRolePermission.includes("write")?8:-1),F(4),Ye(o.currentPage+"/"+o.totalPages),F(5),$e(o.columns),F(5),Ct(!o.loading&&o.data!==Ze(18,go)),F(2),te("modalId","add-modal")("showModal",o.showDialog)("showFooter",!0),F(3),te("formGroup",o.formControl),F(4),Ct(!o.loading||o.formControl),F(9),Pe(o.currentUserRolePermission.includes("update")?40:-1),F(4),Ue("Details of ",o.title,""),F(4),te("formGroup",o.formControl),F(),$e(Dn(51,14,o.fields,"order","ASC")))},dependencies:[mt,Lt,Jt,qn,Vi,Si,mo,kn,mr,Ot,An,Rn,xs,ws,wt,ho],styles:['@font-face{font-family:Ubuntu;src:url("./media/Ubuntu-Regular-P57X6VB5.ttf") format("truetype");font-weight:400;font-style:normal}[_ngcontent-%COMP%]:root{--bg-color: #ffffff;--font-color: #000000;--hover-font-color: #000000;--input-border-color: rgba(128, 128, 128, .44);--main-bg-color: #f2f2f2;--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: #E8476057;--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(27, 31, 35, .15);--footer-color:#000;--box-shadow: $box-shadow}[data-theme=dark][_ngcontent-%COMP%]{--bg-color: #161625;--font-color: #ffffff;--hover-font-color: #000000;--input-border-color: #E8476057;--main-bg-color: rgb(14, 14, 27);--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: rgba(255, 255, 255, .16);--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(60, 64, 68, .78);--footer-color:#fff;--box-shadow: $box-shadow}[_ngcontent-%COMP%]:dir(ltr){font-family:Ubuntu,sans-serif;--small-font-size: 11px;--normal-font-size: 14px;--medium-font-size: 18px;--big-font-size: 21px}[_ngcontent-%COMP%]:dir(rtl){font-family:Ubuntu,sans-serif;--small-font-size: 13px;--normal-font-size: 16px;--medium-font-size: 20px;--big-font-size: 23px}.excel-color[_ngcontent-%COMP%]{color:green!important}.pdf-color[_ngcontent-%COMP%]{color:#ff4500!important}.focus-color[_ngcontent-%COMP%]{border-color:var(--main-secoundary-color);outline:0;-webkit-box-shadow:0 0 0 .1rem rgba(199,37,62,.31);box-shadow:0 0 0 .1rem #c7253e4f}.utilities[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;align-items:center}.utilities[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--font-color);font-weight:700;margin:0;font-size:20px}.utilities[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .utilities[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color)}.data[_ngcontent-%COMP%]{display:flex;flex-direction:column}.data-header[_ngcontent-%COMP%]{box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;border-radius:.5em;margin-bottom:20px;padding:.3em 1em;background-color:var(--bg-color);color:var(--font-color);height:auto}.data-header[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{height:30px;margin-bottom:5px}.data-body[_ngcontent-%COMP%]{max-height:500px;height:auto;padding:9px 0}.data-body-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;border-radius:.5em;margin-bottom:20px;padding:.3em 1em;background-color:var(--bg-color);color:var(--font-color);height:75px;border-left:solid 10px var(--main-primary-color)}.data-body-card-infos[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.data-body-card-infos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;border:solid 1px var(--font-color)}.data-body-card-infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.data-body-card-infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:700;font-size:12px}.img-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.img-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:90px;width:90px;border-radius:50%}.img-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:var(--font-color)}.img-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:14px;font-weight:400}@media (max-width: 767px){.data-header[_ngcontent-%COMP%]{display:none}.data-body[_ngcontent-%COMP%]{max-height:500px;height:auto;padding:10px}.data-body-card[_ngcontent-%COMP%]{height:auto!important}.data-body-card-infos[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.data-body-card-infos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;border:solid 1px var(--font-color)}.data-body-card-infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.data-body-card-infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:700;font-size:12px}}']});let e=n;return e})();var Vd=[{formControlName:"productName",type:"text",placeholder:"Enter product name",styles:{},id:"product-name",label:"Product Name",requiredMessage:"Product name is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:1,disabledOnEditMode:!1},{formControlName:"productDescription",type:"textarea",placeholder:"Enter product description",styles:{},id:"product-description",label:"Product Description",requiredMessage:"Description is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:3,disabledOnEditMode:!1},{formControlName:"price",type:"text",placeholder:"Enter product price",styles:{},id:"product-price",label:"Price",requiredMessage:"Price is required",required:!0,inputMask:St(0,void 0,"DA",2),options:[],min:0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"DA",rendered:!0,renderedOnEditMode:!0,order:4,disabledOnEditMode:!1},{formControlName:"discountPercentage",type:"text",placeholder:"Enter discount percentage",styles:{},id:"product-discount",label:"Discount (%)",requiredMessage:"Invalid discount value",required:!1,inputMask:St(0,100,"%",0),options:[],min:0,max:100,firstInput:null,secondInput:null,mode:null,depend:null,unite:"%",rendered:!0,renderedOnEditMode:!0,order:5,disabledOnEditMode:!1},{formControlName:"stockQuantity",type:"text",placeholder:"Enter stock quantity",styles:{},id:"stock-quantity",label:"Stock Quantity",requiredMessage:"Stock quantity is required",required:!0,inputMask:St(0,void 0,"",0),options:[],min:0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:6,disabledOnEditMode:!1},{formControlName:"imagesUrls",type:"file",placeholder:"Upload product image",styles:{},id:"product-image",label:"Upload Image",requiredMessage:"Product image is required",required:!1,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:7,disabledOnEditMode:!1},{formControlName:"brandName",type:"text",placeholder:"Enter brand name",styles:{},id:"brand-name",label:"Brand Name",requiredMessage:"Brand name is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:8,disabledOnEditMode:!1},{formControlName:"length",type:"text",placeholder:"Enter length in cm",styles:{},id:"product-length",label:"Length (cm)",requiredMessage:"",required:!1,inputMask:St(0,void 0,"cm",0),options:[],min:0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"cm",rendered:!0,renderedOnEditMode:!0,order:9,disabledOnEditMode:!1},{formControlName:"width",type:"text",placeholder:"Enter width in cm",styles:{},id:"product-width",label:"Width (cm)",requiredMessage:"",required:!1,inputMask:St(0,void 0,"cm",0),options:[],min:0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"cm",rendered:!0,renderedOnEditMode:!0,order:10,disabledOnEditMode:!1},{formControlName:"height",type:"text",placeholder:"Enter height in cm",styles:{},id:"product-height",label:"Height (cm)",requiredMessage:"",required:!1,inputMask:St(0,void 0,"cm",0),options:[],min:0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"cm",rendered:!0,renderedOnEditMode:!0,order:11,disabledOnEditMode:!1},{formControlName:"weight",type:"text",placeholder:"Enter weight in grams",styles:{},id:"product-weight",label:"Weight (grams)",requiredMessage:"",required:!1,inputMask:St(0,void 0,"grams",0),options:[],min:0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"grams",rendered:!0,renderedOnEditMode:!0,order:13,disabledOnEditMode:!1},{formControlName:"tags",type:"multi-select",placeholder:"Select product tags",styles:{},id:"product-tags",label:"Tags",requiredMessage:"",required:!1,inputMask:null,options:[],bindLabel:"tagName",bindValue:"tagName",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:14,disabledOnEditMode:!1},{formControlName:"availabilityDate",type:"date",placeholder:"Select availability date",styles:{},id:"product-availability-date",label:"Availability Date",requiredMessage:"",required:!1,inputMask:et(new Date().toISOString().split("T")[0],""),options:[],min:"",max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:15,disabledOnEditMode:!1},{formControlName:"isRecommended",type:"checkbox",placeholder:"",styles:{"margin-top":"20px","margin-left":"5px"},id:"is-active",label:"Recommended",requiredMessage:"",required:!1,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:15,disabledOnEditMode:!1},{formControlName:"createdAt",type:"date",placeholder:"Select creation date",styles:{},id:"product-created-at",label:"Created At",requiredMessage:"",required:!1,inputMask:et(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:16,disabledOnEditMode:!0},{formControlName:"createdBy",type:"text",placeholder:"",styles:{},id:"product-created-by",label:"Created By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:17,disabledOnEditMode:!0},{formControlName:"updatedAt",type:"date",placeholder:"Select last update date",styles:{},id:"tag-updated-at",label:"Updated At",requiredMessage:"",required:!1,inputMask:et(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:18,disabledOnEditMode:!1},{formControlName:"updatedBy",type:"text",placeholder:"",styles:{},id:"product-updated-by",label:"Updated By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:19,disabledOnEditMode:!0}],Gd=[{col:"imagesUrls",name:"Image",sortable:!1,filterable:!1,type:"img"},{col:"productName",name:"Name",sortable:!0,filterable:!0,type:"text"},{col:"price",name:"Price",sortable:!0,filterable:!0,type:"numeric"},{col:"stockQuantity",name:"Stock Quantity",sortable:!0,filterable:!1,type:"numeric"},{col:"tags",name:"Tags",sortable:!1,filterable:!1,type:"tags",listSource:[],fieldSource:"tagName",labelSource:"tagName"}];var Pb=()=>[import("./chunk-LWNHHYPK.js").then(e=>e.CarouselComponent)],Tb=()=>({height:"250px",width:"250px"});function Ib(e,n){if(e&1&&(me(0,"app-carousel",3),S(1,"a",4),oe(2),E()),e&2){let t=U();te("numberSlides",t.selectedProduct.imagesUrls.length)("images",t.selectedProduct.imagesUrls)("styles",Ze(7,Tb)),F(),ht("font-size",12,"px"),ct("href",t.SITE_URL+"?product_id="+t.selectedProduct.id,kt),F(),Ue(" ",t.SITE_URL+"?product_id="+t.selectedProduct.id," ")}}function Db(e,n){e&1&&me(0,"img",5)}var Hd=(()=>{let n=class n{changeOption(r){console.log("optionnnnnnnnnnn"),console.log(r)}constructor(r,i,o,a){this.crudService=r,this.categoriesService=i,this.tagsService=o,this.applicationService=a,this.listButtonsData=[{index:1,label:"product",active:!0},{index:2,label:"category",active:!1}],this.columns=Gd,this.productFormFields=Vd,this.selectedProduct={},this.Object=Object,this.SITE_URL=gs}ngOnInit(){return ve(this,null,function*(){yield this.findCategories(),yield this.findTags(),yield this.findProducts()})}findProducts(){return new Promise((r,i)=>{this.crudService.getItemsList(Se.PRODUCTS).subscribe({next:o=>{this.products=o,console.log("products.........."),console.log(o),r()},error:o=>{i(o)}})})}createProduct(r){console.log("emited value????????????????"),console.log(r),this.crudService.createItem(Se.PRODUCTS,r),this.applicationService.showSuccessfulSaveDialog("Product Creation","success","Product Created successfully")}updateProduct(r){let i=r.id,o=r.data;this.crudService.updateItem(Se.PRODUCTS,i,o).then(a=>this.applicationService.showSuccessfulSaveDialog("Update Product","success","Product Updated successfully")),this.genericCrudComponent.closeRight()}deleteProduct(r){this.crudService.deleteItem(Se.PRODUCTS,r).then(i=>console.log("product deleted successfully"))}onSelectProduct(r){this.selectedProduct=r,console.log("selected product"),console.log(this.selectedProduct)}findCategories(){return ve(this,null,function*(){return new Promise((r,i)=>{this.categoriesService.getItemsList(Se.CATEGORIES).subscribe({next:o=>{this.categories=o,this.productFormFields.map(a=>{let s;a.formControlName=="category"&&(s=a,s.options=this.categories,this.productFormFields=[...this.productFormFields])}),this.columns.map(a=>{let s;a.col=="category"&&(s=a,s.listSource=this.categories,this.columns=[...this.columns])}),r()},error:o=>{i(o)}})})})}findTags(){return ve(this,null,function*(){return new Promise((r,i)=>{this.tagsService.getItemsList(Se.TAGS).subscribe({next:o=>{this.tags=o,this.productFormFields.map(a=>{let s;a.formControlName=="tags"&&(s=a,s.options=this.tags,this.productFormFields=[...this.productFormFields])}),this.columns.map(a=>{let s;a.col=="tags"&&(s=a,s.listSource=this.categories,this.columns=[...this.columns])}),r()},error:o=>{i(o)}})})})}};n.\u0275fac=function(i){return new(i||n)(_e(Be),_e(Be),_e(Be),_e(Ve))},n.\u0275cmp=Te({type:n,selectors:[["app-products"]],viewQuery:function(i,o){if(i&1&&Fe(Ke,5),i&2){let a;Le(a=Ne())&&(o.genericCrudComponent=a.first)}},standalone:!0,features:[Ae],decls:7,vars:7,consts:[[3,"showDetails","save","edit","delete","data","fields","title","sortField","columns","showAdd"],["details-data","",1,"w-100"],[1,"d-flex","flex-column","align-center","justify-content-center"],[3,"numberSlides","images","styles"],["target","_blank",1,"mt-0","primary-text","bold","clickable","cursor-pointer",3,"href"],["src","assets/images/blank-product-img.png","alt","blank-product-img"]],template:function(i,o){i&1&&(S(0,"app-generic-crud",0),se("showDetails",function(s){return o.onSelectProduct(s)})("save",function(s){return o.createProduct(s)})("edit",function(s){return o.updateProduct(s)})("delete",function(s){return o.deleteProduct(s)}),S(1,"div",1)(2,"div",2),xe(3,Ib,3,8)(4,Db,1,0),ut(5,3,Pb,null,4),E()()()),i&2&&(te("data",o.products)("fields",o.productFormFields)("title","Product")("sortField","createdAt")("columns",o.columns)("showAdd",!0),F(5),Ct(o.selectedProduct.imagesUrls!==void 0&&o.selectedProduct.imagesUrls!==null&&o.selectedProduct.imagesUrls.length>0))},dependencies:[Lt,qn,Ot,Ke,wt],styles:['@font-face{font-family:Ubuntu;src:url("./media/Ubuntu-Regular-P57X6VB5.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:Ubuntu;src:url("./media/Ubuntu-Regular-P57X6VB5.ttf") format("truetype");font-weight:400;font-style:normal}[_ngcontent-%COMP%]:root{--bg-color: #ffffff;--font-color: #000000;--hover-font-color: #000000;--input-border-color: rgba(128, 128, 128, .44);--main-bg-color: #f2f2f2;--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: #E8476057;--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(27, 31, 35, .15);--footer-color:#000;--box-shadow: $box-shadow}[data-theme=dark][_ngcontent-%COMP%]{--bg-color: #161625;--font-color: #ffffff;--hover-font-color: #000000;--input-border-color: #E8476057;--main-bg-color: rgb(14, 14, 27);--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: rgba(255, 255, 255, .16);--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(60, 64, 68, .78);--footer-color:#fff;--box-shadow: $box-shadow}[_ngcontent-%COMP%]:dir(ltr){font-family:Ubuntu,sans-serif;--small-font-size: 11px;--normal-font-size: 14px;--medium-font-size: 18px;--big-font-size: 21px}[_ngcontent-%COMP%]:dir(rtl){font-family:Ubuntu,sans-serif;--small-font-size: 13px;--normal-font-size: 16px;--medium-font-size: 20px;--big-font-size: 23px}.excel-color[_ngcontent-%COMP%]{color:green!important}.pdf-color[_ngcontent-%COMP%]{color:#ff4500!important}.focus-color[_ngcontent-%COMP%]{border-color:var(--main-secoundary-color);outline:0;-webkit-box-shadow:0 0 0 .1rem rgba(199,37,62,.31);box-shadow:0 0 0 .1rem #c7253e4f}.user[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:100px;border-radius:1em;box-shadow:#0000003d 0 3px 8px}.user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:var(--font-color)}.user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:14px;font-weight:400}.dental-anatomy[_ngcontent-%COMP%]{margin-top:10px}.dental-anatomy[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:230px;margin-bottom:10px}.history[_ngcontent-%COMP%]{margin:0 20px;height:180px;max-height:180px;overflow-y:scroll;padding:0 0 13px}.history-title[_ngcontent-%COMP%]{margin-bottom:20px;color:var(--font-color);font-weight:600;font-size:17px;position:sticky;top:0;z-index:2;background-color:var(--bg-color);width:100%;text-align:center}.history-data[_ngcontent-%COMP%]{margin-bottom:10px;text-align:left}.history-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color);font-weight:600;font-size:10px}.utilities[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;align-items:center}.utilities[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--font-color);font-weight:700;margin:0;font-size:20px}.utilities[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .utilities[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color)}.data[_ngcontent-%COMP%]{display:flex;flex-direction:column}.data-header[_ngcontent-%COMP%]{box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;border-radius:.5em;margin-bottom:20px;padding:.3em 1em;background-color:var(--bg-color);color:var(--font-color);height:auto}.data-header[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{height:30px;margin-bottom:5px}.data-body[_ngcontent-%COMP%]{max-height:500px;height:auto;padding:9px 0}.data-body-card[_ngcontent-%COMP%]{box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;border-radius:.5em;margin-bottom:20px;padding:.3em 1em;background-color:var(--bg-color);color:var(--font-color);height:70px;border-left:solid 10px var(--main-primary-color)}.data-body-card-infos[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.data-body-card-infos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;border:solid 1px var(--font-color)}.data-body-card-infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.data-body-card-infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:700;font-size:12px}']});let e=n;return e})();var Ab=["container"],kb=()=>[import("./chunk-C4Y2QHB4.js").then(e=>e.ButtonComponent),An,vs,ys,Rn,bs,Mi],_o=()=>({standalone:!0}),Wd=()=>[];function Fb(e,n){if(e&1){let t=Re();S(0,"i",8),se("click",function(){we(t);let i=U();return Oe(i.startEdit())}),E()}}function Lb(e,n){if(e&1){let t=Re();S(0,"i",9),se("click",function(){we(t);let i=U();return Oe(i.closeEdit())}),E()}}function Nb(e,n){if(e&1){let t=Re();S(0,"form",10),se("keyup.enter",function(){we(t);let i=U();return Oe(i.updateCurrentUser(i.currentUser))}),S(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14)(5,"p"),oe(6,"Personal details : "),E()(),S(7,"div",15),me(8,"i",16),S(9,"input",17),pr("ngModelChange",function(i){we(t);let o=U();return fr(o.currentUser.firstName,i)||(o.currentUser.firstName=i),Oe(i)}),E()(),S(10,"div",15),me(11,"i",16),S(12,"input",18),pr("ngModelChange",function(i){we(t);let o=U();return fr(o.currentUser.lastName,i)||(o.currentUser.lastName=i),Oe(i)}),E()(),me(13,"div",15),S(14,"div",15),me(15,"i",19),S(16,"input",20),pr("ngModelChange",function(i){we(t);let o=U();return fr(o.applicationService.filterList(o.roles,"id",o.currentUser.role).name,i)||(o.applicationService.filterList(o.roles,"id",o.currentUser.role).name=i),Oe(i)}),E()(),S(17,"div",15),me(18,"i",21)(19,"input",22),E()(),S(20,"div",13)(21,"div",14)(22,"p"),oe(23,"Security infos : "),E()(),S(24,"div",11)(25,"div",23)(26,"form",24)(27,"div",25)(28,"div",26)(29,"input",27),pr("ngModelChange",function(i){we(t);let o=U();return fr(o.currentUser.email,i)||(o.currentUser.email=i),Oe(i)}),E()(),S(30,"div",26)(31,"app-button",28),se("handleClick",function(){we(t);let i=U();return Oe(i.sendPasswordReset(i.currentUser.email))}),E()()()()()()()(),S(32,"div",29)(33,"div",30)(34,"span"),oe(35),E()()()()()}if(e&2){let t,r=U();F(9),dr("ngModel",r.currentUser.firstName),te("ngModelOptions",Ze(25,_o))("disabled",r.detailsFlag)("readonly",r.detailsFlag),F(3),dr("ngModel",r.currentUser.lastName),te("disabled",r.detailsFlag)("ngModelOptions",Ze(26,_o))("readonly",r.detailsFlag),F(4),dr("ngModel",r.applicationService.filterList(r.roles,"id",r.currentUser.role).name),te("readonly",!0)("ngModelOptions",Ze(27,_o))("disabled",!0),F(3),te("value",r.currentUser.email)("disabled",!0),F(10),te("readonly",!0),dr("ngModel",r.currentUser.email),te("ngModelOptions",Ze(28,_o)),F(2),te("outlined",!1),F(2),ht("height",120,"px")("width",120,"px")("background-color",r.currentUser&&r.currentUser.profileColor?r.currentUser.profileColor:"var(--main-primary-color"),F(2),Ye(r.currentUser==null||r.currentUser.lastName==null||(t=r.currentUser.lastName.substring(0,1))==null?null:t.toUpperCase())}}function Bb(e,n){e&1&&me(0,"app-skelton",32),e&2&&te("height",100)("shape","inputs-shape")}function jb(e,n){e&1&&me(0,"app-skelton",32),e&2&&te("height",100)("shape","inputs-shape")}function Ub(e,n){e&1&&(S(0,"div",25)(1,"div",31),We(2,Bb,1,2,"app-skelton",32,He),E(),S(4,"div",31),We(5,jb,1,2,"app-skelton",32,He),E()()),e&2&&(F(2),$e(Ze(0,Wd).constructor(3)),F(3),$e(Ze(1,Wd).constructor(3)))}var $d=(()=>{let n=class n{constructor(r,i,o,a,s,h){this.fb=r,this.afAuth=i,this.authFirebaseService=o,this.crudService=a,this.roleCrudService=s,this.applicationService=h,this.detailsFlag=!0,this.form={},this.currentUser={},this.roles=[],this.emailInputMask=Pi,this.authFirebaseService.$user.subscribe(w=>ve(this,null,function*(){this.currentUser=w,this.roleCrudService.getItemsList(Se.ROLES).subscribe(O=>{this.roles=O})}))}get formControl(){return this.form.controls}get formValues(){return this.form.value}ngOnInit(){return ve(this,null,function*(){yield this.patchForm(this.currentUser)})}startEdit(){this.detailsFlag=!1;let r=document.getElementById("details-input")}patchForm(r){return ve(this,null,function*(){Object.keys(this.formValues).forEach(i=>{this.applicationService.patchControlValue(i,r[i],this.form)})})}closeEdit(){this.detailsFlag=!0}updateCurrentUser(r){let i=r.key;this.crudService.updateItem(Se.USERS,i,r).then(o=>this.applicationService.showSuccessfulSaveDialog("Update User","success","User Updated successfully"))}sendPasswordReset(r){return this.afAuth.sendPasswordResetEmail(r).then(i=>{this.applicationService.showSwalDialog("reset password link sent to your email","success","#cce5cc")})}};n.\u0275fac=function(i){return new(i||n)(_e(Ei),_e(Ti),_e(Fn),_e(Be),_e(Be),_e(Ve))},n.\u0275cmp=Te({type:n,selectors:[["app-profile"]],viewQuery:function(i,o){if(i&1&&Fe(Ab,5),i&2){let a;Le(a=Ne())&&(o.container=a.first)}},standalone:!0,features:[Ae],decls:13,vars:2,consts:[["rootName","Dashboard"],[1,"container"],[1,"card","h-100","x-small-padding","fade-in-fwd","one-em-border-radius"],[1,"d-flex","align-center","justify-content-between"],[1,"d-flex","align-center","justify-start"],[1,"text-align-left","bold","mr-10"],[1,"ri-edit-2-line","primary-text","bold","clickable","cursor-pointer"],[1,"ri-close-line","primary-text","bold","clickable","cursor-pointer"],[1,"ri-edit-2-line","primary-text","bold","clickable","cursor-pointer",3,"click"],[1,"ri-close-line","primary-text","bold","clickable","cursor-pointer",3,"click"],[3,"keyup.enter"],[1,"row","d-flex","align-center","justify-content-between","fade-in-fwd"],[1,"col-lg-9","col-sm-12","col-md-12","row"],[1,"col-lg-6","col-sm-6","col-md-6"],[1,"col-12"],[1,"col-lg-12","col-md-12","col-sm-12","d-flex","align-center","justify-start"],[1,"ri-user-line","primary-text","mt-7"],["type","text",1,"details-input",3,"ngModelChange","ngModel","ngModelOptions","disabled","readonly"],["type","text",1,"details-input",3,"ngModelChange","ngModel","disabled","ngModelOptions","readonly"],[1,"ri-shield-line","primary-text","mt-7"],["type","text",1,"details-input",3,"ngModelChange","ngModel","readonly","ngModelOptions","disabled"],[1,"ri-mail-line","primary-text","mt-7"],["type","text","placeholder","email","readonly","",1,"details-input",3,"value","disabled"],[1,"col-lg-12","col-sm-12","col-md-12"],["ngForm",""],[1,"row"],[1,"col-12","form-group"],["type","email","placeholder","enter your email",2,"height","55px",3,"ngModelChange","readonly","ngModel","ngModelOptions"],["label","Reset Password","icon","ri-arrow-right-circle-fill",1,"mr-5",3,"handleClick","outlined"],[1,"col-lg-3","col-sm-12","col-md-12","d-flex","align-center","justify-content-center"],[1,"blank-user"],[1,"col-6"],[3,"height","shape"]],template:function(i,o){i&1&&(me(0,"app-breadcrumbs",0),S(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p",5),oe(6,"Update your personal details "),E(),xe(7,Fb,1,0,"i",6)(8,Lb,1,0,"i",7),E()(),xe(9,Nb,36,29)(10,Ub,7,2),ut(11,9,kb,null,10),E()()),i&2&&(F(7),Pe(o.detailsFlag?7:8),F(4),Ct(o.currentUser))},dependencies:[Lt,Si,Ot,wt,kn],styles:['@font-face{font-family:Ubuntu;src:url("./media/Ubuntu-Regular-P57X6VB5.ttf") format("truetype");font-weight:400;font-style:normal}[_ngcontent-%COMP%]:root{--bg-color: #ffffff;--font-color: #000000;--hover-font-color: #000000;--input-border-color: rgba(128, 128, 128, .44);--main-bg-color: #f2f2f2;--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: #E8476057;--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(27, 31, 35, .15);--footer-color:#000;--box-shadow: $box-shadow}[data-theme=dark][_ngcontent-%COMP%]{--bg-color: #161625;--font-color: #ffffff;--hover-font-color: #000000;--input-border-color: #E8476057;--main-bg-color: rgb(14, 14, 27);--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: rgba(255, 255, 255, .16);--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(60, 64, 68, .78);--footer-color:#fff;--box-shadow: $box-shadow}[_ngcontent-%COMP%]:dir(ltr){font-family:Ubuntu,sans-serif;--small-font-size: 11px;--normal-font-size: 14px;--medium-font-size: 18px;--big-font-size: 21px}[_ngcontent-%COMP%]:dir(rtl){font-family:Ubuntu,sans-serif;--small-font-size: 13px;--normal-font-size: 16px;--medium-font-size: 20px;--big-font-size: 23px}.excel-color[_ngcontent-%COMP%]{color:green!important}.pdf-color[_ngcontent-%COMP%]{color:#ff4500!important}.focus-color[_ngcontent-%COMP%]{border-color:var(--main-secoundary-color);outline:0;-webkit-box-shadow:0 0 0 .1rem rgba(199,37,62,.31);box-shadow:0 0 0 .1rem #c7253e4f}.profile-pic[_ngcontent-%COMP%]{height:auto;width:auto;max-height:180px;max-width:180px;border-radius:50%;border:solid 5px var(--main-secoundary-color);margin-right:-17px}.details-input[_ngcontent-%COMP%]{border:none;border-bottom:solid rgba(128,128,128,.1803921569) 1px;border-radius:0}.details-input[_ngcontent-%COMP%]:disabled{background-color:transparent!important}.details-input[_ngcontent-%COMP%]:focus{border-bottom:none;border-radius:1em;outline:0!important;-webkit-box-shadow:0 0 0 .1rem rgba(199,37,62,.31)!important;box-shadow:0 0 0 .1rem #c7253e4f!important}textarea[_ngcontent-%COMP%]{resize:none}@media (max-width: 776px){.profile-pic[_ngcontent-%COMP%]{margin-top:20px;max-height:120px;max-width:120px;border:solid 3px var(--main-secoundary-color)}}']});let e=n;return e})();var vo=[{label:"Paid",value:!0},{label:"Unpaid",value:!1}],Qd=[{label:"In progress",value:!1},{label:"Shipped",value:!0}],Xd=[{formControlName:"clientName",type:"text",placeholder:"Enter client name",styles:{},id:"client-name",label:"Client Name",requiredMessage:"Client name is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:1,disabledOnEditMode:!0},{formControlName:"clientPhone",type:"text",placeholder:"Enter client phone number",styles:{},id:"client-phone",label:"Client Phone",requiredMessage:"Client phone number is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:2,disabledOnEditMode:!0},{formControlName:"address",type:"text",placeholder:"Enter address",styles:{},id:"client-address",label:"Address",requiredMessage:"Address is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:3,disabledOnEditMode:!0},{formControlName:"wilaya",type:"text",placeholder:"Enter wilaya",styles:{},id:"client-wilaya",label:"Wilaya",requiredMessage:"Wilaya is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:4,disabledOnEditMode:!0},{formControlName:"date",type:"date",placeholder:"Select order date",styles:{},id:"order-date",label:"Order Date",requiredMessage:"Order date is required",required:!0,inputMask:et(new Date().toISOString().split("T")[0],""),options:[],min:"",max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:5,disabledOnEditMode:!0},{formControlName:"products",type:"multi-select",placeholder:"Select products",styles:{},id:"order-products",label:"Products",requiredMessage:"At least one product is required",required:!0,options:[],inputMask:null,min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!1,order:6,disabledOnEditMode:!0},{formControlName:"total",type:"text",placeholder:"Enter total amount",styles:{},id:"order-total",label:"Total Amount",requiredMessage:"Total amount is required",required:!0,inputMask:St(0,void 0,"DA",2),options:[],min:0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"DA",rendered:!0,renderedOnEditMode:!1,order:7,disabledOnEditMode:!0},{formControlName:"paymentStatus",type:"checkbox",placeholder:"",styles:{"margin-top":"20px","margin-left":"5px"},id:"payment-status",label:"Payment Status",requiredMessage:"Payment status is required",required:!0,options:[],inputMask:null,min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:8,disabledOnEditMode:!1},{formControlName:"orderStatus",type:"checkbox",placeholder:"",styles:{"margin-top":"20px","margin-left":"5px"},id:"order-status",label:"Order Status",requiredMessage:"Order status is required",required:!0,options:[{label:"Delivered",value:"Delivered"},{label:"Processing",value:"Processing"},{label:"Shipped",value:"Shipped"},{label:"Cancelled",value:"Cancelled"}],inputMask:null,min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:9,disabledOnEditMode:!1},{formControlName:"createdAt",type:"date",placeholder:"Select creation date",styles:{},id:"order-created-at",label:"Created At",requiredMessage:"",required:!1,inputMask:et(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:10,disabledOnEditMode:!0},{formControlName:"createdBy",type:"text",placeholder:"",styles:{},id:"order-created-by",label:"Created By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:11,disabledOnEditMode:!0},{formControlName:"updatedAt",type:"date",placeholder:"Select last update date",styles:{},id:"order-updated-at",label:"Updated At",requiredMessage:"",required:!1,inputMask:et(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:12,disabledOnEditMode:!1},{formControlName:"updatedBy",type:"text",placeholder:"",styles:{},id:"order-updated-by",label:"Updated By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:13,disabledOnEditMode:!0}];var Yd=[{col:"date",name:"Order Date",sortable:!0,filterable:!0,type:"date"},{col:"clientName",name:"Client Name",sortable:!0,filterable:!0,type:"text"},{col:"clientPhone",name:"Client Phone",sortable:!0,filterable:!0,type:"text"},{col:"total",name:"Total Amount",sortable:!0,filterable:!0,type:"numeric"},{col:"orderStatus",name:"Order Status",sortable:!1,filterable:!1,type:"boolean"},{col:"paymentStatus",name:"Payment Status",sortable:!1,filterable:!1,type:"boolean"}];function qb(e,n){if(e&1&&(S(0,"div",6)(1,"div",9)(2,"div",10),me(3,"img",11),S(4,"span",12),oe(5),E()(),S(6,"span",13),oe(7),E(),S(8,"span",13),oe(9),E()()()),e&2){let t=n.$implicit,r=U();F(3),ct("src",r.applicationService.filterList(r.products,"id",t.productId).imagesUrls[0]||"",kt),F(2),Ye(r.applicationService.filterList(r.products,"id",t.productId).productName),F(2),Ye(r.applicationService.filterList(r.products,"id",t.productId).price),F(2),Ue("(x",t.quantity,")")}}var Kd=(()=>{let n=class n{constructor(r,i,o){this.crudService=r,this.productsCrudService=i,this.applicationService=o,this.selectedOrder={},this.filters={},this.orderFormFields=Xd,this.orderColumns=Yd,this.Number=Number,this.paymentOptions=vo,this.orderOptions=Qd}ngOnInit(){return ve(this,null,function*(){yield this.findProducts(),yield this.findOrders()})}findOrders(){return new Promise((r,i)=>{this.crudService.getItemsList(Se.ORDERS).subscribe({next:o=>{this.orders=o,this.allOrders=this.orders,console.log("orders.........."),console.log(o),r()},error:o=>{i(o)}})})}onSelectOrder(r){this.selectedOrder=r,console.log("selected product"),console.log(this.selectedOrder)}createOrder(r){this.crudService.createItem(Se.ORDERS,r),this.applicationService.showSuccessfulSaveDialog("Order Creation","success","Orders created successfully")}updateOrder(r){let i=r.id,o=r.data;this.crudService.updateItem(Se.ORDERS,i,o).then(a=>this.applicationService.showSuccessfulSaveDialog("Update Order","success","Order Updated successfully")),this.genericCrudComponent.closeRight()}deleteOrder(r){this.crudService.deleteItem(Se.ORDERS,r).then(i=>console.log("order deleted successfully"))}printGoogleSheet(r){this.applicationService.downloadExcel(r)}findProducts(){return ve(this,null,function*(){return new Promise((r,i)=>{this.productsCrudService.getItemsList(Se.PRODUCTS).subscribe({next:o=>{this.products=o,console.log("products.........."),console.log(this.products),this.orderFormFields.map(a=>{let s;a.formControlName=="products"&&(s=a,s.options=this.products,this.orderFormFields=[...this.orderFormFields])}),r()},error:o=>{i(o)}})})})}filterListOrders(r,i){i!=null?this.filters[r]=i.value:this.filters[r]=null,this.orders=this.allOrders.filter(o=>Object.keys(this.filters).every(a=>this.filters[a]==null||o[a]==this.filters[a])),this.crudService.totalRowsSubject.next(this.orders.length)}};n.\u0275fac=function(i){return new(i||n)(_e(Be),_e(Be),_e(Ve))},n.\u0275cmp=Te({type:n,selectors:[["app-orders"]],viewQuery:function(i,o){if(i&1&&Fe(Ke,5),i&2){let a;Le(a=Ne())&&(o.genericCrudComponent=a.first)}},standalone:!0,features:[Ae],decls:14,vars:14,consts:[[3,"showDetails","save","edit","delete","showAdd","data","fields","title","sortField","columns"],["crud-utilities","",1,"d-flex","align-center","justify-content-between"],["bindLabel","label",1,"mr-5",2,"width","200px",3,"selectOption","options","placeholder","selectedOption"],["icon","ri-file-excel-2-line","bgColor","#1e6649","color","#fff","hoverColor","#043b25",1,"mr-5",3,"handleClick","iconBtn"],["details-data","",1,"w-100"],[1,"main-background-color","p-10"],[1,"card","background-color"],[1,"card","primary-background-color","text-align-right"],[1,"m-0","white-text"],[1,"d-flex","align-center","justify-content-between"],[1,"d-flex","align-center","justify-start"],["height","35",3,"src"],[1,"font-color-text"],[1,"green-text"]],template:function(i,o){i&1&&(S(0,"app-generic-crud",0),se("showDetails",function(s){return o.onSelectOrder(s)})("save",function(s){return o.createOrder(s)})("edit",function(s){return o.updateOrder(s)})("delete",function(s){return o.deleteOrder(s)}),S(1,"div",1)(2,"app-generic-drop-down",2),se("selectOption",function(s){return o.filterListOrders("paymentStatus",s)}),E(),S(3,"app-generic-drop-down",2),se("selectOption",function(s){return o.filterListOrders("orderStatus",s)}),E(),S(4,"app-button",3),se("handleClick",function(){return o.printGoogleSheet(o.orders)}),E()(),S(5,"div",4)(6,"div",5),We(7,qb,10,4,"div",6,He),S(9,"div",7)(10,"h3",8),oe(11,"Total Amount : "),S(12,"b"),oe(13),E()()()()()()),i&2&&(te("showAdd",!1)("data",o.orders)("fields",o.orderFormFields)("title","Order")("sortField","id")("columns",o.orderColumns),F(2),te("options",o.paymentOptions)("placeholder","Payment status")("selectedOption",o.paymentOptions[0]),F(),te("options",o.orderOptions)("placeholder","Order status")("selectedOption",o.orderOptions[0]),F(),te("iconBtn",!0),F(3),$e(o.selectedOrder.products),F(6),Ue("",o.selectedOrder.total," DA "))},dependencies:[Ke,mt,Zt]});let e=n;return e})();var Jd=[{col:"email",name:"Email",sortable:!0,filterable:!0,type:"text"},{col:"firstName",name:"First Name",sortable:!0,filterable:!0,type:"text"},{col:"lastName",name:"Last Name",sortable:!0,filterable:!0,type:"text"},{col:"role",name:"Role",sortable:!1,filterable:!1,type:"select",listSource:[],fieldSource:"id",labelSource:"name"},{col:"isActive",name:"Status",sortable:!0,filterable:!0,type:"boolean"}],Zd=[{formControlName:"email",type:"text",placeholder:"Enter email address",styles:{},id:"email",label:"Email",requiredMessage:"Valid email is required",required:!0,inputMask:Pi,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:2,disabledOnEditMode:!0},{formControlName:"password",type:"password",placeholder:"Enter password",styles:{},id:"password",label:"Password",requiredMessage:"Password is required",required:!0,inputMask:null,options:[],min:6,max:20,firstInput:null,secondInput:null,mode:"password",depend:null,unite:"",rendered:!0,renderedOnEditMode:!1,order:3,disabledOnEditMode:!0,controls:new Map([[Kt.required,"Password is required"],[Kt.pattern(_s)," Password must be Strong (ex :AZERTY&#64;123)"]])},{formControlName:"firstName",type:"text",placeholder:"Enter first name",styles:{},id:"first-name",label:"First Name",requiredMessage:"First name is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:4,disabledOnEditMode:!1},{formControlName:"lastName",type:"text",placeholder:"Enter last name",styles:{},id:"last-name",label:"Last Name",requiredMessage:"Last name is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:5,disabledOnEditMode:!1},{formControlName:"role",type:"select",placeholder:"Select role",styles:{},id:"user-role",label:"Role",requiredMessage:"Role is required",required:!1,options:[],bindLabel:"name",bindValue:"id",inputMask:null,min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:6,disabledOnEditMode:!1},{formControlName:"isActive",type:"checkbox",placeholder:"",styles:{"margin-top":"20px","margin-left":"5px"},id:"is-active",label:"Is Active",requiredMessage:"",required:!1,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:7,disabledOnEditMode:!1},{formControlName:"createdAt",type:"date",placeholder:"Select creation date",styles:{},id:"created-at",label:"Created At",requiredMessage:"",required:!1,inputMask:et(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:9,disabledOnEditMode:!0},{formControlName:"updatedAt",type:"date",placeholder:"Select last update date",styles:{},id:"updated-at",label:"Updated At",requiredMessage:"",required:!1,inputMask:et(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:10,disabledOnEditMode:!0},{formControlName:"profileColor",type:"text",placeholder:"",styles:{},id:"profile-color",label:"",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:11,disabledOnEditMode:!0}];function zb(e,n){if(e&1&&(S(0,"div",1)(1,"div",2)(2,"div",3)(3,"span"),oe(4),E()()()()),e&2){let t=U();F(2),ht("height",120,"px")("width",120,"px")("background-color",t.selectedUser&&t.selectedUser.profileColor?t.selectedUser.profileColor:"var(--main-primary-color"),F(2),Ye(t.selectedUser&&t.selectedUser.firstName.substring(0,1).toUpperCase())}}var ef=(()=>{let n=class n{constructor(r,i,o,a){this.crudService=r,this.rolesService=i,this.afAuth=o,this.applicationService=a,this.userColumns=Jd,this.userFormFields=Zd,this.dbPath=Se.USERS,this.rolesDbPath=Se.ROLES,this.roles=[],this.Object=Object}ngOnInit(){return ve(this,null,function*(){try{yield this.findUsers()}catch(r){console.error("Error fetching users:",r)}try{yield this.findRoles()}catch(r){console.error("Error fetching roles:",r)}})}onSelectUser(r){this.selectedUser=r}findUsers(){return ve(this,null,function*(){return new Promise((r,i)=>{this.crudService.getItemsList(this.dbPath).subscribe({next:o=>{this.users=o,console.log("users.........."),console.log(o),r()},error:o=>{i(o)}})})})}findRoles(){return ve(this,null,function*(){return new Promise((r,i)=>{this.rolesService.getItemsList(this.rolesDbPath).subscribe({next:o=>{this.roles=o,this.userFormFields.map(a=>{let s;a.formControlName=="role"&&(s=a,s.options=this.roles,this.userFormFields=[...this.userFormFields])}),this.userColumns.map(a=>{let s;a.col=="role"&&(s=a,s.listSource=this.roles,this.userColumns=[...this.userColumns])}),r()},error:o=>{i(o)}})})})}createUser(r){return ve(this,null,function*(){Jl(this.afAuth.createUserWithEmailAndPassword(r.email,r.password)).subscribe(i=>ve(this,null,function*(){let o=i.user;o&&(r.uid=o.uid,r.email=o.email,r.password=yield this.applicationService.hashPassword(r.password),r.profileColor=this.applicationService.setRandomColor(),this.crudService.createItem(this.dbPath,r),yield o.sendEmailVerification(),this.applicationService.showSuccessfulSaveDialog("User creation","success","User created successfully"))}),i=>{this.applicationService.showSuccessfulSaveDialog("User exist","error","An error has been happen  , please contact the Admin")})})}updateUser(r){let i=r.id,o=r.data;this.crudService.updateItem(this.dbPath,i,o).then(a=>this.applicationService.showSuccessfulSaveDialog("Update User","success","User Updated successfully")),this.genericCrudComponent.closeRight()}deleteUser(r){return ve(this,null,function*(){let i;this.crudService.getItemBy_(r,r,this.dbPath).subscribe(o=>{i=o.uid,this.crudService.deleteItem(this.dbPath,r).then(a=>{console.log("user deleted successfully")})})})}deleteAllUsers(){this.crudService.deleteAll(this.dbPath).then(r=>console.log("users deleted successfully"))}};n.\u0275fac=function(i){return new(i||n)(_e(Be),_e(Be),_e(Ti),_e(Ve))},n.\u0275cmp=Te({type:n,selectors:[["app-users"]],viewQuery:function(i,o){if(i&1&&Fe(Ke,5),i&2){let a;Le(a=Ne())&&(o.genericCrudComponent=a.first)}},standalone:!0,features:[Ae],decls:2,vars:6,consts:[[3,"showDetails","save","edit","delete","deleteAll","data","fields","title","sortField","columns"],["details-data","",1,"w-100"],[1,"user"],[1,"blank-user"]],template:function(i,o){i&1&&(S(0,"app-generic-crud",0),se("showDetails",function(s){return o.onSelectUser(s)})("save",function(s){return o.createUser(s)})("edit",function(s){return o.updateUser(s)})("delete",function(s){return o.deleteUser(s)})("deleteAll",function(){return o.deleteAllUsers()}),xe(1,zb,5,7,"div",1),E()),i&2&&(te("data",o.users)("fields",o.userFormFields)("title","User")("sortField","name")("columns",o.userColumns),F(),Pe(o.selectedUser?1:-1))},dependencies:[Ke,wt],styles:[".user[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:90px;width:90px;border-radius:50%;border:solid 3px var(--main-primary-color)}.user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:var(--font-color)}.user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:14px;font-weight:400}"]});let e=n;return e})();var tf=[{label:"Read",value:"read"},{label:"Write",value:"write"},{label:"Delete",value:"delete"},{label:"Update",value:"update"}],yo=[{col:"name",name:"Role Name",sortable:!0,filterable:!0,type:"text"},{col:"description",name:"Description",sortable:!1,filterable:!1,type:"text"},{col:"permissions",name:"Permissions",sortable:!1,filterable:!1,type:"tags",listSource:tf,fieldSource:"value",labelSource:"label"}],bo=[{formControlName:"name",type:"text",placeholder:"Enter role name",styles:{},id:"role-name",label:"Role Name",requiredMessage:"Role name is required",required:!0,inputMask:null,options:[],min:3,max:50,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:1,disabledOnEditMode:!1},{formControlName:"description",type:"textarea",placeholder:"Enter role description",styles:{},id:"role-description",label:"Description",requiredMessage:"",required:!1,inputMask:null,options:[],min:void 0,max:500,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:2,disabledOnEditMode:!1},{formControlName:"permissions",type:"multi-select",placeholder:"Select permissions",styles:{},id:"role-permissions",label:"Permissions",requiredMessage:"At least one permission must be selected",required:!0,inputMask:null,options:tf,bindLabel:"label",bindValue:"value",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:3,disabledOnEditMode:!1},{formControlName:"createdAt",type:"date",placeholder:"Select creation date",styles:{},id:"role-created-at",label:"Created At",requiredMessage:"",required:!1,inputMask:et(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:4,disabledOnEditMode:!0},{formControlName:"updatedAt",type:"date",placeholder:"Select last update date",styles:{},id:"role-updated-at",label:"Updated At",requiredMessage:"",required:!1,inputMask:et(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:5,disabledOnEditMode:!0}];var nf=(()=>{let n=class n{constructor(r,i){this.crudService=r,this.applicationService=i,this.dbPath=Se.ROLES,this.roleColumns=yo,this.roleFormFields=bo,this.selectedRole={}}ngOnInit(){return ve(this,null,function*(){yield this.findRoles()})}findRoles(){return new Promise((r,i)=>{this.crudService.getItemsList(this.dbPath).subscribe({next:o=>{this.roles=o,console.log("products.........."),console.log(o),r()},error:o=>{i(o)}})})}onSelectRole(r){this.selectedRole=r}createRole(r){this.crudService.createItem(this.dbPath,r),this.applicationService.showSuccessfulSaveDialog("role created successfully","success","#cce5cc")}updateRole(r){let i=r.id,o=r.data;this.crudService.updateItem(this.dbPath,i,o).then(a=>this.applicationService.showSuccessfulSaveDialog("Update Role","success","Role Updated successfully")),this.genericCrudComponent.closeRight()}deleteRole(r){this.crudService.deleteItem(this.dbPath,r).then(i=>console.log("role deleted successfully"))}};n.\u0275fac=function(i){return new(i||n)(_e(Be),_e(Ve))},n.\u0275cmp=Te({type:n,selectors:[["app-rols"]],viewQuery:function(i,o){if(i&1&&Fe(Ke,5),i&2){let a;Le(a=Ne())&&(o.genericCrudComponent=a.first)}},standalone:!0,features:[Ae],decls:1,vars:5,consts:[[3,"showDetails","save","edit","delete","data","fields","title","sortField","columns"]],template:function(i,o){i&1&&(S(0,"app-generic-crud",0),se("showDetails",function(s){return o.onSelectRole(s)})("save",function(s){return o.createRole(s)})("edit",function(s){return o.updateRole(s)})("delete",function(s){return o.deleteRole(s)}),E()),i&2&&te("data",o.roles)("fields",o.roleFormFields)("title","Role")("sortField","name")("columns",o.roleColumns)},dependencies:[Ke]});let e=n;return e})();var rf=[{col:"tagName",name:"Tag Name",sortable:!0,filterable:!0,type:"text"},{col:"tagDescription",name:"Description",sortable:!1,filterable:!1,type:"textarea"},{col:"createdAt",name:"Created At",sortable:!0,filterable:!0,type:"date"},{col:"createdBy",name:"Created By",sortable:!1,filterable:!1,type:"text"}],of=[{formControlName:"tagName",type:"text",placeholder:"Enter tag name",styles:{},id:"tag-name",label:"Tag Name",requiredMessage:"Tag name is required",required:!0,inputMask:null,options:[],min:3,max:50,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:1,disabledOnEditMode:!1},{formControlName:"tagDescription",type:"textarea",placeholder:"Enter tag description",styles:{},id:"tag-description",label:"Description",requiredMessage:"",required:!1,inputMask:null,options:[],min:3,max:500,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:3,disabledOnEditMode:!1},{formControlName:"createdAt",type:"date",placeholder:"Select creation date",styles:{},id:"product-created-at",label:"Created At",requiredMessage:"",required:!1,inputMask:et(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:4,disabledOnEditMode:!0},{formControlName:"createdBy",type:"text",placeholder:"",styles:{},id:"product-created-by",label:"Created By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:5,disabledOnEditMode:!0},{formControlName:"updatedAt",type:"date",placeholder:"Select last update date",styles:{},id:"tag-updated-at",label:"Updated At",requiredMessage:"",required:!1,inputMask:et(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:6,disabledOnEditMode:!0},{formControlName:"updatedBy",type:"text",placeholder:"",styles:{},id:"product-updated-by",label:"Updated By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:7,disabledOnEditMode:!0}];var af=(()=>{let n=class n{constructor(r,i){this.crudService=r,this.applicationService=i,this.dbPath=Se.TAGS,this.tagColumns=rf,this.tagFormFields=of,this.selectedTag={},this.roleFormFields=bo,this.roleColumns=yo}ngOnInit(){return ve(this,null,function*(){yield this.findTags()})}findTags(){return new Promise((r,i)=>{this.crudService.getItemsList(this.dbPath).subscribe({next:o=>{this.tags=o,r()},error:o=>{i(o)}})})}onSelectTag(r){this.selectedTag=r}createTag(r){this.crudService.createItem(this.dbPath,r),this.applicationService.showSuccessfulSaveDialog("Creation Tag","success","Tag created successfully")}updateTag(r){let i=r.id,o=r.data;this.crudService.updateItem(this.dbPath,i,o).then(a=>this.applicationService.showSuccessfulSaveDialog("Update tag","success","Tag Updated successfully")),this.genericCrudComponent.closeRight()}deleteTag(r){this.crudService.deleteItem(this.dbPath,r).then(i=>console.log("Tag deleted successfully"))}};n.\u0275fac=function(i){return new(i||n)(_e(Be),_e(Ve))},n.\u0275cmp=Te({type:n,selectors:[["app-tags"]],viewQuery:function(i,o){if(i&1&&Fe(Ke,5),i&2){let a;Le(a=Ne())&&(o.genericCrudComponent=a.first)}},standalone:!0,features:[Ae],decls:1,vars:5,consts:[[3,"showDetails","save","edit","delete","data","fields","title","sortField","columns"]],template:function(i,o){i&1&&(S(0,"app-generic-crud",0),se("showDetails",function(s){return o.onSelectTag(s)})("save",function(s){return o.createTag(s)})("edit",function(s){return o.updateTag(s)})("delete",function(s){return o.deleteTag(s)}),E()),i&2&&te("data",o.tags)("fields",o.tagFormFields)("title","Tag")("sortField","name")("columns",o.tagColumns)},dependencies:[Ke]});let e=n;return e})();var lf=[{col:"reviewerName",name:"Reviewer Name",sortable:!0,filterable:!0,type:"text"},{col:"reviewText",name:"Review Text",sortable:!1,filterable:!1,type:"textarea"},{col:"rating",name:"Rating",sortable:!0,filterable:!1,type:"rating"},{col:"associatedProduct",name:"Associated Product",sortable:!1,filterable:!1,type:"select",listSource:[],fieldSource:"id",labelSource:"productName"},{col:"status",name:"Status",sortable:!1,filterable:!1,type:"boolean"}],sf=[{formControlName:"reviewerName",type:"text",placeholder:"Enter reviewer name",styles:{},id:"reviewer-name",label:"Reviewer Name",requiredMessage:"Reviewer name is required",required:!0,inputMask:null,options:[],min:3,max:50,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:1,disabledOnEditMode:!1},{formControlName:"reviewText",type:"textarea",placeholder:"Enter review",styles:{},id:"review-text",label:"Review Text",requiredMessage:"Review text is required",required:!0,inputMask:null,options:[],min:void 0,max:1e3,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:2,disabledOnEditMode:!1},{formControlName:"rating",type:"text",placeholder:"Enter rating (1-5)",styles:{},id:"review-rating",label:"Rating",requiredMessage:"Rating is required",required:!0,inputMask:St(0,5,"",0),options:[],min:1,max:5,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:3,disabledOnEditMode:!1},{formControlName:"associatedProduct",type:"select",placeholder:"Enter associated product",styles:{},id:"associated-product",label:"Associated Product",requiredMessage:"Associated product is required",required:!0,inputMask:null,options:[],bindLabel:"productName",bindValue:"id",min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:4,disabledOnEditMode:!1},{formControlName:"status",type:"checkbox",placeholder:"Select status",styles:{},id:"review-status",label:"Status",requiredMessage:"Status is required",required:!0,inputMask:null,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:5,disabledOnEditMode:!1},{formControlName:"createdAt",type:"date",placeholder:"Select creation date",styles:{},id:"product-created-at",label:"Created At",requiredMessage:"",required:!1,inputMask:et(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:6,disabledOnEditMode:!0},{formControlName:"createdBy",type:"text",placeholder:"",styles:{},id:"product-created-by",label:"Created By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:7,disabledOnEditMode:!0},{formControlName:"updatedAt",type:"date",placeholder:"Select last update date",styles:{},id:"tag-updated-at",label:"Updated At",requiredMessage:"",required:!1,inputMask:et(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:8,disabledOnEditMode:!1},{formControlName:"updatedBy",type:"text",placeholder:"",styles:{},id:"product-updated-by",label:"Updated By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:9,disabledOnEditMode:!0}];var cf=(()=>{let n=class n{constructor(r,i,o){this.crudService=r,this.productCrudService=i,this.applicationService=o,this.dbPath=Se.REVIEWS,this.reviewColumns=lf,this.reviewFormFields=sf,this.filters={},this.selectedReview={},this.products=[],this.selectedOption={},this.paymentOptions=vo}ngOnInit(){return ve(this,null,function*(){yield this.findReviews(),yield this.findProducts()})}findReviews(){return new Promise((r,i)=>{this.crudService.getItemsList(Se.REVIEWS).subscribe({next:o=>{this.reviews=o,this.allReviews=this.reviews,r()},error:o=>{i(o)}})})}findProducts(){return ve(this,null,function*(){return new Promise((r,i)=>{this.productCrudService.getItemsList(Se.PRODUCTS).subscribe({next:o=>{this.products=o,this.reviewFormFields.map(a=>{let s;a.formControlName=="associatedProduct"&&(s=a,s.options=this.products,this.reviewFormFields=[...this.reviewFormFields],console.log("field........;;"),console.log(this.reviewFormFields))}),this.reviewColumns.map(a=>{let s;a.col=="associatedProduct"&&(s=a,s.listSource=this.products,this.reviewColumns=[...this.reviewColumns],console.log("review collll........"),console.log(this.reviewColumns))}),r()},error:o=>{i(o)}})})})}onSelectReview(r){this.selectedReview=r}createReview(r){r.rating=+r.rating.trim(),this.crudService.createItem(Se.REVIEWS,r),this.applicationService.showSuccessfulSaveDialog("Review created successfully","success","#cce5cc")}updateReview(r){let i=r.id,o=r.data;this.crudService.updateItem(Se.REVIEWS,i,o).then(a=>this.applicationService.showSuccessfulSaveDialog("Update Review","success","Review Updated successfully")),this.genericCrudComponent.closeRight()}deleteReview(r){this.crudService.deleteItem(Se.REVIEWS,r).then(i=>console.log("Review deleted successfully"))}filterListReviews(r,i){i!=null?this.filters[r]=i.id:this.filters[r]=null,this.reviews=this.allReviews.filter(o=>Object.keys(this.filters).every(a=>this.filters[a]==null||o[a]==this.filters[a])),this.crudService.totalRowsSubject.next(this.reviews.length)}};n.\u0275fac=function(i){return new(i||n)(_e(Be),_e(Be),_e(Ve))},n.\u0275cmp=Te({type:n,selectors:[["app-reviews"]],viewQuery:function(i,o){if(i&1&&Fe(Ke,5),i&2){let a;Le(a=Ne())&&(o.genericCrudComponent=a.first)}},standalone:!0,features:[Ae],decls:3,vars:9,consts:[[3,"showDetails","save","edit","delete","data","fields","title","sortField","columns","showAdd"],["crud-utilities","",1,"d-flex","align-center","justify-content-between"],["bindLabel","productName",1,"mr-5",2,"width","200px",3,"selectOption","options","placeholder","selectedOption"]],template:function(i,o){i&1&&(S(0,"app-generic-crud",0),se("showDetails",function(s){return o.onSelectReview(s)})("save",function(s){return o.createReview(s)})("edit",function(s){return o.updateReview(s)})("delete",function(s){return o.deleteReview(s)}),S(1,"div",1)(2,"app-generic-drop-down",2),se("selectOption",function(s){return o.filterListReviews("associatedProduct",s)}),E()()()),i&2&&(te("data",o.reviews)("fields",o.reviewFormFields)("title","Review")("sortField","name")("columns",o.reviewColumns)("showAdd",!0),F(2),te("options",o.products)("placeholder","product")("selectedOption",o.products[0]))},dependencies:[Ke,Zt]});let e=n;return e})();var uf=[{formControlName:"categoryName",type:"text",placeholder:"Enter category name",styles:{},id:"category-name",label:"Category Name",requiredMessage:"Category name is required",required:!0,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:1,disabledOnEditMode:!1},{formControlName:"categoryDescription",type:"textarea",placeholder:"Enter category description",styles:{},id:"category-description",label:"Category Description",requiredMessage:"Description is required",required:!1,inputMask:null,options:[],min:void 0,max:void 0,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:2,disabledOnEditMode:!1},{formControlName:"createdAt",type:"date",placeholder:"Select creation date",styles:{},id:"category-created-at",label:"Created At",requiredMessage:"",required:!1,inputMask:null,options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:3,disabledOnEditMode:!0},{formControlName:"createdBy",type:"text",placeholder:"",styles:{},id:"category-created-by",label:"Created By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:4,disabledOnEditMode:!0},{formControlName:"updatedAt",type:"date",placeholder:"Select last update date",styles:{},id:"category-updated-at",label:"Updated At",requiredMessage:"",required:!1,inputMask:null,options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:5,disabledOnEditMode:!1},{formControlName:"updatedBy",type:"text",placeholder:"",styles:{},id:"category-updated-by",label:"Updated By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:6,disabledOnEditMode:!0}],df=[{col:"categoryName",name:"Category Name",sortable:!0,filterable:!0,type:"text"},{col:"categoryDescription",name:"Description",sortable:!1,filterable:!1,type:"text"},{col:"createdAt",name:"Created At",sortable:!0,filterable:!0,type:"date"},{col:"createdBy",name:"Created By",sortable:!1,filterable:!1,type:"text"},{col:"updatedAt",name:"Updated At",sortable:!0,filterable:!0,type:"date"},{col:"updatedBy",name:"Updated By",sortable:!1,filterable:!1,type:"text"}];var ff=(()=>{let n=class n{constructor(r,i){this.crudService=r,this.applicationService=i,this.columns=df,this.categoryFormFields=uf,this.selectedCategory={},this.Object=Object}ngOnInit(){return ve(this,null,function*(){yield this.findCategories()})}findCategories(){return new Promise((r,i)=>{this.crudService.getItemsList(Se.CATEGORIES).subscribe({next:o=>{this.categories=o,console.log("categories.........."),console.log(o),r()},error:o=>{i(o)}})})}createCategory(r){r=r,console.log("emitted value for category creation"),console.log(r),this.crudService.createItem(Se.CATEGORIES,r).then(()=>{this.applicationService.showSuccessfulSaveDialog("Category Creation","success","Category Created successfully"),this.findCategories()})}updateCategory(r){let i=r.id,o=r.data;this.crudService.updateItem(Se.CATEGORIES,i,o).then(()=>{this.applicationService.showSuccessfulSaveDialog("Update Category","success","Category Updated successfully"),this.findCategories()}),this.genericCrudComponent.closeRight()}deleteCategory(r){this.crudService.deleteItem(Se.CATEGORIES,r).then(()=>{console.log("Category deleted successfully"),this.findCategories()})}onSelectCategory(r){this.selectedCategory=r,console.log("selected category"),console.log(this.selectedCategory)}};n.\u0275fac=function(i){return new(i||n)(_e(Be),_e(Ve))},n.\u0275cmp=Te({type:n,selectors:[["app-categories"]],viewQuery:function(i,o){if(i&1&&Fe(Ke,5),i&2){let a;Le(a=Ne())&&(o.genericCrudComponent=a.first)}},standalone:!0,features:[Ae],decls:1,vars:6,consts:[[3,"showDetails","save","edit","delete","data","fields","title","sortField","columns","showAdd"]],template:function(i,o){i&1&&(S(0,"app-generic-crud",0),se("showDetails",function(s){return o.onSelectCategory(s)})("save",function(s){return o.createCategory(s)})("edit",function(s){return o.updateCategory(s)})("delete",function(s){return o.deleteCategory(s)}),E()),i&2&&te("data",o.categories)("fields",o.categoryFormFields)("title","Category")("sortField","createdAt")("columns",o.columns)("showAdd",!0)},dependencies:[Lt,qn,Ot,Ke,wt],styles:['@font-face{font-family:Ubuntu;src:url("./media/Ubuntu-Regular-P57X6VB5.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:Ubuntu;src:url("./media/Ubuntu-Regular-P57X6VB5.ttf") format("truetype");font-weight:400;font-style:normal}[_ngcontent-%COMP%]:root{--bg-color: #ffffff;--font-color: #000000;--hover-font-color: #000000;--input-border-color: rgba(128, 128, 128, .44);--main-bg-color: #f2f2f2;--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: #E8476057;--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(27, 31, 35, .15);--footer-color:#000;--box-shadow: $box-shadow}[data-theme=dark][_ngcontent-%COMP%]{--bg-color: #161625;--font-color: #ffffff;--hover-font-color: #000000;--input-border-color: #E8476057;--main-bg-color: rgb(14, 14, 27);--main-primary-color: #C7253E;--main-secoundary-color: #f9e9eb;--focus-border-color: rgba(255, 255, 255, .16);--btn-bg-color:#C7253E;--btn-color:#ffffff;--btn-hover-color:#8b192b;--card-footer-border-color:rgba(60, 64, 68, .78);--footer-color:#fff;--box-shadow: $box-shadow}[_ngcontent-%COMP%]:dir(ltr){font-family:Ubuntu,sans-serif;--small-font-size: 11px;--normal-font-size: 14px;--medium-font-size: 18px;--big-font-size: 21px}[_ngcontent-%COMP%]:dir(rtl){font-family:Ubuntu,sans-serif;--small-font-size: 13px;--normal-font-size: 16px;--medium-font-size: 20px;--big-font-size: 23px}.excel-color[_ngcontent-%COMP%]{color:green!important}.pdf-color[_ngcontent-%COMP%]{color:#ff4500!important}.focus-color[_ngcontent-%COMP%]{border-color:var(--main-secoundary-color);outline:0;-webkit-box-shadow:0 0 0 .1rem rgba(199,37,62,.31);box-shadow:0 0 0 .1rem #c7253e4f}.user[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:100px;border-radius:1em;box-shadow:#0000003d 0 3px 8px}.user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:var(--font-color)}.user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:14px;font-weight:400}.dental-anatomy[_ngcontent-%COMP%]{margin-top:10px}.dental-anatomy[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:230px;margin-bottom:10px}.history[_ngcontent-%COMP%]{margin:0 20px;height:180px;max-height:180px;overflow-y:scroll;padding:0 0 13px}.history-title[_ngcontent-%COMP%]{margin-bottom:20px;color:var(--font-color);font-weight:600;font-size:17px;position:sticky;top:0;z-index:2;background-color:var(--bg-color);width:100%;text-align:center}.history-data[_ngcontent-%COMP%]{margin-bottom:10px;text-align:left}.history-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color);font-weight:600;font-size:10px}.utilities[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;align-items:center}.utilities[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--font-color);font-weight:700;margin:0;font-size:20px}.utilities[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .utilities[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color)}.data[_ngcontent-%COMP%]{display:flex;flex-direction:column}.data-header[_ngcontent-%COMP%]{box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;border-radius:.5em;margin-bottom:20px;padding:.3em 1em;background-color:var(--bg-color);color:var(--font-color);height:auto}.data-header[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{height:30px;margin-bottom:5px}.data-body[_ngcontent-%COMP%]{max-height:500px;height:auto;padding:9px 0}.data-body-card[_ngcontent-%COMP%]{box-shadow:#0000001a 0 0 5px,#0000001a 0 0 1px;border-radius:.5em;margin-bottom:20px;padding:.3em 1em;background-color:var(--bg-color);color:var(--font-color);height:70px;border-left:solid 10px var(--main-primary-color)}.data-body-card-infos[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.data-body-card-infos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;border:solid 1px var(--font-color)}.data-body-card-infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.data-body-card-infos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:700;font-size:12px}']});let e=n;return e})();var pf=[{col:"flashSaleName",name:"Name",sortable:!0,filterable:!0,type:"text"},{col:"flashSaleContent",name:"Content",sortable:!1,filterable:!1,type:"text"},{col:"mediaType",name:"Media Type",sortable:!1,filterable:!0,type:"text"},{col:"flashSaleStatus",name:"Status",sortable:!1,filterable:!1,type:"boolean"}],hf=[{formControlName:"flashSaleName",type:"text",placeholder:"Enter flash sale name",styles:{},id:"flash-sale-name",label:"Flash Sale Name",requiredMessage:"Flash sale name is required",required:!0,inputMask:null,options:[],min:3,max:50,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:1,disabledOnEditMode:!1},{formControlName:"flashSaleContent",type:"text",placeholder:"Enter flash sale Content",styles:{},id:"flash-sale-description",label:"Description",requiredMessage:"",required:!1,inputMask:null,options:[],min:3,max:500,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:2,disabledOnEditMode:!1},{formControlName:"mediaType",type:"select",placeholder:"Select media type",styles:{},id:"flash-sale-media-type",label:"Media Type",requiredMessage:"Media type is required",required:!0,inputMask:null,options:[{label:"Photo",value:"photo"},{label:"Video",value:"video"}],bindLabel:"label",bindValue:"value",min:null,max:null,firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:3,disabledOnEditMode:!0},{formControlName:"flashSaleStatus",type:"checkbox",placeholder:"",styles:{},id:"flash-sale-status",label:"Status",requiredMessage:"",required:!0,inputMask:"",options:[],min:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!0,renderedOnEditMode:!0,order:3,disabledOnEditMode:!1},{formControlName:"createdAt",type:"date",placeholder:"Select creation date",styles:{},id:"flash-sale-created-at",label:"Created At",requiredMessage:"",required:!1,inputMask:et(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:6,disabledOnEditMode:!0},{formControlName:"createdBy",type:"text",placeholder:"",styles:{},id:"flash-sale-created-by",label:"Created By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!1,order:7,disabledOnEditMode:!0},{formControlName:"updatedAt",type:"date",placeholder:"Select last update date",styles:{},id:"flash-sale-updated-at",label:"Updated At",requiredMessage:"",required:!1,inputMask:et(new Date().toISOString().split("T")[0],""),options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:8,disabledOnEditMode:!0},{formControlName:"updatedBy",type:"text",placeholder:"",styles:{},id:"flash-sale-updated-by",label:"Updated By",requiredMessage:"",required:!1,inputMask:"",options:[],min:void 0,max:"",firstInput:null,secondInput:null,mode:null,depend:null,unite:"",rendered:!1,renderedOnEditMode:!0,order:9,disabledOnEditMode:!0}];function Vb(e,n){e&1&&me(0,"app-loading-spinner")}function Gb(e,n){e&1&&(S(0,"span",13),oe(1," this field is required "),E())}function Hb(e,n){if(e&1){let t=Re();S(0,"label",17),oe(1,"Video Path :"),E(),S(2,"input",18),se("change",function(i){we(t);let o=U();return Oe(o.onInputVideoPath(i))}),E()}e&2&&(F(2),te("placeholder","enter the video path"))}function Wb(e,n){e&1&&(S(0,"span",13),oe(1," this field is required "),E())}function $b(e,n){if(e&1){let t=Re();S(0,"label",19),oe(1,"Media :"),E(),S(2,"app-custom-file-upload",20),se("filesUpload",function(i){we(t);let o=U();return Oe(o.onInputFiles(i))}),E(),xe(3,Wb,2,0,"span",13)}if(e&2){let t=U();F(3),Pe(t.submitted&&t.listFilesPaths.length==0?3:-1)}}var mf=(()=>{let n=class n{constructor(r,i,o,a){this.crudService=r,this.productsCrudService=i,this.fileService=o,this.applicationService=a,this.dbPath=Se.FLASH_SALES,this.flashSaleColumns=pf,this.flashSaleFormFields=hf,this.mediasMap=new Map,this.listFilesPaths=[],this.selectedFlashSale={},this.showAddMediaDialog=!1,this.allProducts=[],this.loading=!1,this.submitted=!1}ngOnInit(){return ve(this,null,function*(){yield this.findFlashSales(),yield this.findProducts()})}findFlashSales(){return new Promise((r,i)=>{this.crudService.getItemsList(this.dbPath).subscribe({next:o=>{this.flashSales=o,r()},error:o=>{i(o)}})})}onSelectFlashSale(r){this.selectedFlashSale=r}createFlashSale(r){this.crudService.createItem(this.dbPath,r),this.applicationService.showSuccessfulSaveDialog("Creation Flash Sale","success","Flash sale created successfully")}updateFlashSale(r){let i=r.id,o=r.data;this.crudService.updateItem(this.dbPath,i,o).then(()=>this.applicationService.showSuccessfulSaveDialog("Update Flash Sale","success","Flash sale updated successfully")),this.genericCrudComponent.closeRight()}deleteFlashSale(r){this.crudService.deleteItem(this.dbPath,r).then(()=>console.log("Flash sale deleted successfully"))}onShowAddMediaDialog(r){this.showAddMediaDialog=!0,console.log(r)}showElement(r){let i=document.getElementById(r);i&&(i.style.transition="max-height 0.2s ease-in-out ",i.style.maxHeight="200px",i.style.padding="1em")}hideElement(r){let i=document.getElementById(r);i&&(i.style.transition="max-height 0.2s ease-in-out ",i.style.maxHeight="0",i.style.padding="0")}findProducts(){return ve(this,null,function*(){return new Promise((r,i)=>{this.productsCrudService.getItemsList(Se.PRODUCTS).subscribe({next:o=>{this.allProducts=o,r()},error:o=>{i(o)}})})})}onSelectProduct(r){this.selectedProduct=r,console.log(this.mediasMap)}onInputFiles(r){return ve(this,null,function*(){console.log(r),yield this.saveFile(r),console.log(this.mediasMap)})}saveFile(r){return ve(this,null,function*(){this.loading=!0;try{let i=r.map(o=>ve(this,null,function*(){let a=yield this.fileService.uploadFile(o);return new Promise((s,h)=>{a.subscribe(w=>{this.listFilesPaths.push(w),console.log("File uploaded! Download URL:",w),s()},w=>{console.error("File upload failed:",w),h(w)})})}));yield Promise.all(i)}catch(i){console.error("One or more file uploads failed:",i)}finally{this.loading=!1,this.mediasMap.set(this.selectedProduct.id,this.listFilesPaths),this.selectedFlashSale.mediaContent=this.mediasMap}})}onInputVideoPath(r){this.mediasMap.set(this.selectedProduct.id,[...r.target.value]),this.selectedFlashSale.mediaContent=this.mediasMap}setMedia(){if(this.submitted=!0,this.submitted&&this.selectedProduct&&this.listFilesPaths.length>0)this.crudService.updateItem(this.dbPath,this.selectedFlashSale.id,this.selectedFlashSale).then(()=>this.applicationService.showSuccessfulSaveDialog("Update Flash Sale","success","Flash sale updated successfully")),this.submitted=!1,this.showAddMediaDialog=!1;else return}};n.\u0275fac=function(i){return new(i||n)(_e(Be),_e(Be),_e(on),_e(Ve))},n.\u0275cmp=Te({type:n,selectors:[["app-flash-sale"]],viewQuery:function(i,o){if(i&1&&Fe(Ke,5),i&2){let a;Le(a=Ne())&&(o.genericCrudComponent=a.first)}},standalone:!0,features:[Ae],decls:25,vars:16,consts:[[3,"showDetails","save","edit","delete","data","fields","title","sortField","columns"],["more-actions","",1,"ml-5"],["label","add media",3,"handleClick","size"],["height","60vh","width","50%",3,"closeModal","modalId","showModal","showFooter"],["modal-body",""],["ngForm",""],[1,"container"],[1,"row"],[1,"col-lg-6","col-sm-12","col-md-12"],[1,"form-group"],["for","media-type",1,"form-label","font-color-text"],["type","text","readonly","","id","media-type",3,"value"],["dropDownId","products-fs",3,"selectOption","options","bindLabel","bindValue"],[1,"required-message"],[1,"col-lg-12","col-md-12","col-sm-12","form-group"],["modal-footer","",1,"d-flex","align-center","justify-end"],["label","save",3,"handleClick"],[1,"form-label","font-color-text"],["type","text",3,"change","placeholder"],["for","media-type",1,"form-label","font-color-text","mb-10"],[3,"filesUpload"]],template:function(i,o){i&1&&(S(0,"app-generic-crud",0),se("showDetails",function(s){return o.onSelectFlashSale(s)})("save",function(s){return o.createFlashSale(s)})("edit",function(s){return o.updateFlashSale(s)})("delete",function(s){return o.deleteFlashSale(s)}),S(1,"div",1)(2,"app-button",2),se("handleClick",function(){return o.onShowAddMediaDialog(o.selectedFlashSale)}),E()()(),S(3,"app-modal",3),se("closeModal",function(s){return o.showAddMediaDialog=s}),S(4,"div",4),xe(5,Vb,1,0,"app-loading-spinner"),S(6,"form",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),oe(12,"Media Type :"),E(),me(13,"input",11),E()(),S(14,"div",8)(15,"div",9)(16,"label",10),oe(17,"Associated product :"),E(),S(18,"app-generic-drop-down",12),se("selectOption",function(s){return o.onSelectProduct(s)}),E(),xe(19,Gb,2,0,"span",13),E()(),S(20,"div",14),xe(21,Hb,3,1)(22,$b,4,1),E()()()()(),S(23,"div",15)(24,"app-button",16),se("handleClick",function(){return o.setMedia()}),E()()()),i&2&&(te("data",o.flashSales)("fields",o.flashSaleFormFields)("title","Flash Sale")("sortField","flashSaleName")("columns",o.flashSaleColumns),F(2),te("size","small"),F(),te("modalId","add-media-dialog")("showModal",o.showAddMediaDialog)("showFooter",!0),F(2),Pe(o.loading?5:-1),F(8),ct("value",o.selectedFlashSale.mediaType),F(5),te("options",o.allProducts)("bindLabel","productName")("bindValue","id"),F(),Pe(o.submitted&&!o.selectedProduct?19:-1),F(2),Pe(o.selectedFlashSale.mediaType=="video"?21:22))},dependencies:[Ke,mt,Jt,zi,Zt,wt,An,Rn,Mi,Os]});let e=n;return e})();var Bt="Sport E-commerce",OE=is(Be),Qb=[{path:"",component:Fc,title:`${Bt} | landing`},{path:"users",component:ef,title:`${Bt} | Users`,data:{roles:["Admin"]}},{path:"roles",component:nf,title:`${Bt} | Roles`,data:{roles:["Admin"]}},{path:"profile",component:$d,title:`${Bt} | profile`},{path:"tags",component:af,title:`${Bt} | tags`},{path:"reviews",component:cf,title:`${Bt} | Reviews`},{path:"products",component:Hd,title:`${Bt} | Products`},{path:"orders",component:Kd,title:`${Bt} | Orders`},{path:"product-categories",component:ff,title:`${Bt} | product Categories`},{path:"flash-sales",component:mf,title:`${Bt} | Flash sales`}],SE=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=qt({imports:[oa.forChild(Qb),oa]});let e=n;return e})();export{SE as PagesRoutes,Qb as routes};
